var ES=Object.defineProperty;var IS=(t,e,r)=>e in t?ES(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ve=(t,e,r)=>(IS(t,typeof e!="symbol"?e+"":e,r),r),$1=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var L=(t,e,r)=>($1(t,e,"read from private field"),r?r.call(t):e.get(t)),ye=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},se=(t,e,r,n)=>($1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var Lh=(t,e,r,n)=>({set _(a){se(t,e,a,r)},get _(){return L(t,e,n)}}),Te=(t,e,r)=>($1(t,e,"access private method"),r);function TS(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var NO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y3={exports:{}},vx={},X3={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=Symbol.for("react.element"),BS=Symbol.for("react.portal"),OS=Symbol.for("react.fragment"),DS=Symbol.for("react.strict_mode"),RS=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),MS=Symbol.for("react.context"),US=Symbol.for("react.forward_ref"),zS=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),qS=Symbol.for("react.lazy"),Gy=Symbol.iterator;function VS(t){return t===null||typeof t!="object"?null:(t=Gy&&t[Gy]||t["@@iterator"],typeof t=="function"?t:null)}var Z3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e4=Object.assign,t4={};function q0(t,e,r){this.props=t,this.context=e,this.refs=t4,this.updater=r||Z3}q0.prototype.isReactComponent={};q0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};q0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r4(){}r4.prototype=q0.prototype;function H5(t,e,r){this.props=t,this.context=e,this.refs=t4,this.updater=r||Z3}var q5=H5.prototype=new r4;q5.constructor=H5;e4(q5,q0.prototype);q5.isPureReactComponent=!0;var $y=Array.isArray,s4=Object.prototype.hasOwnProperty,V5={current:null},n4={key:!0,ref:!0,__self:!0,__source:!0};function a4(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)s4.call(e,n)&&!n4.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:fm,type:t,key:i,ref:o,props:a,_owner:V5.current}}function GS(t,e){return{$$typeof:fm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function G5(t){return typeof t=="object"&&t!==null&&t.$$typeof===fm}function $S(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Wy=/\/+/g;function W1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$S(""+t.key):e.toString(36)}function Qp(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fm:case BS:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+W1(o,0):n,$y(a)?(r="",t!=null&&(r=t.replace(Wy,"$&/")+"/"),Qp(a,e,r,"",function(u){return u})):a!=null&&(G5(a)&&(a=GS(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Wy,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",$y(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+W1(i,l);o+=Qp(i,e,r,c,a)}else if(c=VS(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+W1(i,l++),o+=Qp(i,e,r,c,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gp(t,e,r){if(t==null)return t;var n=[],a=0;return Qp(t,n,"","",function(i){return e.call(r,i,a++)}),n}function WS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qs={current:null},Jp={transition:null},QS={ReactCurrentDispatcher:qs,ReactCurrentBatchConfig:Jp,ReactCurrentOwner:V5};function i4(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:gp,forEach:function(t,e,r){gp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return gp(t,function(){e++}),e},toArray:function(t){return gp(t,function(e){return e})||[]},only:function(t){if(!G5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=q0;jt.Fragment=OS;jt.Profiler=RS;jt.PureComponent=H5;jt.StrictMode=DS;jt.Suspense=zS;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QS;jt.act=i4;jt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=e4({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=V5.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)s4.call(e,c)&&!n4.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:fm,type:t.type,key:a,ref:i,props:n,_owner:o}};jt.createContext=function(t){return t={$$typeof:MS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FS,_context:t},t.Consumer=t};jt.createElement=a4;jt.createFactory=function(t){var e=a4.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:US,render:t}};jt.isValidElement=G5;jt.lazy=function(t){return{$$typeof:qS,_payload:{_status:-1,_result:t},_init:WS}};jt.memo=function(t,e){return{$$typeof:HS,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=Jp.transition;Jp.transition={};try{t()}finally{Jp.transition=e}};jt.unstable_act=i4;jt.useCallback=function(t,e){return qs.current.useCallback(t,e)};jt.useContext=function(t){return qs.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return qs.current.useDeferredValue(t)};jt.useEffect=function(t,e){return qs.current.useEffect(t,e)};jt.useId=function(){return qs.current.useId()};jt.useImperativeHandle=function(t,e,r){return qs.current.useImperativeHandle(t,e,r)};jt.useInsertionEffect=function(t,e){return qs.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return qs.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return qs.current.useMemo(t,e)};jt.useReducer=function(t,e,r){return qs.current.useReducer(t,e,r)};jt.useRef=function(t){return qs.current.useRef(t)};jt.useState=function(t){return qs.current.useState(t)};jt.useSyncExternalStore=function(t,e,r){return qs.current.useSyncExternalStore(t,e,r)};jt.useTransition=function(){return qs.current.useTransition()};jt.version="18.3.1";X3.exports=jt;var ie=X3.exports;const mm=_S(ie),JS=TS({__proto__:null,default:mm},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=ie,YS=Symbol.for("react.element"),XS=Symbol.for("react.fragment"),ZS=Object.prototype.hasOwnProperty,e8=KS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t8={key:!0,ref:!0,__self:!0,__source:!0};function o4(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ZS.call(e,n)&&!t8.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:YS,type:t,key:i,ref:o,props:a,_owner:e8.current}}vx.Fragment=XS;vx.jsx=o4;vx.jsxs=o4;Y3.exports=vx;var s=Y3.exports,Jb={},l4={exports:{}},In={},c4={exports:{}},d4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,Q){var q=D.length;D.push(Q);e:for(;0<q;){var ee=q-1>>>1,C=D[ee];if(0<a(C,Q))D[ee]=Q,D[q]=C,q=ee;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var Q=D[0],q=D.pop();if(q!==Q){D[0]=q;e:for(var ee=0,C=D.length,G=C>>>1;ee<G;){var K=2*(ee+1)-1,te=D[K],oe=K+1,me=D[oe];if(0>a(te,q))oe<C&&0>a(me,te)?(D[ee]=me,D[oe]=q,ee=oe):(D[ee]=te,D[K]=q,ee=K);else if(oe<C&&0>a(me,q))D[ee]=me,D[oe]=q,ee=oe;else break e}}return Q}function a(D,Q){var q=D.sortIndex-Q.sortIndex;return q!==0?q:D.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,x=3,p=!1,k=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(D){for(var Q=r(u);Q!==null;){if(Q.callback===null)n(u);else if(Q.startTime<=D)n(u),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=r(u)}}function E(D){if(w=!1,A(D),!k)if(r(c)!==null)k=!0,Y(U);else{var Q=r(u);Q!==null&&z(E,Q.startTime-D)}}function U(D,Q){k=!1,w&&(w=!1,y(_),_=-1),p=!0;var q=x;try{for(A(Q),m=r(c);m!==null&&(!(m.expirationTime>Q)||D&&!P());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,x=m.priorityLevel;var C=ee(m.expirationTime<=Q);Q=t.unstable_now(),typeof C=="function"?m.callback=C:m===r(c)&&n(c),A(Q)}else n(c);m=r(c)}if(m!==null)var G=!0;else{var K=r(u);K!==null&&z(E,K.startTime-Q),G=!1}return G}finally{m=null,x=q,p=!1}}var V=!1,M=null,_=-1,$=5,J=-1;function P(){return!(t.unstable_now()-J<$)}function S(){if(M!==null){var D=t.unstable_now();J=D;var Q=!0;try{Q=M(!0,D)}finally{Q?W():(V=!1,M=null)}}else V=!1}var W;if(typeof b=="function")W=function(){b(S)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Z=R.port2;R.port1.onmessage=S,W=function(){Z.postMessage(null)}}else W=function(){N(S,0)};function Y(D){M=D,V||(V=!0,W())}function z(D,Q){_=N(function(){D(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){k||p||(k=!0,Y(U))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var q=x;x=Q;try{return D()}finally{x=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,Q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=x;x=D;try{return Q()}finally{x=q}},t.unstable_scheduleCallback=function(D,Q,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,D){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=q+C,D={id:f++,callback:Q,priorityLevel:D,startTime:q,expirationTime:C,sortIndex:-1},q>ee?(D.sortIndex=q,e(u,D),r(c)===null&&D===r(u)&&(w?(y(_),_=-1):w=!0,z(E,q-ee))):(D.sortIndex=C,e(c,D),k||p||(k=!0,Y(U))),D},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(D){var Q=x;return function(){var q=x;x=Q;try{return D.apply(this,arguments)}finally{x=q}}}})(d4);c4.exports=d4;var r8=c4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s8=ie,En=r8;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u4=new Set,ff={};function dd(t,e){C0(t,e),C0(t+"Capture",e)}function C0(t,e){for(ff[t]=e,t=0;t<e.length;t++)u4.add(e[t])}var po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kb=Object.prototype.hasOwnProperty,n8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qy={},Jy={};function a8(t){return Kb.call(Jy,t)?!0:Kb.call(Qy,t)?!1:n8.test(t)?Jy[t]=!0:(Qy[t]=!0,!1)}function i8(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function o8(t,e,r,n){if(e===null||typeof e>"u"||i8(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vs(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var us={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){us[t]=new Vs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];us[e]=new Vs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){us[t]=new Vs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){us[t]=new Vs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){us[t]=new Vs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){us[t]=new Vs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){us[t]=new Vs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){us[t]=new Vs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){us[t]=new Vs(t,5,!1,t.toLowerCase(),null,!1,!1)});var $5=/[\-:]([a-z])/g;function W5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($5,W5);us[e]=new Vs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($5,W5);us[e]=new Vs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($5,W5);us[e]=new Vs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){us[t]=new Vs(t,1,!1,t.toLowerCase(),null,!1,!1)});us.xlinkHref=new Vs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){us[t]=new Vs(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q5(t,e,r,n){var a=us.hasOwnProperty(e)?us[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(o8(e,r,a,n)&&(r=null),n||a===null?a8(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var No=s8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xp=Symbol.for("react.element"),ru=Symbol.for("react.portal"),su=Symbol.for("react.fragment"),J5=Symbol.for("react.strict_mode"),Yb=Symbol.for("react.profiler"),h4=Symbol.for("react.provider"),f4=Symbol.for("react.context"),K5=Symbol.for("react.forward_ref"),Xb=Symbol.for("react.suspense"),Zb=Symbol.for("react.suspense_list"),Y5=Symbol.for("react.memo"),Qo=Symbol.for("react.lazy"),m4=Symbol.for("react.offscreen"),Ky=Symbol.iterator;function Eh(t){return t===null||typeof t!="object"?null:(t=Ky&&t[Ky]||t["@@iterator"],typeof t=="function"?t:null)}var ur=Object.assign,Q1;function Vh(t){if(Q1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Q1=e&&e[1]||""}return`
`+Q1+t}var J1=!1;function K1(t,e){if(!t||J1)return"";J1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{J1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Vh(t):""}function l8(t){switch(t.tag){case 5:return Vh(t.type);case 16:return Vh("Lazy");case 13:return Vh("Suspense");case 19:return Vh("SuspenseList");case 0:case 2:case 15:return t=K1(t.type,!1),t;case 11:return t=K1(t.type.render,!1),t;case 1:return t=K1(t.type,!0),t;default:return""}}function e2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case su:return"Fragment";case ru:return"Portal";case Yb:return"Profiler";case J5:return"StrictMode";case Xb:return"Suspense";case Zb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f4:return(t.displayName||"Context")+".Consumer";case h4:return(t._context.displayName||"Context")+".Provider";case K5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y5:return e=t.displayName||null,e!==null?e:e2(t.type)||"Memo";case Qo:e=t._payload,t=t._init;try{return e2(t(e))}catch{}}return null}function c8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return e2(e);case 8:return e===J5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _l(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function p4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d8(t){var e=p4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bp(t){t._valueTracker||(t._valueTracker=d8(t))}function g4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=p4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function yg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function t2(t,e){var r=e.checked;return ur({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Yy(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=_l(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x4(t,e){e=e.checked,e!=null&&Q5(t,"checked",e,!1)}function r2(t,e){x4(t,e);var r=_l(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?s2(t,e.type,r):e.hasOwnProperty("defaultValue")&&s2(t,e.type,_l(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function s2(t,e,r){(e!=="number"||yg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Gh=Array.isArray;function wu(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+_l(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function n2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return ur({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zy(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Oe(92));if(Gh(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:_l(r)}}function b4(t,e){var r=_l(e.value),n=_l(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function v4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?v4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vp,y4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vp=vp||document.createElement("div"),vp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u8=["Webkit","ms","Moz","O"];Object.keys(ef).forEach(function(t){u8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ef[e]=ef[t]})});function w4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ef.hasOwnProperty(t)&&ef[t]?(""+e).trim():e+"px"}function N4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=w4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var h8=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function i2(t,e){if(e){if(h8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function o2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l2=null;function X5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var c2=null,Nu=null,ju=null;function tw(t){if(t=xm(t)){if(typeof c2!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=Ax(e),c2(t.stateNode,t.type,e))}}function j4(t){Nu?ju?ju.push(t):ju=[t]:Nu=t}function A4(){if(Nu){var t=Nu,e=ju;if(ju=Nu=null,tw(t),e)for(t=0;t<e.length;t++)tw(e[t])}}function k4(t,e){return t(e)}function S4(){}var Y1=!1;function C4(t,e,r){if(Y1)return t(e,r);Y1=!0;try{return k4(t,e,r)}finally{Y1=!1,(Nu!==null||ju!==null)&&(S4(),A4())}}function pf(t,e){var r=t.stateNode;if(r===null)return null;var n=Ax(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Oe(231,e,typeof r));return r}var d2=!1;if(po)try{var Ih={};Object.defineProperty(Ih,"passive",{get:function(){d2=!0}}),window.addEventListener("test",Ih,Ih),window.removeEventListener("test",Ih,Ih)}catch{d2=!1}function f8(t,e,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var tf=!1,wg=null,Ng=!1,u2=null,m8={onError:function(t){tf=!0,wg=t}};function p8(t,e,r,n,a,i,o,l,c){tf=!1,wg=null,f8.apply(m8,arguments)}function g8(t,e,r,n,a,i,o,l,c){if(p8.apply(this,arguments),tf){if(tf){var u=wg;tf=!1,wg=null}else throw Error(Oe(198));Ng||(Ng=!0,u2=u)}}function ud(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function P4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rw(t){if(ud(t)!==t)throw Error(Oe(188))}function x8(t){var e=t.alternate;if(!e){if(e=ud(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return rw(a),t;if(i===n)return rw(a),e;i=i.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?t:e}function L4(t){return t=x8(t),t!==null?E4(t):null}function E4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E4(t);if(e!==null)return e;t=t.sibling}return null}var I4=En.unstable_scheduleCallback,sw=En.unstable_cancelCallback,b8=En.unstable_shouldYield,v8=En.unstable_requestPaint,Sr=En.unstable_now,y8=En.unstable_getCurrentPriorityLevel,Z5=En.unstable_ImmediatePriority,T4=En.unstable_UserBlockingPriority,jg=En.unstable_NormalPriority,w8=En.unstable_LowPriority,_4=En.unstable_IdlePriority,yx=null,yi=null;function N8(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(yx,t,void 0,(t.current.flags&128)===128)}catch{}}var Oa=Math.clz32?Math.clz32:k8,j8=Math.log,A8=Math.LN2;function k8(t){return t>>>=0,t===0?32:31-(j8(t)/A8|0)|0}var yp=64,wp=4194304;function $h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ag(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=$h(l):(i&=o,i!==0&&(n=$h(i)))}else o=r&~a,o!==0?n=$h(o):i!==0&&(n=$h(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Oa(e),a=1<<r,n|=t[r],e&=~a;return n}function S8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C8(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Oa(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=S8(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function h2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function B4(){var t=yp;return yp<<=1,!(yp&4194240)&&(yp=64),t}function X1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function pm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Oa(e),t[e]=r}function P8(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Oa(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function ev(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Oa(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var qt=0;function O4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D4,tv,R4,F4,M4,f2=!1,Np=[],Nl=null,jl=null,Al=null,gf=new Map,xf=new Map,Xo=[],L8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nw(t,e){switch(t){case"focusin":case"focusout":Nl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":gf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(e.pointerId)}}function Th(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=xm(e),e!==null&&tv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function E8(t,e,r,n,a){switch(e){case"focusin":return Nl=Th(Nl,t,e,r,n,a),!0;case"dragenter":return jl=Th(jl,t,e,r,n,a),!0;case"mouseover":return Al=Th(Al,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return gf.set(i,Th(gf.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,xf.set(i,Th(xf.get(i)||null,t,e,r,n,a)),!0}return!1}function U4(t){var e=xc(t.target);if(e!==null){var r=ud(e);if(r!==null){if(e=r.tag,e===13){if(e=P4(r),e!==null){t.blockedOn=e,M4(t.priority,function(){R4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=m2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);l2=n,r.target.dispatchEvent(n),l2=null}else return e=xm(r),e!==null&&tv(e),t.blockedOn=r,!1;e.shift()}return!0}function aw(t,e,r){Kp(t)&&r.delete(e)}function I8(){f2=!1,Nl!==null&&Kp(Nl)&&(Nl=null),jl!==null&&Kp(jl)&&(jl=null),Al!==null&&Kp(Al)&&(Al=null),gf.forEach(aw),xf.forEach(aw)}function _h(t,e){t.blockedOn===e&&(t.blockedOn=null,f2||(f2=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,I8)))}function bf(t){function e(a){return _h(a,t)}if(0<Np.length){_h(Np[0],t);for(var r=1;r<Np.length;r++){var n=Np[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Nl!==null&&_h(Nl,t),jl!==null&&_h(jl,t),Al!==null&&_h(Al,t),gf.forEach(e),xf.forEach(e),r=0;r<Xo.length;r++)n=Xo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Xo.length&&(r=Xo[0],r.blockedOn===null);)U4(r),r.blockedOn===null&&Xo.shift()}var Au=No.ReactCurrentBatchConfig,kg=!0;function T8(t,e,r,n){var a=qt,i=Au.transition;Au.transition=null;try{qt=1,rv(t,e,r,n)}finally{qt=a,Au.transition=i}}function _8(t,e,r,n){var a=qt,i=Au.transition;Au.transition=null;try{qt=4,rv(t,e,r,n)}finally{qt=a,Au.transition=i}}function rv(t,e,r,n){if(kg){var a=m2(t,e,r,n);if(a===null)lb(t,e,n,Sg,r),nw(t,n);else if(E8(a,t,e,r,n))n.stopPropagation();else if(nw(t,n),e&4&&-1<L8.indexOf(t)){for(;a!==null;){var i=xm(a);if(i!==null&&D4(i),i=m2(t,e,r,n),i===null&&lb(t,e,n,Sg,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else lb(t,e,n,null,r)}}var Sg=null;function m2(t,e,r,n){if(Sg=null,t=X5(n),t=xc(t),t!==null)if(e=ud(t),e===null)t=null;else if(r=e.tag,r===13){if(t=P4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sg=t,null}function z4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(y8()){case Z5:return 1;case T4:return 4;case jg:case w8:return 16;case _4:return 536870912;default:return 16}default:return 16}}var xl=null,sv=null,Yp=null;function H4(){if(Yp)return Yp;var t,e=sv,r=e.length,n,a="value"in xl?xl.value:xl.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return Yp=a.slice(t,1<n?1-n:void 0)}function Xp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jp(){return!0}function iw(){return!1}function Tn(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jp:iw,this.isPropagationStopped=iw,this}return ur(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jp)},persist:function(){},isPersistent:jp}),e}var V0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=Tn(V0),gm=ur({},V0,{view:0,detail:0}),B8=Tn(gm),Z1,eb,Bh,wx=ur({},gm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:av,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bh&&(Bh&&t.type==="mousemove"?(Z1=t.screenX-Bh.screenX,eb=t.screenY-Bh.screenY):eb=Z1=0,Bh=t),Z1)},movementY:function(t){return"movementY"in t?t.movementY:eb}}),ow=Tn(wx),O8=ur({},wx,{dataTransfer:0}),D8=Tn(O8),R8=ur({},gm,{relatedTarget:0}),tb=Tn(R8),F8=ur({},V0,{animationName:0,elapsedTime:0,pseudoElement:0}),M8=Tn(F8),U8=ur({},V0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),z8=Tn(U8),H8=ur({},V0,{data:0}),lw=Tn(H8),q8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G8[t])?!!e[t]:!1}function av(){return $8}var W8=ur({},gm,{key:function(t){if(t.key){var e=q8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:av,charCode:function(t){return t.type==="keypress"?Xp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q8=Tn(W8),J8=ur({},wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cw=Tn(J8),K8=ur({},gm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:av}),Y8=Tn(K8),X8=ur({},V0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z8=Tn(X8),eC=ur({},wx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tC=Tn(eC),rC=[9,13,27,32],iv=po&&"CompositionEvent"in window,rf=null;po&&"documentMode"in document&&(rf=document.documentMode);var sC=po&&"TextEvent"in window&&!rf,q4=po&&(!iv||rf&&8<rf&&11>=rf),dw=String.fromCharCode(32),uw=!1;function V4(t,e){switch(t){case"keyup":return rC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nu=!1;function nC(t,e){switch(t){case"compositionend":return G4(e);case"keypress":return e.which!==32?null:(uw=!0,dw);case"textInput":return t=e.data,t===dw&&uw?null:t;default:return null}}function aC(t,e){if(nu)return t==="compositionend"||!iv&&V4(t,e)?(t=H4(),Yp=sv=xl=null,nu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q4&&e.locale!=="ko"?null:e.data;default:return null}}var iC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iC[t.type]:e==="textarea"}function $4(t,e,r,n){j4(n),e=Cg(e,"onChange"),0<e.length&&(r=new nv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var sf=null,vf=null;function oC(t){sj(t,0)}function Nx(t){var e=ou(t);if(g4(e))return t}function lC(t,e){if(t==="change")return e}var W4=!1;if(po){var rb;if(po){var sb="oninput"in document;if(!sb){var fw=document.createElement("div");fw.setAttribute("oninput","return;"),sb=typeof fw.oninput=="function"}rb=sb}else rb=!1;W4=rb&&(!document.documentMode||9<document.documentMode)}function mw(){sf&&(sf.detachEvent("onpropertychange",Q4),vf=sf=null)}function Q4(t){if(t.propertyName==="value"&&Nx(vf)){var e=[];$4(e,vf,t,X5(t)),C4(oC,e)}}function cC(t,e,r){t==="focusin"?(mw(),sf=e,vf=r,sf.attachEvent("onpropertychange",Q4)):t==="focusout"&&mw()}function dC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nx(vf)}function uC(t,e){if(t==="click")return Nx(e)}function hC(t,e){if(t==="input"||t==="change")return Nx(e)}function fC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fa=typeof Object.is=="function"?Object.is:fC;function yf(t,e){if(Fa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Kb.call(e,a)||!Fa(t[a],e[a]))return!1}return!0}function pw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gw(t,e){var r=pw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pw(r)}}function J4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K4(){for(var t=window,e=yg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=yg(t.document)}return e}function ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mC(t){var e=K4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&J4(r.ownerDocument.documentElement,r)){if(n!==null&&ov(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=gw(r,i);var o=gw(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pC=po&&"documentMode"in document&&11>=document.documentMode,au=null,p2=null,nf=null,g2=!1;function xw(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;g2||au==null||au!==yg(n)||(n=au,"selectionStart"in n&&ov(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nf&&yf(nf,n)||(nf=n,n=Cg(p2,"onSelect"),0<n.length&&(e=new nv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=au)))}function Ap(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var iu={animationend:Ap("Animation","AnimationEnd"),animationiteration:Ap("Animation","AnimationIteration"),animationstart:Ap("Animation","AnimationStart"),transitionend:Ap("Transition","TransitionEnd")},nb={},Y4={};po&&(Y4=document.createElement("div").style,"AnimationEvent"in window||(delete iu.animationend.animation,delete iu.animationiteration.animation,delete iu.animationstart.animation),"TransitionEvent"in window||delete iu.transitionend.transition);function jx(t){if(nb[t])return nb[t];if(!iu[t])return t;var e=iu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Y4)return nb[t]=e[r];return t}var X4=jx("animationend"),Z4=jx("animationiteration"),ej=jx("animationstart"),tj=jx("transitionend"),rj=new Map,bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ul(t,e){rj.set(t,e),dd(e,[t])}for(var ab=0;ab<bw.length;ab++){var ib=bw[ab],gC=ib.toLowerCase(),xC=ib[0].toUpperCase()+ib.slice(1);Ul(gC,"on"+xC)}Ul(X4,"onAnimationEnd");Ul(Z4,"onAnimationIteration");Ul(ej,"onAnimationStart");Ul("dblclick","onDoubleClick");Ul("focusin","onFocus");Ul("focusout","onBlur");Ul(tj,"onTransitionEnd");C0("onMouseEnter",["mouseout","mouseover"]);C0("onMouseLeave",["mouseout","mouseover"]);C0("onPointerEnter",["pointerout","pointerover"]);C0("onPointerLeave",["pointerout","pointerover"]);dd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dd("onBeforeInput",["compositionend","keypress","textInput","paste"]);dd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wh));function vw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,g8(n,e,void 0,t),t.currentTarget=null}function sj(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;vw(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;vw(a,l,u),i=c}}}if(Ng)throw t=u2,Ng=!1,u2=null,t}function tr(t,e){var r=e[w2];r===void 0&&(r=e[w2]=new Set);var n=t+"__bubble";r.has(n)||(nj(e,t,2,!1),r.add(n))}function ob(t,e,r){var n=0;e&&(n|=4),nj(r,t,n,e)}var kp="_reactListening"+Math.random().toString(36).slice(2);function wf(t){if(!t[kp]){t[kp]=!0,u4.forEach(function(r){r!=="selectionchange"&&(bC.has(r)||ob(r,!1,t),ob(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kp]||(e[kp]=!0,ob("selectionchange",!1,e))}}function nj(t,e,r,n){switch(z4(e)){case 1:var a=T8;break;case 4:a=_8;break;default:a=rv}r=a.bind(null,e,r,t),a=void 0,!d2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function lb(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=xc(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}C4(function(){var u=i,f=X5(r),m=[];e:{var x=rj.get(t);if(x!==void 0){var p=nv,k=t;switch(t){case"keypress":if(Xp(r)===0)break e;case"keydown":case"keyup":p=Q8;break;case"focusin":k="focus",p=tb;break;case"focusout":k="blur",p=tb;break;case"beforeblur":case"afterblur":p=tb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ow;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=D8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Y8;break;case X4:case Z4:case ej:p=M8;break;case tj:p=Z8;break;case"scroll":p=B8;break;case"wheel":p=tC;break;case"copy":case"cut":case"paste":p=z8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cw}var w=(e&4)!==0,N=!w&&t==="scroll",y=w?x!==null?x+"Capture":null:x;w=[];for(var b=u,A;b!==null;){A=b;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,y!==null&&(E=pf(b,y),E!=null&&w.push(Nf(b,E,A)))),N)break;b=b.return}0<w.length&&(x=new p(x,k,null,r,f),m.push({event:x,listeners:w}))}}if(!(e&7)){e:{if(x=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",x&&r!==l2&&(k=r.relatedTarget||r.fromElement)&&(xc(k)||k[go]))break e;if((p||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,p?(k=r.relatedTarget||r.toElement,p=u,k=k?xc(k):null,k!==null&&(N=ud(k),k!==N||k.tag!==5&&k.tag!==6)&&(k=null)):(p=null,k=u),p!==k)){if(w=ow,E="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=cw,E="onPointerLeave",y="onPointerEnter",b="pointer"),N=p==null?x:ou(p),A=k==null?x:ou(k),x=new w(E,b+"leave",p,r,f),x.target=N,x.relatedTarget=A,E=null,xc(f)===u&&(w=new w(y,b+"enter",k,r,f),w.target=A,w.relatedTarget=N,E=w),N=E,p&&k)t:{for(w=p,y=k,b=0,A=w;A;A=Vd(A))b++;for(A=0,E=y;E;E=Vd(E))A++;for(;0<b-A;)w=Vd(w),b--;for(;0<A-b;)y=Vd(y),A--;for(;b--;){if(w===y||y!==null&&w===y.alternate)break t;w=Vd(w),y=Vd(y)}w=null}else w=null;p!==null&&yw(m,x,p,w,!1),k!==null&&N!==null&&yw(m,N,k,w,!0)}}e:{if(x=u?ou(u):window,p=x.nodeName&&x.nodeName.toLowerCase(),p==="select"||p==="input"&&x.type==="file")var U=lC;else if(hw(x))if(W4)U=hC;else{U=dC;var V=cC}else(p=x.nodeName)&&p.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(U=uC);if(U&&(U=U(t,u))){$4(m,U,r,f);break e}V&&V(t,x,u),t==="focusout"&&(V=x._wrapperState)&&V.controlled&&x.type==="number"&&s2(x,"number",x.value)}switch(V=u?ou(u):window,t){case"focusin":(hw(V)||V.contentEditable==="true")&&(au=V,p2=u,nf=null);break;case"focusout":nf=p2=au=null;break;case"mousedown":g2=!0;break;case"contextmenu":case"mouseup":case"dragend":g2=!1,xw(m,r,f);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":xw(m,r,f)}var M;if(iv)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else nu?V4(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(q4&&r.locale!=="ko"&&(nu||_!=="onCompositionStart"?_==="onCompositionEnd"&&nu&&(M=H4()):(xl=f,sv="value"in xl?xl.value:xl.textContent,nu=!0)),V=Cg(u,_),0<V.length&&(_=new lw(_,t,null,r,f),m.push({event:_,listeners:V}),M?_.data=M:(M=G4(r),M!==null&&(_.data=M)))),(M=sC?nC(t,r):aC(t,r))&&(u=Cg(u,"onBeforeInput"),0<u.length&&(f=new lw("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:u}),f.data=M))}sj(m,e)})}function Nf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Cg(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=pf(t,r),i!=null&&n.unshift(Nf(t,i,a)),i=pf(t,e),i!=null&&n.push(Nf(t,i,a))),t=t.return}return n}function Vd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yw(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=pf(r,i),c!=null&&o.unshift(Nf(r,c,l))):a||(c=pf(r,i),c!=null&&o.push(Nf(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var vC=/\r\n?/g,yC=/\u0000|\uFFFD/g;function ww(t){return(typeof t=="string"?t:""+t).replace(vC,`
`).replace(yC,"")}function Sp(t,e,r){if(e=ww(e),ww(t)!==e&&r)throw Error(Oe(425))}function Pg(){}var x2=null,b2=null;function v2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var y2=typeof setTimeout=="function"?setTimeout:void 0,wC=typeof clearTimeout=="function"?clearTimeout:void 0,Nw=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof Nw<"u"?function(t){return Nw.resolve(null).then(t).catch(jC)}:y2;function jC(t){setTimeout(function(){throw t})}function cb(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),bf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);bf(e)}function kl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var G0=Math.random().toString(36).slice(2),mi="__reactFiber$"+G0,jf="__reactProps$"+G0,go="__reactContainer$"+G0,w2="__reactEvents$"+G0,AC="__reactListeners$"+G0,kC="__reactHandles$"+G0;function xc(t){var e=t[mi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[go]||r[mi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jw(t);t!==null;){if(r=t[mi])return r;t=jw(t)}return e}t=r,r=t.parentNode}return null}function xm(t){return t=t[mi]||t[go],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ou(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function Ax(t){return t[jf]||null}var N2=[],lu=-1;function zl(t){return{current:t}}function sr(t){0>lu||(t.current=N2[lu],N2[lu]=null,lu--)}function Zt(t,e){lu++,N2[lu]=t.current,t.current=e}var Bl={},Ls=zl(Bl),ln=zl(!1),Zc=Bl;function P0(t,e){var r=t.type.contextTypes;if(!r)return Bl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function cn(t){return t=t.childContextTypes,t!=null}function Lg(){sr(ln),sr(Ls)}function Aw(t,e,r){if(Ls.current!==Bl)throw Error(Oe(168));Zt(Ls,e),Zt(ln,r)}function aj(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(Oe(108,c8(t)||"Unknown",a));return ur({},r,n)}function Eg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bl,Zc=Ls.current,Zt(Ls,t),Zt(ln,ln.current),!0}function kw(t,e,r){var n=t.stateNode;if(!n)throw Error(Oe(169));r?(t=aj(t,e,Zc),n.__reactInternalMemoizedMergedChildContext=t,sr(ln),sr(Ls),Zt(Ls,t)):sr(ln),Zt(ln,r)}var Gi=null,kx=!1,db=!1;function ij(t){Gi===null?Gi=[t]:Gi.push(t)}function SC(t){kx=!0,ij(t)}function Hl(){if(!db&&Gi!==null){db=!0;var t=0,e=qt;try{var r=Gi;for(qt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Gi=null,kx=!1}catch(a){throw Gi!==null&&(Gi=Gi.slice(t+1)),I4(Z5,Hl),a}finally{qt=e,db=!1}}return null}var cu=[],du=0,Ig=null,Tg=0,Jn=[],Kn=0,ed=null,oo=1,lo="";function ic(t,e){cu[du++]=Tg,cu[du++]=Ig,Ig=t,Tg=e}function oj(t,e,r){Jn[Kn++]=oo,Jn[Kn++]=lo,Jn[Kn++]=ed,ed=t;var n=oo;t=lo;var a=32-Oa(n)-1;n&=~(1<<a),r+=1;var i=32-Oa(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,oo=1<<32-Oa(e)+a|r<<a|n,lo=i+t}else oo=1<<i|r<<a|n,lo=t}function lv(t){t.return!==null&&(ic(t,1),oj(t,1,0))}function cv(t){for(;t===Ig;)Ig=cu[--du],cu[du]=null,Tg=cu[--du],cu[du]=null;for(;t===ed;)ed=Jn[--Kn],Jn[Kn]=null,lo=Jn[--Kn],Jn[Kn]=null,oo=Jn[--Kn],Jn[Kn]=null}var Ln=null,Sn=null,ir=!1,Ia=null;function lj(t,e){var r=Yn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Sw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Sn=kl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ed!==null?{id:oo,overflow:lo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Yn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ln=t,Sn=null,!0):!1;default:return!1}}function j2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function A2(t){if(ir){var e=Sn;if(e){var r=e;if(!Sw(t,e)){if(j2(t))throw Error(Oe(418));e=kl(r.nextSibling);var n=Ln;e&&Sw(t,e)?lj(n,r):(t.flags=t.flags&-4097|2,ir=!1,Ln=t)}}else{if(j2(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,ir=!1,Ln=t}}}function Cw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Cp(t){if(t!==Ln)return!1;if(!ir)return Cw(t),ir=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!v2(t.type,t.memoizedProps)),e&&(e=Sn)){if(j2(t))throw cj(),Error(Oe(418));for(;e;)lj(t,e),e=kl(e.nextSibling)}if(Cw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Sn=kl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=Ln?kl(t.stateNode.nextSibling):null;return!0}function cj(){for(var t=Sn;t;)t=kl(t.nextSibling)}function L0(){Sn=Ln=null,ir=!1}function dv(t){Ia===null?Ia=[t]:Ia.push(t)}var CC=No.ReactCurrentBatchConfig;function Oh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,t))}return t}function Pp(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pw(t){var e=t._init;return e(t._payload)}function dj(t){function e(y,b){if(t){var A=y.deletions;A===null?(y.deletions=[b],y.flags|=16):A.push(b)}}function r(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Ll(y,b),y.index=0,y.sibling=null,y}function i(y,b,A){return y.index=A,t?(A=y.alternate,A!==null?(A=A.index,A<b?(y.flags|=2,b):A):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,b,A,E){return b===null||b.tag!==6?(b=xb(A,y.mode,E),b.return=y,b):(b=a(b,A),b.return=y,b)}function c(y,b,A,E){var U=A.type;return U===su?f(y,b,A.props.children,E,A.key):b!==null&&(b.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Qo&&Pw(U)===b.type)?(E=a(b,A.props),E.ref=Oh(y,b,A),E.return=y,E):(E=ag(A.type,A.key,A.props,null,y.mode,E),E.ref=Oh(y,b,A),E.return=y,E)}function u(y,b,A,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=bb(A,y.mode,E),b.return=y,b):(b=a(b,A.children||[]),b.return=y,b)}function f(y,b,A,E,U){return b===null||b.tag!==7?(b=Wc(A,y.mode,E,U),b.return=y,b):(b=a(b,A),b.return=y,b)}function m(y,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return b=xb(""+b,y.mode,A),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xp:return A=ag(b.type,b.key,b.props,null,y.mode,A),A.ref=Oh(y,null,b),A.return=y,A;case ru:return b=bb(b,y.mode,A),b.return=y,b;case Qo:var E=b._init;return m(y,E(b._payload),A)}if(Gh(b)||Eh(b))return b=Wc(b,y.mode,A,null),b.return=y,b;Pp(y,b)}return null}function x(y,b,A,E){var U=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return U!==null?null:l(y,b,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case xp:return A.key===U?c(y,b,A,E):null;case ru:return A.key===U?u(y,b,A,E):null;case Qo:return U=A._init,x(y,b,U(A._payload),E)}if(Gh(A)||Eh(A))return U!==null?null:f(y,b,A,E,null);Pp(y,A)}return null}function p(y,b,A,E,U){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(A)||null,l(b,y,""+E,U);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xp:return y=y.get(E.key===null?A:E.key)||null,c(b,y,E,U);case ru:return y=y.get(E.key===null?A:E.key)||null,u(b,y,E,U);case Qo:var V=E._init;return p(y,b,A,V(E._payload),U)}if(Gh(E)||Eh(E))return y=y.get(A)||null,f(b,y,E,U,null);Pp(b,E)}return null}function k(y,b,A,E){for(var U=null,V=null,M=b,_=b=0,$=null;M!==null&&_<A.length;_++){M.index>_?($=M,M=null):$=M.sibling;var J=x(y,M,A[_],E);if(J===null){M===null&&(M=$);break}t&&M&&J.alternate===null&&e(y,M),b=i(J,b,_),V===null?U=J:V.sibling=J,V=J,M=$}if(_===A.length)return r(y,M),ir&&ic(y,_),U;if(M===null){for(;_<A.length;_++)M=m(y,A[_],E),M!==null&&(b=i(M,b,_),V===null?U=M:V.sibling=M,V=M);return ir&&ic(y,_),U}for(M=n(y,M);_<A.length;_++)$=p(M,y,_,A[_],E),$!==null&&(t&&$.alternate!==null&&M.delete($.key===null?_:$.key),b=i($,b,_),V===null?U=$:V.sibling=$,V=$);return t&&M.forEach(function(P){return e(y,P)}),ir&&ic(y,_),U}function w(y,b,A,E){var U=Eh(A);if(typeof U!="function")throw Error(Oe(150));if(A=U.call(A),A==null)throw Error(Oe(151));for(var V=U=null,M=b,_=b=0,$=null,J=A.next();M!==null&&!J.done;_++,J=A.next()){M.index>_?($=M,M=null):$=M.sibling;var P=x(y,M,J.value,E);if(P===null){M===null&&(M=$);break}t&&M&&P.alternate===null&&e(y,M),b=i(P,b,_),V===null?U=P:V.sibling=P,V=P,M=$}if(J.done)return r(y,M),ir&&ic(y,_),U;if(M===null){for(;!J.done;_++,J=A.next())J=m(y,J.value,E),J!==null&&(b=i(J,b,_),V===null?U=J:V.sibling=J,V=J);return ir&&ic(y,_),U}for(M=n(y,M);!J.done;_++,J=A.next())J=p(M,y,_,J.value,E),J!==null&&(t&&J.alternate!==null&&M.delete(J.key===null?_:J.key),b=i(J,b,_),V===null?U=J:V.sibling=J,V=J);return t&&M.forEach(function(S){return e(y,S)}),ir&&ic(y,_),U}function N(y,b,A,E){if(typeof A=="object"&&A!==null&&A.type===su&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case xp:e:{for(var U=A.key,V=b;V!==null;){if(V.key===U){if(U=A.type,U===su){if(V.tag===7){r(y,V.sibling),b=a(V,A.props.children),b.return=y,y=b;break e}}else if(V.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Qo&&Pw(U)===V.type){r(y,V.sibling),b=a(V,A.props),b.ref=Oh(y,V,A),b.return=y,y=b;break e}r(y,V);break}else e(y,V);V=V.sibling}A.type===su?(b=Wc(A.props.children,y.mode,E,A.key),b.return=y,y=b):(E=ag(A.type,A.key,A.props,null,y.mode,E),E.ref=Oh(y,b,A),E.return=y,y=E)}return o(y);case ru:e:{for(V=A.key;b!==null;){if(b.key===V)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){r(y,b.sibling),b=a(b,A.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else e(y,b);b=b.sibling}b=bb(A,y.mode,E),b.return=y,y=b}return o(y);case Qo:return V=A._init,N(y,b,V(A._payload),E)}if(Gh(A))return k(y,b,A,E);if(Eh(A))return w(y,b,A,E);Pp(y,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,A),b.return=y,y=b):(r(y,b),b=xb(A,y.mode,E),b.return=y,y=b),o(y)):r(y,b)}return N}var E0=dj(!0),uj=dj(!1),_g=zl(null),Bg=null,uu=null,uv=null;function hv(){uv=uu=Bg=null}function fv(t){var e=_g.current;sr(_g),t._currentValue=e}function k2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ku(t,e){Bg=t,uv=uu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function ta(t){var e=t._currentValue;if(uv!==t)if(t={context:t,memoizedValue:e,next:null},uu===null){if(Bg===null)throw Error(Oe(308));uu=t,Bg.dependencies={lanes:0,firstContext:t}}else uu=uu.next=t;return e}var bc=null;function mv(t){bc===null?bc=[t]:bc.push(t)}function hj(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,mv(e)):(r.next=a.next,a.next=r),e.interleaved=r,xo(t,n)}function xo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Jo=!1;function pv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fj(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function uo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,xo(t,r)}return a=n.interleaved,a===null?(e.next=e,mv(n)):(e.next=a.next,a.next=e),n.interleaved=e,xo(t,r)}function Zp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ev(t,r)}}function Lw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Og(t,e,r,n){var a=t.updateQueue;Jo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;o=0,f=u=c=null,l=i;do{var x=l.lane,p=l.eventTime;if((n&x)===x){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,w=l;switch(x=e,p=r,w.tag){case 1:if(k=w.payload,typeof k=="function"){m=k.call(p,m,x);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,x=typeof k=="function"?k.call(p,m,x):k,x==null)break e;m=ur({},m,x);break e;case 2:Jo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,x=a.effects,x===null?a.effects=[l]:x.push(l))}else p={eventTime:p,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=m):f=f.next=p,o|=x;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;x=l,l=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(1);if(f===null&&(c=m),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=f,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);rd|=o,t.lanes=o,t.memoizedState=m}}function Ew(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Oe(191,a));a.call(n)}}}var bm={},wi=zl(bm),Af=zl(bm),kf=zl(bm);function vc(t){if(t===bm)throw Error(Oe(174));return t}function gv(t,e){switch(Zt(kf,e),Zt(Af,t),Zt(wi,bm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:a2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=a2(e,t)}sr(wi),Zt(wi,e)}function I0(){sr(wi),sr(Af),sr(kf)}function mj(t){vc(kf.current);var e=vc(wi.current),r=a2(e,t.type);e!==r&&(Zt(Af,t),Zt(wi,r))}function xv(t){Af.current===t&&(sr(wi),sr(Af))}var lr=zl(0);function Dg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ub=[];function bv(){for(var t=0;t<ub.length;t++)ub[t]._workInProgressVersionPrimary=null;ub.length=0}var eg=No.ReactCurrentDispatcher,hb=No.ReactCurrentBatchConfig,td=0,dr=null,Ur=null,Wr=null,Rg=!1,af=!1,Sf=0,PC=0;function ps(){throw Error(Oe(321))}function vv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Fa(t[r],e[r]))return!1;return!0}function yv(t,e,r,n,a,i){if(td=i,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eg.current=t===null||t.memoizedState===null?TC:_C,t=r(n,a),af){i=0;do{if(af=!1,Sf=0,25<=i)throw Error(Oe(301));i+=1,Wr=Ur=null,e.updateQueue=null,eg.current=BC,t=r(n,a)}while(af)}if(eg.current=Fg,e=Ur!==null&&Ur.next!==null,td=0,Wr=Ur=dr=null,Rg=!1,e)throw Error(Oe(300));return t}function wv(){var t=Sf!==0;return Sf=0,t}function si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?dr.memoizedState=Wr=t:Wr=Wr.next=t,Wr}function ra(){if(Ur===null){var t=dr.alternate;t=t!==null?t.memoizedState:null}else t=Ur.next;var e=Wr===null?dr.memoizedState:Wr.next;if(e!==null)Wr=e,Ur=t;else{if(t===null)throw Error(Oe(310));Ur=t,t={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},Wr===null?dr.memoizedState=Wr=t:Wr=Wr.next=t}return Wr}function Cf(t,e){return typeof e=="function"?e(t):e}function fb(t){var e=ra(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=Ur,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((td&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,dr.lanes|=f,rd|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Fa(n,e.memoizedState)||(sn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,dr.lanes|=i,rd|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function mb(t){var e=ra(),r=e.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);Fa(i,e.memoizedState)||(sn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function pj(){}function gj(t,e){var r=dr,n=ra(),a=e(),i=!Fa(n.memoizedState,a);if(i&&(n.memoizedState=a,sn=!0),n=n.queue,Nv(vj.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Wr!==null&&Wr.memoizedState.tag&1){if(r.flags|=2048,Pf(9,bj.bind(null,r,n,a,e),void 0,null),Xr===null)throw Error(Oe(349));td&30||xj(r,e,a)}return a}function xj(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function bj(t,e,r,n){e.value=r,e.getSnapshot=n,yj(e)&&wj(t)}function vj(t,e,r){return r(function(){yj(e)&&wj(t)})}function yj(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Fa(t,r)}catch{return!0}}function wj(t){var e=xo(t,1);e!==null&&Da(e,t,1,-1)}function Iw(t){var e=si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:t},e.queue=t,t=t.dispatch=IC.bind(null,dr,t),[e.memoizedState,t]}function Pf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Nj(){return ra().memoizedState}function tg(t,e,r,n){var a=si();dr.flags|=t,a.memoizedState=Pf(1|e,r,void 0,n===void 0?null:n)}function Sx(t,e,r,n){var a=ra();n=n===void 0?null:n;var i=void 0;if(Ur!==null){var o=Ur.memoizedState;if(i=o.destroy,n!==null&&vv(n,o.deps)){a.memoizedState=Pf(e,r,i,n);return}}dr.flags|=t,a.memoizedState=Pf(1|e,r,i,n)}function Tw(t,e){return tg(8390656,8,t,e)}function Nv(t,e){return Sx(2048,8,t,e)}function jj(t,e){return Sx(4,2,t,e)}function Aj(t,e){return Sx(4,4,t,e)}function kj(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sj(t,e,r){return r=r!=null?r.concat([t]):null,Sx(4,4,kj.bind(null,e,t),r)}function jv(){}function Cj(t,e){var r=ra();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Pj(t,e){var r=ra();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Lj(t,e,r){return td&21?(Fa(r,e)||(r=B4(),dr.lanes|=r,rd|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=r)}function LC(t,e){var r=qt;qt=r!==0&&4>r?r:4,t(!0);var n=hb.transition;hb.transition={};try{t(!1),e()}finally{qt=r,hb.transition=n}}function Ej(){return ra().memoizedState}function EC(t,e,r){var n=Pl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ij(t))Tj(e,r);else if(r=hj(t,e,r,n),r!==null){var a=Hs();Da(r,t,n,a),_j(r,e,n)}}function IC(t,e,r){var n=Pl(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ij(t))Tj(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Fa(l,o)){var c=e.interleaved;c===null?(a.next=a,mv(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=hj(t,e,a,n),r!==null&&(a=Hs(),Da(r,t,n,a),_j(r,e,n))}}function Ij(t){var e=t.alternate;return t===dr||e!==null&&e===dr}function Tj(t,e){af=Rg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function _j(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ev(t,r)}}var Fg={readContext:ta,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},TC={readContext:ta,useCallback:function(t,e){return si().memoizedState=[t,e===void 0?null:e],t},useContext:ta,useEffect:Tw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,tg(4194308,4,kj.bind(null,e,t),r)},useLayoutEffect:function(t,e){return tg(4194308,4,t,e)},useInsertionEffect:function(t,e){return tg(4,2,t,e)},useMemo:function(t,e){var r=si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=EC.bind(null,dr,t),[n.memoizedState,t]},useRef:function(t){var e=si();return t={current:t},e.memoizedState=t},useState:Iw,useDebugValue:jv,useDeferredValue:function(t){return si().memoizedState=t},useTransition:function(){var t=Iw(!1),e=t[0];return t=LC.bind(null,t[1]),si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=dr,a=si();if(ir){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=e(),Xr===null)throw Error(Oe(349));td&30||xj(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,Tw(vj.bind(null,n,i,t),[t]),n.flags|=2048,Pf(9,bj.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=si(),e=Xr.identifierPrefix;if(ir){var r=lo,n=oo;r=(n&~(1<<32-Oa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Sf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=PC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_C={readContext:ta,useCallback:Cj,useContext:ta,useEffect:Nv,useImperativeHandle:Sj,useInsertionEffect:jj,useLayoutEffect:Aj,useMemo:Pj,useReducer:fb,useRef:Nj,useState:function(){return fb(Cf)},useDebugValue:jv,useDeferredValue:function(t){var e=ra();return Lj(e,Ur.memoizedState,t)},useTransition:function(){var t=fb(Cf)[0],e=ra().memoizedState;return[t,e]},useMutableSource:pj,useSyncExternalStore:gj,useId:Ej,unstable_isNewReconciler:!1},BC={readContext:ta,useCallback:Cj,useContext:ta,useEffect:Nv,useImperativeHandle:Sj,useInsertionEffect:jj,useLayoutEffect:Aj,useMemo:Pj,useReducer:mb,useRef:Nj,useState:function(){return mb(Cf)},useDebugValue:jv,useDeferredValue:function(t){var e=ra();return Ur===null?e.memoizedState=t:Lj(e,Ur.memoizedState,t)},useTransition:function(){var t=mb(Cf)[0],e=ra().memoizedState;return[t,e]},useMutableSource:pj,useSyncExternalStore:gj,useId:Ej,unstable_isNewReconciler:!1};function ya(t,e){if(t&&t.defaultProps){e=ur({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function S2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ur({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cx={isMounted:function(t){return(t=t._reactInternals)?ud(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Hs(),a=Pl(t),i=uo(n,a);i.payload=e,r!=null&&(i.callback=r),e=Sl(t,i,a),e!==null&&(Da(e,t,a,n),Zp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Hs(),a=Pl(t),i=uo(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Sl(t,i,a),e!==null&&(Da(e,t,a,n),Zp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Hs(),n=Pl(t),a=uo(r,n);a.tag=2,e!=null&&(a.callback=e),e=Sl(t,a,n),e!==null&&(Da(e,t,n,r),Zp(e,t,n))}};function _w(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!yf(r,n)||!yf(a,i):!0}function Bj(t,e,r){var n=!1,a=Bl,i=e.contextType;return typeof i=="object"&&i!==null?i=ta(i):(a=cn(e)?Zc:Ls.current,n=e.contextTypes,i=(n=n!=null)?P0(t,a):Bl),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Cx.enqueueReplaceState(e,e.state,null)}function C2(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},pv(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=ta(i):(i=cn(e)?Zc:Ls.current,a.context=P0(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(S2(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Cx.enqueueReplaceState(a,a.state,null),Og(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function T0(t,e){try{var r="",n=e;do r+=l8(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function pb(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function P2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var OC=typeof WeakMap=="function"?WeakMap:Map;function Oj(t,e,r){r=uo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ug||(Ug=!0,F2=n),P2(t,e)},r}function Dj(t,e,r){r=uo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){P2(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){P2(t,e),typeof n!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ow(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new OC;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=JC.bind(null,t,e,r),e.then(t,t))}function Dw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rw(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=uo(-1,1),e.tag=2,Sl(r,e,1))),r.lanes|=1),t)}var DC=No.ReactCurrentOwner,sn=!1;function Ds(t,e,r,n){e.child=t===null?uj(e,null,r,n):E0(e,t.child,r,n)}function Fw(t,e,r,n,a){r=r.render;var i=e.ref;return ku(e,a),n=yv(t,e,r,n,i,a),r=wv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,bo(t,e,a)):(ir&&r&&lv(e),e.flags|=1,Ds(t,e,n,a),e.child)}function Mw(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Iv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Rj(t,e,i,n,a)):(t=ag(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:yf,r(o,n)&&t.ref===e.ref)return bo(t,e,a)}return e.flags|=1,t=Ll(i,n),t.ref=e.ref,t.return=e,e.child=t}function Rj(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(yf(i,n)&&t.ref===e.ref)if(sn=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,bo(t,e,a)}return L2(t,e,r,n,a)}function Fj(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(fu,kn),kn|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zt(fu,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Zt(fu,kn),kn|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Zt(fu,kn),kn|=n;return Ds(t,e,a,r),e.child}function Mj(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function L2(t,e,r,n,a){var i=cn(r)?Zc:Ls.current;return i=P0(e,i),ku(e,a),r=yv(t,e,r,n,i,a),n=wv(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,bo(t,e,a)):(ir&&n&&lv(e),e.flags|=1,Ds(t,e,r,a),e.child)}function Uw(t,e,r,n,a){if(cn(r)){var i=!0;Eg(e)}else i=!1;if(ku(e,a),e.stateNode===null)rg(t,e),Bj(e,r,n),C2(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ta(u):(u=cn(r)?Zc:Ls.current,u=P0(e,u));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Bw(e,o,n,u),Jo=!1;var x=e.memoizedState;o.state=x,Og(e,n,o,a),c=e.memoizedState,l!==n||x!==c||ln.current||Jo?(typeof f=="function"&&(S2(e,r,f,n),c=e.memoizedState),(l=Jo||_w(e,r,l,n,x,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,fj(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ya(e.type,l),o.props=u,m=e.pendingProps,x=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ta(c):(c=cn(r)?Zc:Ls.current,c=P0(e,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||x!==c)&&Bw(e,o,n,c),Jo=!1,x=e.memoizedState,o.state=x,Og(e,n,o,a);var k=e.memoizedState;l!==m||x!==k||ln.current||Jo?(typeof p=="function"&&(S2(e,r,p,n),k=e.memoizedState),(u=Jo||_w(e,r,u,n,x,k,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,k,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,k,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=k),o.props=n,o.state=k,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),n=!1)}return E2(t,e,r,n,i,a)}function E2(t,e,r,n,a,i){Mj(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&kw(e,r,!1),bo(t,e,i);n=e.stateNode,DC.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=E0(e,t.child,null,i),e.child=E0(e,null,l,i)):Ds(t,e,l,i),e.memoizedState=n.state,a&&kw(e,r,!0),e.child}function Uj(t){var e=t.stateNode;e.pendingContext?Aw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Aw(t,e.context,!1),gv(t,e.containerInfo)}function zw(t,e,r,n,a){return L0(),dv(a),e.flags|=256,Ds(t,e,r,n),e.child}var I2={dehydrated:null,treeContext:null,retryLane:0};function T2(t){return{baseLanes:t,cachePool:null,transitions:null}}function zj(t,e,r){var n=e.pendingProps,a=lr.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Zt(lr,a&1),t===null)return A2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ex(o,n,0,null),t=Wc(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=T2(r),e.memoizedState=I2,t):Av(e,o));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return RC(t,e,o,n,l,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ll(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ll(l,i):(i=Wc(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?T2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=I2,n}return i=t.child,t=i.sibling,n=Ll(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Av(t,e){return e=Ex({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lp(t,e,r,n){return n!==null&&dv(n),E0(e,t.child,null,r),t=Av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RC(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=pb(Error(Oe(422))),Lp(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=Ex({mode:"visible",children:n.children},a,0,null),i=Wc(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&E0(e,t.child,null,o),e.child.memoizedState=T2(o),e.memoizedState=I2,i);if(!(e.mode&1))return Lp(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Oe(419)),n=pb(i,n,void 0),Lp(t,e,o,n)}if(l=(o&t.childLanes)!==0,sn||l){if(n=Xr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,xo(t,a),Da(n,t,a,-1))}return Ev(),n=pb(Error(Oe(421))),Lp(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=KC.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,Sn=kl(a.nextSibling),Ln=e,ir=!0,Ia=null,t!==null&&(Jn[Kn++]=oo,Jn[Kn++]=lo,Jn[Kn++]=ed,oo=t.id,lo=t.overflow,ed=e),e=Av(e,n.children),e.flags|=4096,e)}function Hw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),k2(t.return,e,r)}function gb(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Hj(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Ds(t,e,n.children,r),n=lr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hw(t,r,e);else if(t.tag===19)Hw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Zt(lr,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Dg(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),gb(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Dg(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}gb(e,!0,r,null,i);break;case"together":gb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),rd|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,r=Ll(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ll(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function FC(t,e,r){switch(e.tag){case 3:Uj(e),L0();break;case 5:mj(e);break;case 1:cn(e.type)&&Eg(e);break;case 4:gv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Zt(_g,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Zt(lr,lr.current&1),e.flags|=128,null):r&e.child.childLanes?zj(t,e,r):(Zt(lr,lr.current&1),t=bo(t,e,r),t!==null?t.sibling:null);Zt(lr,lr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Hj(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Zt(lr,lr.current),n)break;return null;case 22:case 23:return e.lanes=0,Fj(t,e,r)}return bo(t,e,r)}var qj,_2,Vj,Gj;qj=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_2=function(){};Vj=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,vc(wi.current);var i=null;switch(r){case"input":a=t2(t,a),n=t2(t,n),i=[];break;case"select":a=ur({},a,{value:void 0}),n=ur({},n,{value:void 0}),i=[];break;case"textarea":a=n2(t,a),n=n2(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pg)}i2(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ff.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ff.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&tr("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Gj=function(t,e,r,n){r!==n&&(e.flags|=4)};function Dh(t,e){if(!ir)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function gs(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function MC(t,e,r){var n=e.pendingProps;switch(cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(e),null;case 1:return cn(e.type)&&Lg(),gs(e),null;case 3:return n=e.stateNode,I0(),sr(ln),sr(Ls),bv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Cp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ia!==null&&(z2(Ia),Ia=null))),_2(t,e),gs(e),null;case 5:xv(e);var a=vc(kf.current);if(r=e.type,t!==null&&e.stateNode!=null)Vj(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Oe(166));return gs(e),null}if(t=vc(wi.current),Cp(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[mi]=e,n[jf]=i,t=(e.mode&1)!==0,r){case"dialog":tr("cancel",n),tr("close",n);break;case"iframe":case"object":case"embed":tr("load",n);break;case"video":case"audio":for(a=0;a<Wh.length;a++)tr(Wh[a],n);break;case"source":tr("error",n);break;case"img":case"image":case"link":tr("error",n),tr("load",n);break;case"details":tr("toggle",n);break;case"input":Yy(n,i),tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},tr("invalid",n);break;case"textarea":Zy(n,i),tr("invalid",n)}i2(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Sp(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Sp(n.textContent,l,t),a=["children",""+l]):ff.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&tr("scroll",n)}switch(r){case"input":bp(n),Xy(n,i,!0);break;case"textarea":bp(n),ew(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pg)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=v4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[mi]=e,t[jf]=n,qj(t,e,!1,!1),e.stateNode=t;e:{switch(o=o2(r,n),r){case"dialog":tr("cancel",t),tr("close",t),a=n;break;case"iframe":case"object":case"embed":tr("load",t),a=n;break;case"video":case"audio":for(a=0;a<Wh.length;a++)tr(Wh[a],t);a=n;break;case"source":tr("error",t),a=n;break;case"img":case"image":case"link":tr("error",t),tr("load",t),a=n;break;case"details":tr("toggle",t),a=n;break;case"input":Yy(t,n),a=t2(t,n),tr("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=ur({},n,{value:void 0}),tr("invalid",t);break;case"textarea":Zy(t,n),a=n2(t,n),tr("invalid",t);break;default:a=n}i2(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?N4(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&y4(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mf(t,c):typeof c=="number"&&mf(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ff.hasOwnProperty(i)?c!=null&&i==="onScroll"&&tr("scroll",t):c!=null&&Q5(t,i,c,o))}switch(r){case"input":bp(t),Xy(t,n,!1);break;case"textarea":bp(t),ew(t);break;case"option":n.value!=null&&t.setAttribute("value",""+_l(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?wu(t,!!n.multiple,i,!1):n.defaultValue!=null&&wu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Pg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gs(e),null;case 6:if(t&&e.stateNode!=null)Gj(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Oe(166));if(r=vc(kf.current),vc(wi.current),Cp(e)){if(n=e.stateNode,r=e.memoizedProps,n[mi]=e,(i=n.nodeValue!==r)&&(t=Ln,t!==null))switch(t.tag){case 3:Sp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sp(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mi]=e,e.stateNode=n}return gs(e),null;case 13:if(sr(lr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ir&&Sn!==null&&e.mode&1&&!(e.flags&128))cj(),L0(),e.flags|=98560,i=!1;else if(i=Cp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Oe(317));i[mi]=e}else L0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gs(e),i=!1}else Ia!==null&&(z2(Ia),Ia=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||lr.current&1?zr===0&&(zr=3):Ev())),e.updateQueue!==null&&(e.flags|=4),gs(e),null);case 4:return I0(),_2(t,e),t===null&&wf(e.stateNode.containerInfo),gs(e),null;case 10:return fv(e.type._context),gs(e),null;case 17:return cn(e.type)&&Lg(),gs(e),null;case 19:if(sr(lr),i=e.memoizedState,i===null)return gs(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Dh(i,!1);else{if(zr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dg(t),o!==null){for(e.flags|=128,Dh(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Zt(lr,lr.current&1|2),e.child}t=t.sibling}i.tail!==null&&Sr()>_0&&(e.flags|=128,n=!0,Dh(i,!1),e.lanes=4194304)}else{if(!n)if(t=Dg(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Dh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ir)return gs(e),null}else 2*Sr()-i.renderingStartTime>_0&&r!==1073741824&&(e.flags|=128,n=!0,Dh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Sr(),e.sibling=null,r=lr.current,Zt(lr,n?r&1|2:r&1),e):(gs(e),null);case 22:case 23:return Lv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?kn&1073741824&&(gs(e),e.subtreeFlags&6&&(e.flags|=8192)):gs(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function UC(t,e){switch(cv(e),e.tag){case 1:return cn(e.type)&&Lg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return I0(),sr(ln),sr(Ls),bv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xv(e),null;case 13:if(sr(lr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));L0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sr(lr),null;case 4:return I0(),null;case 10:return fv(e.type._context),null;case 22:case 23:return Lv(),null;case 24:return null;default:return null}}var Ep=!1,Ss=!1,zC=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function hu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vr(t,e,n)}else r.current=null}function B2(t,e,r){try{r()}catch(n){vr(t,e,n)}}var qw=!1;function HC(t,e){if(x2=kg,t=K4(),ov(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,m=t,x=null;t:for(;;){for(var p;m!==r||a!==0&&m.nodeType!==3||(l=o+a),m!==i||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)x=m,m=p;for(;;){if(m===t)break t;if(x===r&&++u===a&&(l=o),x===i&&++f===n&&(c=o),(p=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(b2={focusedElem:t,selectionRange:r},kg=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,N=k.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:ya(e.type,w),N);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(E){vr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return k=qw,qw=!1,k}function of(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&B2(e,r,i)}a=a.next}while(a!==n)}}function Px(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function O2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function $j(t){var e=t.alternate;e!==null&&(t.alternate=null,$j(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mi],delete e[jf],delete e[w2],delete e[AC],delete e[kC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wj(t){return t.tag===5||t.tag===3||t.tag===4}function Vw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function D2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Pg));else if(n!==4&&(t=t.child,t!==null))for(D2(t,e,r),t=t.sibling;t!==null;)D2(t,e,r),t=t.sibling}function R2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(R2(t,e,r),t=t.sibling;t!==null;)R2(t,e,r),t=t.sibling}var ns=null,Ea=!1;function Mo(t,e,r){for(r=r.child;r!==null;)Qj(t,e,r),r=r.sibling}function Qj(t,e,r){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(yx,r)}catch{}switch(r.tag){case 5:Ss||hu(r,e);case 6:var n=ns,a=Ea;ns=null,Mo(t,e,r),ns=n,Ea=a,ns!==null&&(Ea?(t=ns,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ns.removeChild(r.stateNode));break;case 18:ns!==null&&(Ea?(t=ns,r=r.stateNode,t.nodeType===8?cb(t.parentNode,r):t.nodeType===1&&cb(t,r),bf(t)):cb(ns,r.stateNode));break;case 4:n=ns,a=Ea,ns=r.stateNode.containerInfo,Ea=!0,Mo(t,e,r),ns=n,Ea=a;break;case 0:case 11:case 14:case 15:if(!Ss&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&B2(r,e,o),a=a.next}while(a!==n)}Mo(t,e,r);break;case 1:if(!Ss&&(hu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vr(r,e,l)}Mo(t,e,r);break;case 21:Mo(t,e,r);break;case 22:r.mode&1?(Ss=(n=Ss)||r.memoizedState!==null,Mo(t,e,r),Ss=n):Mo(t,e,r);break;default:Mo(t,e,r)}}function Gw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zC),e.forEach(function(n){var a=YC.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ma(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ns=l.stateNode,Ea=!1;break e;case 3:ns=l.stateNode.containerInfo,Ea=!0;break e;case 4:ns=l.stateNode.containerInfo,Ea=!0;break e}l=l.return}if(ns===null)throw Error(Oe(160));Qj(i,o,a),ns=null,Ea=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){vr(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jj(e,t),e=e.sibling}function Jj(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ma(e,t),Za(t),n&4){try{of(3,t,t.return),Px(3,t)}catch(w){vr(t,t.return,w)}try{of(5,t,t.return)}catch(w){vr(t,t.return,w)}}break;case 1:ma(e,t),Za(t),n&512&&r!==null&&hu(r,r.return);break;case 5:if(ma(e,t),Za(t),n&512&&r!==null&&hu(r,r.return),t.flags&32){var a=t.stateNode;try{mf(a,"")}catch(w){vr(t,t.return,w)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&x4(a,i),o2(l,o);var u=o2(l,i);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?N4(a,m):f==="dangerouslySetInnerHTML"?y4(a,m):f==="children"?mf(a,m):Q5(a,f,m,u)}switch(l){case"input":r2(a,i);break;case"textarea":b4(a,i);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?wu(a,!!i.multiple,p,!1):x!==!!i.multiple&&(i.defaultValue!=null?wu(a,!!i.multiple,i.defaultValue,!0):wu(a,!!i.multiple,i.multiple?[]:"",!1))}a[jf]=i}catch(w){vr(t,t.return,w)}}break;case 6:if(ma(e,t),Za(t),n&4){if(t.stateNode===null)throw Error(Oe(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(w){vr(t,t.return,w)}}break;case 3:if(ma(e,t),Za(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bf(e.containerInfo)}catch(w){vr(t,t.return,w)}break;case 4:ma(e,t),Za(t);break;case 13:ma(e,t),Za(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Cv=Sr())),n&4&&Gw(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Ss=(u=Ss)||f,ma(e,t),Ss=u):ma(e,t),Za(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Qe=t,f=t.child;f!==null;){for(m=Qe=f;Qe!==null;){switch(x=Qe,p=x.child,x.tag){case 0:case 11:case 14:case 15:of(4,x,x.return);break;case 1:hu(x,x.return);var k=x.stateNode;if(typeof k.componentWillUnmount=="function"){n=x,r=x.return;try{e=n,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(w){vr(n,r,w)}}break;case 5:hu(x,x.return);break;case 22:if(x.memoizedState!==null){Ww(m);continue}}p!==null?(p.return=x,Qe=p):Ww(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{a=m.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=w4("display",o))}catch(w){vr(t,t.return,w)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(w){vr(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ma(e,t),Za(t),n&4&&Gw(t);break;case 21:break;default:ma(e,t),Za(t)}}function Za(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Wj(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(mf(a,""),n.flags&=-33);var i=Vw(t);R2(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Vw(t);D2(t,l,o);break;default:throw Error(Oe(161))}}catch(c){vr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qC(t,e,r){Qe=t,Kj(t)}function Kj(t,e,r){for(var n=(t.mode&1)!==0;Qe!==null;){var a=Qe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ep;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ss;l=Ep;var u=Ss;if(Ep=o,(Ss=c)&&!u)for(Qe=a;Qe!==null;)o=Qe,c=o.child,o.tag===22&&o.memoizedState!==null?Qw(a):c!==null?(c.return=o,Qe=c):Qw(a);for(;i!==null;)Qe=i,Kj(i),i=i.sibling;Qe=a,Ep=l,Ss=u}$w(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Qe=i):$w(t)}}function $w(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ss||Px(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ss)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:ya(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ew(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ew(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&bf(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Ss||e.flags&512&&O2(e)}catch(x){vr(e,e.return,x)}}if(e===t){Qe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Qe=r;break}Qe=e.return}}function Ww(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Qe=r;break}Qe=e.return}}function Qw(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Px(4,e)}catch(c){vr(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){vr(e,a,c)}}var i=e.return;try{O2(e)}catch(c){vr(e,i,c)}break;case 5:var o=e.return;try{O2(e)}catch(c){vr(e,o,c)}}}catch(c){vr(e,e.return,c)}if(e===t){Qe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Qe=l;break}Qe=e.return}}var VC=Math.ceil,Mg=No.ReactCurrentDispatcher,kv=No.ReactCurrentOwner,Xn=No.ReactCurrentBatchConfig,Et=0,Xr=null,Dr=null,cs=0,kn=0,fu=zl(0),zr=0,Lf=null,rd=0,Lx=0,Sv=0,lf=null,tn=null,Cv=0,_0=1/0,Hi=null,Ug=!1,F2=null,Cl=null,Ip=!1,bl=null,zg=0,cf=0,M2=null,sg=-1,ng=0;function Hs(){return Et&6?Sr():sg!==-1?sg:sg=Sr()}function Pl(t){return t.mode&1?Et&2&&cs!==0?cs&-cs:CC.transition!==null?(ng===0&&(ng=B4()),ng):(t=qt,t!==0||(t=window.event,t=t===void 0?16:z4(t.type)),t):1}function Da(t,e,r,n){if(50<cf)throw cf=0,M2=null,Error(Oe(185));pm(t,r,n),(!(Et&2)||t!==Xr)&&(t===Xr&&(!(Et&2)&&(Lx|=r),zr===4&&Zo(t,cs)),dn(t,n),r===1&&Et===0&&!(e.mode&1)&&(_0=Sr()+500,kx&&Hl()))}function dn(t,e){var r=t.callbackNode;C8(t,e);var n=Ag(t,t===Xr?cs:0);if(n===0)r!==null&&sw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&sw(r),e===1)t.tag===0?SC(Jw.bind(null,t)):ij(Jw.bind(null,t)),NC(function(){!(Et&6)&&Hl()}),r=null;else{switch(O4(n)){case 1:r=Z5;break;case 4:r=T4;break;case 16:r=jg;break;case 536870912:r=_4;break;default:r=jg}r=n6(r,Yj.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Yj(t,e){if(sg=-1,ng=0,Et&6)throw Error(Oe(327));var r=t.callbackNode;if(Su()&&t.callbackNode!==r)return null;var n=Ag(t,t===Xr?cs:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Hg(t,n);else{e=n;var a=Et;Et|=2;var i=Zj();(Xr!==t||cs!==e)&&(Hi=null,_0=Sr()+500,$c(t,e));do try{WC();break}catch(l){Xj(t,l)}while(1);hv(),Mg.current=i,Et=a,Dr!==null?e=0:(Xr=null,cs=0,e=zr)}if(e!==0){if(e===2&&(a=h2(t),a!==0&&(n=a,e=U2(t,a))),e===1)throw r=Lf,$c(t,0),Zo(t,n),dn(t,Sr()),r;if(e===6)Zo(t,n);else{if(a=t.current.alternate,!(n&30)&&!GC(a)&&(e=Hg(t,n),e===2&&(i=h2(t),i!==0&&(n=i,e=U2(t,i))),e===1))throw r=Lf,$c(t,0),Zo(t,n),dn(t,Sr()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(Oe(345));case 2:oc(t,tn,Hi);break;case 3:if(Zo(t,n),(n&130023424)===n&&(e=Cv+500-Sr(),10<e)){if(Ag(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Hs(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=y2(oc.bind(null,t,tn,Hi),e);break}oc(t,tn,Hi);break;case 4:if(Zo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-Oa(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=Sr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*VC(n/1960))-n,10<n){t.timeoutHandle=y2(oc.bind(null,t,tn,Hi),n);break}oc(t,tn,Hi);break;case 5:oc(t,tn,Hi);break;default:throw Error(Oe(329))}}}return dn(t,Sr()),t.callbackNode===r?Yj.bind(null,t):null}function U2(t,e){var r=lf;return t.current.memoizedState.isDehydrated&&($c(t,e).flags|=256),t=Hg(t,e),t!==2&&(e=tn,tn=r,e!==null&&z2(e)),t}function z2(t){tn===null?tn=t:tn.push.apply(tn,t)}function GC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Fa(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zo(t,e){for(e&=~Sv,e&=~Lx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Oa(e),n=1<<r;t[r]=-1,e&=~n}}function Jw(t){if(Et&6)throw Error(Oe(327));Su();var e=Ag(t,0);if(!(e&1))return dn(t,Sr()),null;var r=Hg(t,e);if(t.tag!==0&&r===2){var n=h2(t);n!==0&&(e=n,r=U2(t,n))}if(r===1)throw r=Lf,$c(t,0),Zo(t,e),dn(t,Sr()),r;if(r===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oc(t,tn,Hi),dn(t,Sr()),null}function Pv(t,e){var r=Et;Et|=1;try{return t(e)}finally{Et=r,Et===0&&(_0=Sr()+500,kx&&Hl())}}function sd(t){bl!==null&&bl.tag===0&&!(Et&6)&&Su();var e=Et;Et|=1;var r=Xn.transition,n=qt;try{if(Xn.transition=null,qt=1,t)return t()}finally{qt=n,Xn.transition=r,Et=e,!(Et&6)&&Hl()}}function Lv(){kn=fu.current,sr(fu)}function $c(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,wC(r)),Dr!==null)for(r=Dr.return;r!==null;){var n=r;switch(cv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lg();break;case 3:I0(),sr(ln),sr(Ls),bv();break;case 5:xv(n);break;case 4:I0();break;case 13:sr(lr);break;case 19:sr(lr);break;case 10:fv(n.type._context);break;case 22:case 23:Lv()}r=r.return}if(Xr=t,Dr=t=Ll(t.current,null),cs=kn=e,zr=0,Lf=null,Sv=Lx=rd=0,tn=lf=null,bc!==null){for(e=0;e<bc.length;e++)if(r=bc[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}bc=null}return t}function Xj(t,e){do{var r=Dr;try{if(hv(),eg.current=Fg,Rg){for(var n=dr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Rg=!1}if(td=0,Wr=Ur=dr=null,af=!1,Sf=0,kv.current=null,r===null||r.return===null){zr=1,Lf=e,Dr=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=cs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Dw(o);if(p!==null){p.flags&=-257,Rw(p,o,l,i,e),p.mode&1&&Ow(i,u,e),e=p,c=u;var k=e.updateQueue;if(k===null){var w=new Set;w.add(c),e.updateQueue=w}else k.add(c);break e}else{if(!(e&1)){Ow(i,u,e),Ev();break e}c=Error(Oe(426))}}else if(ir&&l.mode&1){var N=Dw(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Rw(N,o,l,i,e),dv(T0(c,l));break e}}i=c=T0(c,l),zr!==4&&(zr=2),lf===null?lf=[i]:lf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Oj(i,c,e);Lw(i,y);break e;case 1:l=c;var b=i.type,A=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Cl===null||!Cl.has(A)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=Dj(i,l,e);Lw(i,E);break e}}i=i.return}while(i!==null)}t6(r)}catch(U){e=U,Dr===r&&r!==null&&(Dr=r=r.return);continue}break}while(1)}function Zj(){var t=Mg.current;return Mg.current=Fg,t===null?Fg:t}function Ev(){(zr===0||zr===3||zr===2)&&(zr=4),Xr===null||!(rd&268435455)&&!(Lx&268435455)||Zo(Xr,cs)}function Hg(t,e){var r=Et;Et|=2;var n=Zj();(Xr!==t||cs!==e)&&(Hi=null,$c(t,e));do try{$C();break}catch(a){Xj(t,a)}while(1);if(hv(),Et=r,Mg.current=n,Dr!==null)throw Error(Oe(261));return Xr=null,cs=0,zr}function $C(){for(;Dr!==null;)e6(Dr)}function WC(){for(;Dr!==null&&!b8();)e6(Dr)}function e6(t){var e=s6(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?t6(t):Dr=e,kv.current=null}function t6(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=UC(r,e),r!==null){r.flags&=32767,Dr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zr=6,Dr=null;return}}else if(r=MC(r,e,kn),r!==null){Dr=r;return}if(e=e.sibling,e!==null){Dr=e;return}Dr=e=t}while(e!==null);zr===0&&(zr=5)}function oc(t,e,r){var n=qt,a=Xn.transition;try{Xn.transition=null,qt=1,QC(t,e,r,n)}finally{Xn.transition=a,qt=n}return null}function QC(t,e,r,n){do Su();while(bl!==null);if(Et&6)throw Error(Oe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(P8(t,i),t===Xr&&(Dr=Xr=null,cs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ip||(Ip=!0,n6(jg,function(){return Su(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Xn.transition,Xn.transition=null;var o=qt;qt=1;var l=Et;Et|=4,kv.current=null,HC(t,r),Jj(r,t),mC(b2),kg=!!x2,b2=x2=null,t.current=r,qC(r),v8(),Et=l,qt=o,Xn.transition=i}else t.current=r;if(Ip&&(Ip=!1,bl=t,zg=a),i=t.pendingLanes,i===0&&(Cl=null),N8(r.stateNode),dn(t,Sr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ug)throw Ug=!1,t=F2,F2=null,t;return zg&1&&t.tag!==0&&Su(),i=t.pendingLanes,i&1?t===M2?cf++:(cf=0,M2=t):cf=0,Hl(),null}function Su(){if(bl!==null){var t=O4(zg),e=Xn.transition,r=qt;try{if(Xn.transition=null,qt=16>t?16:t,bl===null)var n=!1;else{if(t=bl,bl=null,zg=0,Et&6)throw Error(Oe(331));var a=Et;for(Et|=4,Qe=t.current;Qe!==null;){var i=Qe,o=i.child;if(Qe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Qe=u;Qe!==null;){var f=Qe;switch(f.tag){case 0:case 11:case 15:of(8,f,i)}var m=f.child;if(m!==null)m.return=f,Qe=m;else for(;Qe!==null;){f=Qe;var x=f.sibling,p=f.return;if($j(f),f===u){Qe=null;break}if(x!==null){x.return=p,Qe=x;break}Qe=p}}}var k=i.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var N=w.sibling;w.sibling=null,w=N}while(w!==null)}}Qe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Qe=o;else e:for(;Qe!==null;){if(i=Qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:of(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Qe=y;break e}Qe=i.return}}var b=t.current;for(Qe=b;Qe!==null;){o=Qe;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Qe=A;else e:for(o=b;Qe!==null;){if(l=Qe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Px(9,l)}}catch(U){vr(l,l.return,U)}if(l===o){Qe=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Qe=E;break e}Qe=l.return}}if(Et=a,Hl(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(yx,t)}catch{}n=!0}return n}finally{qt=r,Xn.transition=e}}return!1}function Kw(t,e,r){e=T0(r,e),e=Oj(t,e,1),t=Sl(t,e,1),e=Hs(),t!==null&&(pm(t,1,e),dn(t,e))}function vr(t,e,r){if(t.tag===3)Kw(t,t,r);else for(;e!==null;){if(e.tag===3){Kw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cl===null||!Cl.has(n))){t=T0(r,t),t=Dj(e,t,1),e=Sl(e,t,1),t=Hs(),e!==null&&(pm(e,1,t),dn(e,t));break}}e=e.return}}function JC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Hs(),t.pingedLanes|=t.suspendedLanes&r,Xr===t&&(cs&r)===r&&(zr===4||zr===3&&(cs&130023424)===cs&&500>Sr()-Cv?$c(t,0):Sv|=r),dn(t,e)}function r6(t,e){e===0&&(t.mode&1?(e=wp,wp<<=1,!(wp&130023424)&&(wp=4194304)):e=1);var r=Hs();t=xo(t,e),t!==null&&(pm(t,e,r),dn(t,r))}function KC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),r6(t,r)}function YC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(e),r6(t,r)}var s6;s6=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)sn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return sn=!1,FC(t,e,r);sn=!!(t.flags&131072)}else sn=!1,ir&&e.flags&1048576&&oj(e,Tg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;rg(t,e),t=e.pendingProps;var a=P0(e,Ls.current);ku(e,r),a=yv(null,e,n,t,a,r);var i=wv();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(n)?(i=!0,Eg(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,pv(e),a.updater=Cx,e.stateNode=a,a._reactInternals=e,C2(e,n,t,r),e=E2(null,e,n,!0,i,r)):(e.tag=0,ir&&i&&lv(e),Ds(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(rg(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=ZC(n),t=ya(n,t),a){case 0:e=L2(null,e,n,t,r);break e;case 1:e=Uw(null,e,n,t,r);break e;case 11:e=Fw(null,e,n,t,r);break e;case 14:e=Mw(null,e,n,ya(n.type,t),r);break e}throw Error(Oe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ya(n,a),L2(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ya(n,a),Uw(t,e,n,a,r);case 3:e:{if(Uj(e),t===null)throw Error(Oe(387));n=e.pendingProps,i=e.memoizedState,a=i.element,fj(t,e),Og(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=T0(Error(Oe(423)),e),e=zw(t,e,n,r,a);break e}else if(n!==a){a=T0(Error(Oe(424)),e),e=zw(t,e,n,r,a);break e}else for(Sn=kl(e.stateNode.containerInfo.firstChild),Ln=e,ir=!0,Ia=null,r=uj(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(L0(),n===a){e=bo(t,e,r);break e}Ds(t,e,n,r)}e=e.child}return e;case 5:return mj(e),t===null&&A2(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,v2(n,a)?o=null:i!==null&&v2(n,i)&&(e.flags|=32),Mj(t,e),Ds(t,e,o,r),e.child;case 6:return t===null&&A2(e),null;case 13:return zj(t,e,r);case 4:return gv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=E0(e,null,n,r):Ds(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ya(n,a),Fw(t,e,n,a,r);case 7:return Ds(t,e,e.pendingProps,r),e.child;case 8:return Ds(t,e,e.pendingProps.children,r),e.child;case 12:return Ds(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Zt(_g,n._currentValue),n._currentValue=o,i!==null)if(Fa(i.value,o)){if(i.children===a.children&&!ln.current){e=bo(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=uo(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),k2(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Oe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),k2(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ds(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,ku(e,r),a=ta(a),n=n(a),e.flags|=1,Ds(t,e,n,r),e.child;case 14:return n=e.type,a=ya(n,e.pendingProps),a=ya(n.type,a),Mw(t,e,n,a,r);case 15:return Rj(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:ya(n,a),rg(t,e),e.tag=1,cn(n)?(t=!0,Eg(e)):t=!1,ku(e,r),Bj(e,n,a),C2(e,n,a,r),E2(null,e,n,!0,t,r);case 19:return Hj(t,e,r);case 22:return Fj(t,e,r)}throw Error(Oe(156,e.tag))};function n6(t,e){return I4(t,e)}function XC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,r,n){return new XC(t,e,r,n)}function Iv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZC(t){if(typeof t=="function")return Iv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===K5)return 11;if(t===Y5)return 14}return 2}function Ll(t,e){var r=t.alternate;return r===null?(r=Yn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ag(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")Iv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case su:return Wc(r.children,a,i,e);case J5:o=8,a|=8;break;case Yb:return t=Yn(12,r,e,a|2),t.elementType=Yb,t.lanes=i,t;case Xb:return t=Yn(13,r,e,a),t.elementType=Xb,t.lanes=i,t;case Zb:return t=Yn(19,r,e,a),t.elementType=Zb,t.lanes=i,t;case m4:return Ex(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case h4:o=10;break e;case f4:o=9;break e;case K5:o=11;break e;case Y5:o=14;break e;case Qo:o=16,n=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=Yn(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function Wc(t,e,r,n){return t=Yn(7,t,n,e),t.lanes=r,t}function Ex(t,e,r,n){return t=Yn(22,t,n,e),t.elementType=m4,t.lanes=r,t.stateNode={isHidden:!1},t}function xb(t,e,r){return t=Yn(6,t,null,e),t.lanes=r,t}function bb(t,e,r){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e7(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=X1(0),this.expirationTimes=X1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X1(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Tv(t,e,r,n,a,i,o,l,c){return t=new e7(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Yn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pv(i),t}function t7(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ru,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function a6(t){if(!t)return Bl;t=t._reactInternals;e:{if(ud(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var r=t.type;if(cn(r))return aj(t,r,e)}return e}function i6(t,e,r,n,a,i,o,l,c){return t=Tv(r,n,!0,t,a,i,o,l,c),t.context=a6(null),r=t.current,n=Hs(),a=Pl(r),i=uo(n,a),i.callback=e??null,Sl(r,i,a),t.current.lanes=a,pm(t,a,n),dn(t,n),t}function Ix(t,e,r,n){var a=e.current,i=Hs(),o=Pl(a);return r=a6(r),e.context===null?e.context=r:e.pendingContext=r,e=uo(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Sl(a,e,o),t!==null&&(Da(t,a,o,i),Zp(t,a,o)),o}function qg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function _v(t,e){Yw(t,e),(t=t.alternate)&&Yw(t,e)}function r7(){return null}var o6=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bv(t){this._internalRoot=t}Tx.prototype.render=Bv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));Ix(t,e,null,null)};Tx.prototype.unmount=Bv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sd(function(){Ix(null,t,null,null)}),e[go]=null}};function Tx(t){this._internalRoot=t}Tx.prototype.unstable_scheduleHydration=function(t){if(t){var e=F4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Xo.length&&e!==0&&e<Xo[r].priority;r++);Xo.splice(r,0,t),r===0&&U4(t)}};function Ov(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _x(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xw(){}function s7(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=qg(o);i.call(u)}}var o=i6(e,n,t,0,null,!1,!1,"",Xw);return t._reactRootContainer=o,t[go]=o.current,wf(t.nodeType===8?t.parentNode:t),sd(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=qg(c);l.call(u)}}var c=Tv(t,0,!1,null,null,!1,!1,"",Xw);return t._reactRootContainer=c,t[go]=c.current,wf(t.nodeType===8?t.parentNode:t),sd(function(){Ix(e,c,r,n)}),c}function Bx(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=qg(o);l.call(c)}}Ix(e,o,t,a)}else o=s7(r,e,t,a,n);return qg(o)}D4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$h(e.pendingLanes);r!==0&&(ev(e,r|1),dn(e,Sr()),!(Et&6)&&(_0=Sr()+500,Hl()))}break;case 13:sd(function(){var n=xo(t,1);if(n!==null){var a=Hs();Da(n,t,1,a)}}),_v(t,1)}};tv=function(t){if(t.tag===13){var e=xo(t,134217728);if(e!==null){var r=Hs();Da(e,t,134217728,r)}_v(t,134217728)}};R4=function(t){if(t.tag===13){var e=Pl(t),r=xo(t,e);if(r!==null){var n=Hs();Da(r,t,e,n)}_v(t,e)}};F4=function(){return qt};M4=function(t,e){var r=qt;try{return qt=t,e()}finally{qt=r}};c2=function(t,e,r){switch(e){case"input":if(r2(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Ax(n);if(!a)throw Error(Oe(90));g4(n),r2(n,a)}}}break;case"textarea":b4(t,r);break;case"select":e=r.value,e!=null&&wu(t,!!r.multiple,e,!1)}};k4=Pv;S4=sd;var n7={usingClientEntryPoint:!1,Events:[xm,ou,Ax,j4,A4,Pv]},Rh={findFiberByHostInstance:xc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a7={bundleType:Rh.bundleType,version:Rh.version,rendererPackageName:Rh.rendererPackageName,rendererConfig:Rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=L4(t),t===null?null:t.stateNode},findFiberByHostInstance:Rh.findFiberByHostInstance||r7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tp.isDisabled&&Tp.supportsFiber)try{yx=Tp.inject(a7),yi=Tp}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n7;In.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ov(e))throw Error(Oe(200));return t7(t,e,null,r)};In.createRoot=function(t,e){if(!Ov(t))throw Error(Oe(299));var r=!1,n="",a=o6;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Tv(t,1,!1,null,null,r,!1,n,a),t[go]=e.current,wf(t.nodeType===8?t.parentNode:t),new Bv(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=L4(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return sd(t)};In.hydrate=function(t,e,r){if(!_x(e))throw Error(Oe(200));return Bx(null,t,e,!0,r)};In.hydrateRoot=function(t,e,r){if(!Ov(t))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=o6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=i6(e,null,t,1,r??null,a,!1,i,o),t[go]=e.current,wf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Tx(e)};In.render=function(t,e,r){if(!_x(e))throw Error(Oe(200));return Bx(null,t,e,!1,r)};In.unmountComponentAtNode=function(t){if(!_x(t))throw Error(Oe(40));return t._reactRootContainer?(sd(function(){Bx(null,null,t,!1,function(){t._reactRootContainer=null,t[go]=null})}),!0):!1};In.unstable_batchedUpdates=Pv;In.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_x(r))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return Bx(t,e,r,!1,n)};In.version="18.3.1-next-f1338f8080-20240426";function l6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l6)}catch(t){console.error(t)}}l6(),l4.exports=In;var i7=l4.exports,Zw=i7;Jb.createRoot=Zw.createRoot,Jb.hydrateRoot=Zw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ef.apply(this,arguments)}var vl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vl||(vl={}));const eN="popstate";function o7(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return H2("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Vg(a)}return c7(e,r,null,t)}function Ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function c6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function l7(){return Math.random().toString(36).substr(2,8)}function tN(t,e){return{usr:t.state,key:t.key,idx:e}}function H2(t,e,r,n){return r===void 0&&(r=null),Ef({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$0(e):e,{state:r,key:e&&e.key||n||l7()})}function Vg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $0(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function c7(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=vl.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Ef({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=vl.Pop;let N=f(),y=N==null?null:N-u;u=N,c&&c({action:l,location:w.location,delta:y})}function x(N,y){l=vl.Push;let b=H2(w.location,N,y);r&&r(b,N),u=f()+1;let A=tN(b,u),E=w.createHref(b);try{o.pushState(A,"",E)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(E)}i&&c&&c({action:l,location:w.location,delta:1})}function p(N,y){l=vl.Replace;let b=H2(w.location,N,y);r&&r(b,N),u=f();let A=tN(b,u),E=w.createHref(b);o.replaceState(A,"",E),i&&c&&c({action:l,location:w.location,delta:0})}function k(N){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof N=="string"?N:Vg(N);return b=b.replace(/ $/,"%20"),Ir(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let w={get action(){return l},get location(){return t(a,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(eN,m),c=N,()=>{a.removeEventListener(eN,m),c=null}},createHref(N){return e(a,N)},createURL:k,encodeLocation(N){let y=k(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:p,go(N){return o.go(N)}};return w}var rN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rN||(rN={}));function d7(t,e,r){return r===void 0&&(r="/"),u7(t,e,r,!1)}function u7(t,e,r,n){let a=typeof e=="string"?$0(e):e,i=Dv(a.pathname||"/",r);if(i==null)return null;let o=d6(t);h7(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=j7(i);l=w7(o[c],u,n)}return l}function d6(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ir(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=El([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(Ir(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d6(i.children,e,f,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:v7(u,i.index),routesMeta:f})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of u6(i.path))a(i,o,c)}),e}function u6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=u6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function h7(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:y7(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const f7=/^:[\w-]+$/,m7=3,p7=2,g7=1,x7=10,b7=-2,sN=t=>t==="*";function v7(t,e){let r=t.split("/"),n=r.length;return r.some(sN)&&(n+=b7),e&&(n+=p7),r.filter(a=>!sN(a)).reduce((a,i)=>a+(f7.test(i)?m7:i===""?g7:x7),n)}function y7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function w7(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=nN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),x=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=nN({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:El([i,m.pathname]),pathnameBase:C7(El([i,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(i=El([i,m.pathnameBase]))}return o}function nN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=N7(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,m)=>{let{paramName:x,isOptional:p}=f;if(x==="*"){let w=l[m]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const k=l[m];return p&&!k?u[x]=void 0:u[x]=(k||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function N7(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),c6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function j7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return c6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function A7(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?$0(t):t;return{pathname:r?r.startsWith("/")?r:k7(r,e):e,search:P7(n),hash:L7(a)}}function k7(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function vb(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S7(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Rv(t,e){let r=S7(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Fv(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=$0(t):(a=Ef({},t),Ir(!a.pathname||!a.pathname.includes("?"),vb("?","pathname","search",a)),Ir(!a.pathname||!a.pathname.includes("#"),vb("#","pathname","hash",a)),Ir(!a.search||!a.search.includes("#"),vb("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),m-=1;a.pathname=x.join("/")}l=m>=0?e[m]:"/"}let c=A7(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const El=t=>t.join("/").replace(/\/\/+/g,"/"),C7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const h6=["post","put","patch","delete"];new Set(h6);const I7=["get",...h6];new Set(I7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},If.apply(this,arguments)}const Mv=ie.createContext(null),T7=ie.createContext(null),ql=ie.createContext(null),Ox=ie.createContext(null),jo=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),f6=ie.createContext(null);function _7(t,e){let{relative:r}=e===void 0?{}:e;W0()||Ir(!1);let{basename:n,navigator:a}=ie.useContext(ql),{hash:i,pathname:o,search:l}=p6(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:El([n,o])),a.createHref({pathname:c,search:l,hash:i})}function W0(){return ie.useContext(Ox)!=null}function Q0(){return W0()||Ir(!1),ie.useContext(Ox).location}function m6(t){ie.useContext(ql).static||ie.useLayoutEffect(t)}function Ci(){let{isDataRoute:t}=ie.useContext(jo);return t?$7():B7()}function B7(){W0()||Ir(!1);let t=ie.useContext(Mv),{basename:e,future:r,navigator:n}=ie.useContext(ql),{matches:a}=ie.useContext(jo),{pathname:i}=Q0(),o=JSON.stringify(Rv(a,r.v7_relativeSplatPath)),l=ie.useRef(!1);return m6(()=>{l.current=!0}),ie.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=Fv(u,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:El([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,i,t])}function Dx(){let{matches:t}=ie.useContext(jo),e=t[t.length-1];return e?e.params:{}}function p6(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ie.useContext(ql),{matches:a}=ie.useContext(jo),{pathname:i}=Q0(),o=JSON.stringify(Rv(a,n.v7_relativeSplatPath));return ie.useMemo(()=>Fv(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function O7(t,e){return D7(t,e)}function D7(t,e,r,n){W0()||Ir(!1);let{navigator:a}=ie.useContext(ql),{matches:i}=ie.useContext(jo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Q0(),f;if(e){var m;let N=typeof e=="string"?$0(e):e;c==="/"||(m=N.pathname)!=null&&m.startsWith(c)||Ir(!1),f=N}else f=u;let x=f.pathname||"/",p=x;if(c!=="/"){let N=c.replace(/^\//,"").split("/");p="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let k=d7(t,{pathname:p}),w=z7(k&&k.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:El([c,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:El([c,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,r,n);return e&&w?ie.createElement(Ox.Provider,{value:{location:If({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vl.Pop}},w):w}function R7(){let t=G7(),e=E7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),r?ie.createElement("pre",{style:a},r):null,i)}const F7=ie.createElement(R7,null);class M7 extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ie.createElement(jo.Provider,{value:this.props.routeContext},ie.createElement(f6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U7(t){let{routeContext:e,match:r,children:n}=t,a=ie.useContext(Mv);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),ie.createElement(jo.Provider,{value:e},n)}function z7(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||Ir(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:x,errors:p}=r,k=m.route.loader&&x[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||k){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,m,x)=>{let p,k=!1,w=null,N=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,w=m.route.errorElement||F7,c&&(u<0&&x===0?(W7("route-fallback",!1),k=!0,N=null):u===x&&(k=!0,N=m.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,x+1)),b=()=>{let A;return p?A=w:k?A=N:m.route.Component?A=ie.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=f,ie.createElement(U7,{match:m,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:A})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?ie.createElement(M7,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var g6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(g6||{}),Gg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Gg||{});function H7(t){let e=ie.useContext(Mv);return e||Ir(!1),e}function q7(t){let e=ie.useContext(T7);return e||Ir(!1),e}function V7(t){let e=ie.useContext(jo);return e||Ir(!1),e}function x6(t){let e=V7(),r=e.matches[e.matches.length-1];return r.route.id||Ir(!1),r.route.id}function G7(){var t;let e=ie.useContext(f6),r=q7(Gg.UseRouteError),n=x6(Gg.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function $7(){let{router:t}=H7(g6.UseNavigateStable),e=x6(Gg.UseNavigateStable),r=ie.useRef(!1);return m6(()=>{r.current=!0}),ie.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,If({fromRouteId:e},i)))},[t,e])}const aN={};function W7(t,e,r){!e&&!aN[t]&&(aN[t]=!0)}function Q7(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Ar(t){let{to:e,replace:r,state:n,relative:a}=t;W0()||Ir(!1);let{future:i,static:o}=ie.useContext(ql),{matches:l}=ie.useContext(jo),{pathname:c}=Q0(),u=Ci(),f=Fv(e,Rv(l,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(f);return ie.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:a}),[u,m,a,r,n]),null}function gr(t){Ir(!1)}function J7(t){let{basename:e="/",children:r=null,location:n,navigationType:a=vl.Pop,navigator:i,static:o=!1,future:l}=t;W0()&&Ir(!1);let c=e.replace(/^\/*/,"/"),u=ie.useMemo(()=>({basename:c,navigator:i,static:o,future:If({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=$0(n));let{pathname:f="/",search:m="",hash:x="",state:p=null,key:k="default"}=n,w=ie.useMemo(()=>{let N=Dv(f,c);return N==null?null:{location:{pathname:N,search:m,hash:x,state:p,key:k},navigationType:a}},[c,f,m,x,p,k,a]);return w==null?null:ie.createElement(ql.Provider,{value:u},ie.createElement(Ox.Provider,{children:r,value:w}))}function K7(t){let{children:e,location:r}=t;return O7(q2(e),r)}new Promise(()=>{});function q2(t,e){e===void 0&&(e=[]);let r=[];return ie.Children.forEach(t,(n,a)=>{if(!ie.isValidElement(n))return;let i=[...e,a];if(n.type===ie.Fragment){r.push.apply(r,q2(n.props.children,i));return}n.type!==gr&&Ir(!1),!n.props.index||!n.props.children||Ir(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=q2(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V2(){return V2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V2.apply(this,arguments)}function Y7(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function X7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z7(t,e){return t.button===0&&(!e||e==="_self")&&!X7(t)}const eP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tP="6";try{window.__reactRouterVersion=tP}catch{}const rP="startTransition",iN=JS[rP];function sP(t){let{basename:e,children:r,future:n,window:a}=t,i=ie.useRef();i.current==null&&(i.current=o7({window:a,v5Compat:!0}));let o=i.current,[l,c]=ie.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=ie.useCallback(m=>{u&&iN?iN(()=>c(m)):c(m)},[c,u]);return ie.useLayoutEffect(()=>o.listen(f),[o,f]),ie.useEffect(()=>Q7(n),[n]),ie.createElement(J7,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const nP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iP=ie.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:m}=e,x=Y7(e,eP),{basename:p}=ie.useContext(ql),k,w=!1;if(typeof u=="string"&&aP.test(u)&&(k=u,nP))try{let A=new URL(window.location.href),E=u.startsWith("//")?new URL(A.protocol+u):new URL(u),U=Dv(E.pathname,p);E.origin===A.origin&&U!=null?u=U+E.search+E.hash:w=!0}catch{}let N=_7(u,{relative:a}),y=oP(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:m});function b(A){n&&n(A),A.defaultPrevented||y(A)}return ie.createElement("a",V2({},x,{href:k||N,onClick:w||i?n:b,ref:r,target:c}))});var oN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oN||(oN={}));var lN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lN||(lN={}));function oP(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ci(),u=Q0(),f=p6(t,{relative:o});return ie.useCallback(m=>{if(Z7(m,r)){m.preventDefault();let x=n!==void 0?n:Vg(u)===Vg(f);c(t,{replace:x,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,a,r,t,i,o,l])}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),cN=t=>{const e=cP(t);return e.charAt(0).toUpperCase()+e.slice(1)},b6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),dP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=ie.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>ie.createElement("svg",{ref:c,...uP,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:b6("lucide",a),...!i&&!dP(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>ie.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const r=ie.forwardRef(({className:n,...a},i)=>ie.createElement(hP,{ref:i,iconNode:e,className:b6(`lucide-${lP(cN(t))}`,`lucide-${t}`,n),...a}));return r.displayName=cN(t),r};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],pi=Me("activity",fP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],pP=Me("arrow-down-right",mP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],nd=Me("arrow-left",gP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yb=Me("arrow-right",xP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],vP=Me("arrow-up-narrow-wide",bP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Gd=Me("arrow-up-right",yP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ba=Me("award",wP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Cn=Me("beaker",NP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],G2=Me("bell",jP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],kP=Me("bug",AP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ni=Me("calendar",SP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Cu=Me("chart-column",CP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],LP=Me("check",PP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],IP=Me("chevron-down",EP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nn=Me("circle-alert",TP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rt=Me("circle-check-big",_P);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Il=Me("circle-x",BP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zt=Me("clock",OP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],B0=Me("copy",DP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],yl=Me("credit-card",RP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Zr=Me("database",FP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]],UP=Me("dna",MP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wb=Me("dollar-sign",zP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Qc=Me("download",HP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],v6=Me("droplets",qP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],y6=Me("external-link",VP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],w6=Me("eye-off",GP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],is=Me("factory",$P);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ki=Me("eye",WP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],JP=Me("file-check",QP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jc=Me("file-text",KP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],XP=Me("flame",YP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Uv=Me("flask-conical",ZP);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],N6=Me("funnel",eL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],dN=Me("house",tL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$g=Me("info",rL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],nL=Me("key",sL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],iL=Me("languages",aL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],lL=Me("layout-dashboard",oL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],as=Me("leaf",cL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],uL=Me("link",dL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fL=Me("log-out",hL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zv=Me("lock",mL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Tf=Me("mail",pL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zn=Me("map-pin",gL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],uN=Me("message-square",xL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],j6=Me("microscope",bL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M5 12h14",key:"1ays0h"}]],A6=Me("minus",vL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],wL=Me("moon",yL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],pt=Me("package",NL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],AL=Me("palette",jL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],$2=Me("phone",kL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ra=Me("plus",SL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],k6=Me("qr-code",CL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wg=Me("refresh-cw",PL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hN=Me("rotate-ccw",LL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Hv=Me("save",EL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],an=Me("search",IL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vo=Me("settings",TL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],BL=Me("share-2",_L);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Bt=Me("shield",OL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ao=Me("shopping-cart",DL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],fN=Me("smartphone",RL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mN=Me("sparkles",FL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],on=Me("star",ML);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],zL=Me("tag",UL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qL=Me("target",HL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],ji=Me("test-tube",VL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],ho=Me("thermometer",GL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],S6=Me("trash-2",$L);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$o=Me("trending-up",WL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pu=Me("triangle-alert",QL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],W2=Me("truck",JL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qv=Me("upload",KL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qh=Me("users",YL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Si=Me("user",XL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ea=Me("wallet",ZL);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J0=Me("x",eE);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rE=Me("zap",tE),Ut={appName:"Ayurherb 2.0",appTagline:"Ayurvedic Supply Chain Management",nav:{dashboard:"Sales",batches:"Batches",processing:"Processing",labTesting:"Lab Testing",reports:"Reports",collections:"Collections",settings:"Settings",logout:"Logout"},roles:{admin:"Admin",processor:"Processor",labTester:"Lab Tester",customer:"Customer"},login:{title:"Welcome to Ayurherb 2.0",subtitle:"Select your role to continue",username:"Username",password:"Password",loginButton:"Sign In",selectRole:"Select Your Role",adminDesc:"Full system access and analytics",processorDesc:"Manage processing workflows",labTesterDesc:"Quality testing and validation",customerDesc:"Track product provenance"},dashboard:{welcome:"Welcome back",overview:"System Overview",totalCollections:"Total Collections",verifiedBatches:"Verified Batches",recalledBatches:"Recalled Batches",pendingTests:"Pending Tests",recentActivity:"Recent Activity",harvestTrends:"Harvest Trends Over Time",batchDetails:"Batch Details",viewAll:"View All",noData:"No data available"},batches:{title:"Batch Management",searchPlaceholder:"Search batches...",filterByStatus:"Filter by Status",allStatuses:"All Statuses",batchId:"Batch ID",herb:"Herb",farmer:"Farmer",location:"Location",harvestDate:"Harvest Date",quantity:"Quantity",status:"Status",qualityScore:"Quality Score",actions:"Actions",viewDetails:"View Details",addProcessing:"Add Processing",runTests:"Run Tests"},processing:{title:"Processing Management",addStep:"Add Processing Step",stepType:"Processing Step",description:"Description",date:"Date",notes:"Notes",submit:"Add Step",cancel:"Cancel",steps:{harvesting:"Harvesting",cleaning:"Cleaning",drying:"Drying",grinding:"Grinding",packaging:"Packaging",storage:"Storage",shipping:"Shipping"},stepAdded:"Processing step added successfully"},lab:{title:"Quality Testing",addTest:"Add Test Results",testType:"Test Type",moistureContent:"Moisture Content (%)",pesticideTest:"Pesticide Test",dnaAuthentication:"DNA Authentication",ayushCompliance:"AYUSH Compliance",uploadCertificate:"Upload Certificate",testResults:"Test Results",technician:"Technician",testDate:"Test Date",submit:"Submit Results",resultsAdded:"Test results added successfully",dragDropFile:"Drag and drop files here, or click to select",fileUploaded:"File uploaded successfully"},customer:{title:"Product Provenance",scanQR:"Scan QR Code",batchInfo:"Batch Information",farmerProfile:"Farmer Profile",processingHistory:"Processing History",qualityResults:"Quality Test Results",certifications:"Certifications",traceabilityMap:"Traceability Map",recallAlert:"Recall Alert",productSafe:"This product is safe for consumption",productRecalled:"This product has been recalled",contactSupport:"Contact Support"},reports:{title:"Reports & Analytics",environmentalImpact:"Environmental Impact",ayushCompliance:"AYUSH Compliance",carbonFootprint:"Carbon Footprint",waterUsage:"Water Usage",sustainabilityScore:"Sustainability Score",complianceScore:"Compliance Score",generateReport:"Generate Report",exportData:"Export Data",downloadPDF:"Download PDF"},collections:{title:"Saved Collections",farmerSubmissions:"Farmer Submissions",submissionDate:"Submission Date",syncStatus:"Sync Status",viewCollection:"View Collection",syncNow:"Sync Now",markVerified:"Mark as Verified"},status:{queued:"Queued",synced:"Synced",verified:"Verified",recalled:"Recalled",pending:"Pending",completed:"Completed",inProgress:"In Progress",failed:"Failed"},actions:{save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",view:"View",add:"Add",update:"Update",submit:"Submit",close:"Close",confirm:"Confirm",search:"Search",filter:"Filter",export:"Export",import:"Import",refresh:"Refresh"},messages:{success:"Operation completed successfully",error:"An error occurred. Please try again.",loading:"Loading...",noResults:"No results found",confirmDelete:"Are you sure you want to delete this item?",unsavedChanges:"You have unsaved changes. Are you sure you want to leave?"},validation:{required:"This field is required",invalidEmail:"Please enter a valid email address",minLength:"Minimum length is {min} characters",maxLength:"Maximum length is {max} characters",invalidFormat:"Invalid format"}},sE=({user:t})=>{const e=Q0(),n=(()=>{const o=[{path:"/dashboard",icon:lL,label:(()=>(t==null?void 0:t.role)==="Collector"||(t==null?void 0:t.role)==="Processor"||(t==null?void 0:t.role)==="Lab Tester"?"Dashboard":Ut.nav.dashboard)(),roles:["Admin","Processor","Lab Tester","Customer","Collector"]}],l={Admin:[{path:"/see-items",icon:ki,label:"See Items"},{path:"/verification-report",icon:JP,label:"Verification & Report"},{path:"/settings",icon:vo,label:Ut.nav.settings}],Processor:[{path:"/batches",icon:pt,label:"Batches"},{path:"/add-processing",icon:Ra,label:"Add Processing"}],"Lab Tester":[{path:"/see-item",icon:ki,label:"See Item"},{path:"/lab-test",icon:Cn,label:"Add Lab Test"}],Customer:[{path:"/view-product",icon:an,label:"View Product"},{path:"/cart",icon:ao,label:"Cart"},{path:"/information",icon:$g,label:"Information"}],Collector:[{path:"/collections",icon:Zr,label:"Collection Reports"}]};return[...o.filter(u=>!u.roles||u.roles.includes(t==null?void 0:t.role)),...l[t==null?void 0:t.role]||[]]})(),a=i=>e.pathname===i;return s.jsxs("div",{className:"w-64 bg-dark-800 border-r border-dark-700 flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-dark-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:s.jsx(as,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:Ut.appName}),s.jsx("p",{className:"text-xs text-gray-400",children:Ut.appTagline})]})]})}),s.jsx("div",{className:"p-4 border-b border-dark-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-500/20 rounded-full flex items-center justify-center",children:s.jsx(Qh,{className:"w-5 h-5 text-primary-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-white",children:(t==null?void 0:t.name)||"User"}),s.jsx("p",{className:"text-xs text-gray-400",children:t==null?void 0:t.role})]})]})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2",children:n.map(i=>{const o=i.icon,l=a(i.path);return s.jsxs(iP,{to:i.path,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 ${l?"bg-primary-500/20 text-primary-400 border border-primary-500/30":"text-gray-400 hover:text-white hover:bg-dark-700"}`,children:[s.jsx(o,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:i.label})]},i.path)})}),s.jsx("div",{className:"p-4 border-t border-dark-700",children:s.jsx("div",{className:"text-xs text-gray-500 text-center",children:"© 2024 Ayurherb 2.0"})})]})},nE=({user:t,onLogout:e})=>{const[r,n]=ie.useState(!1);return s.jsxs("header",{className:"h-16 bg-dark-800 border-b border-dark-700 flex items-center justify-between px-6 relative z-30",children:[s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{className:"relative p-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(G2,{className:"w-5 h-5"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-dark-700 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-500/20 rounded-full flex items-center justify-center",children:s.jsx(Si,{className:"w-4 h-4 text-primary-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm font-medium text-white",children:t==null?void 0:t.name}),s.jsx("p",{className:"text-xs text-gray-400",children:t==null?void 0:t.role})]})]}),r&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-dark-700 border border-dark-600 rounded-lg shadow-xl z-40",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 text-gray-300 hover:text-white hover:bg-dark-600 rounded-lg transition-colors",children:[s.jsx(vo,{className:"w-4 h-4"}),s.jsx("span",{children:Ut.nav.settings})]}),s.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:text-red-300 hover:bg-dark-600 rounded-lg transition-colors",children:[s.jsx(fL,{className:"w-4 h-4"}),s.jsx("span",{children:Ut.nav.logout})]})]})})]})]})]})},Ys=({children:t,user:e,onLogout:r})=>s.jsxs("div",{className:"flex h-screen bg-dark-900",children:[s.jsx(sE,{user:e}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(nE,{user:e,onLogout:r}),s.jsx("main",{className:"flex-1 overflow-auto p-6 bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900",children:t})]})]}),aE="modulepreload",iE=function(t){return"/"+t},pN={},Qg=function(e,r,n){if(!r||r.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=iE(i),i in pN)return;pN[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let f=a.length-1;f>=0;f--){const m=a[f];if(m.href===i&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":aE,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((f,m)=>{u.addEventListener("load",f),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},xa={COLLECTIONS:"ayurherb_collections",BATCHES:"ayurherb_batches",LAST_UPDATE:"ayurherb_last_update"},Q2=new Set;window.addEventListener("storage",t=>{t.key&&t.key.startsWith("ayurherb_")&&Q2.forEach(e=>{try{e(t)}catch(r){console.error("Storage listener error:",r)}})});const Qr={getCollections:()=>{try{const t=localStorage.getItem(xa.COLLECTIONS);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading collections from storage:",t),[]}},setCollections:t=>{try{return localStorage.setItem(xa.COLLECTIONS,JSON.stringify(t)),localStorage.setItem(xa.LAST_UPDATE,new Date().toISOString()),window.dispatchEvent(new StorageEvent("storage",{key:xa.COLLECTIONS,newValue:JSON.stringify(t),storageArea:localStorage})),!0}catch(e){return console.error("Error saving collections to storage:",e),!1}},addCollection:t=>{const e=Qr.getCollections(),r=e.findIndex(n=>n.id===t.id);return r>=0?e[r]=t:e.push(t),Qr.setCollections(e)},updateCollectionStatus:(t,e)=>{const r=Qr.getCollections(),n=r.findIndex(a=>a.id===t);return n>=0?(r[n].status=e,r[n].lastUpdated=new Date().toISOString(),Qr.setCollections(r)):!1},getBatches:()=>Qr.getCollections().filter(e=>e.status!=="Queued").map(oE),clearAllData:()=>{try{return localStorage.removeItem(xa.COLLECTIONS),localStorage.removeItem(xa.BATCHES),localStorage.removeItem(xa.LAST_UPDATE),window.dispatchEvent(new StorageEvent("storage",{key:xa.COLLECTIONS,newValue:null,storageArea:localStorage})),!0}catch(t){return console.error("Error clearing storage:",t),!1}},addStorageListener:t=>(Q2.add(t),()=>Q2.delete(t)),getLastUpdate:()=>localStorage.getItem(xa.LAST_UPDATE),clearAll:()=>{Object.values(xa).forEach(t=>{localStorage.removeItem(t)})},initialize:()=>{if(Qr.getCollections().length===0){const e=[{id:"COL001",batchId:"BAT 2024 001",collectorId:"COL 2024",farmer:"COL 2024",herb:"Allovera",speciesName:"Allovera",quantity:"5 kg",weight:"5 kg",moisture:"20%",gpsCoordinates:"22.6290°, 88.4412°",latitude:"22.6290°",longitude:"88.4412°",accuracy:"±162 meters",collectionTime:"9/23/2025, 10:06:50 AM",submissionDate:"2025-09-23",timestamp:"9/23/2025, 10:06:50 AM",status:"Verified",location:"22.6290°, 88.4412°",qualityGrade:"Standard (A)",qualityAssessment:"Standard (A)",createdAt:new Date().toISOString()},{id:"COL002",batchId:"BAT 2024 003",collectorId:"COL 2024",farmer:"Rajesh Kumar",herb:"Ashwagandha",speciesName:"Ashwagandha",quantity:"500kg",weight:"500kg",moisture:"15%",gpsCoordinates:"10.8505°, 76.2711°",latitude:"10.8505°",longitude:"76.2711°",accuracy:"±50 meters",collectionTime:"1/15/2024, 08:30:00 AM",submissionDate:"2024-01-15",timestamp:"1/15/2024, 08:30:00 AM",status:"Verified",location:"Kerala, India",qualityGrade:"Premium (AA)",qualityAssessment:"Premium (AA)",createdAt:new Date().toISOString()},{id:"COL003",batchId:"BAT 2024 004",collectorId:"COL 2024",farmer:"Suresh Patel",herb:"Brahmi",speciesName:"Brahmi",quantity:"300kg",weight:"300kg",moisture:"18%",gpsCoordinates:"23.0225°, 72.5714°",latitude:"23.0225°",longitude:"72.5714°",accuracy:"±75 meters",collectionTime:"1/25/2024, 14:15:30 PM",submissionDate:"2024-01-25",timestamp:"1/25/2024, 14:15:30 PM",status:"Synced",location:"Gujarat, India",qualityGrade:"Standard (A)",qualityAssessment:"Standard (A)",createdAt:new Date().toISOString()},{id:"COL004",batchId:"BAT-2025-011",collectorId:"COL-102",farmer:"COL-102",herb:"Ashwagandha",speciesName:"Ashwagandha",quantity:"12 kg",weight:"12 kg",moisture:"9%",gpsCoordinates:"18.9123°, 77.5123°",latitude:"18.9123°",longitude:"77.5123°",accuracy:"±89 meters",collectionTime:"9/21/2025, 10:12:00 AM",submissionDate:"2025-09-21",timestamp:"9/21/2025, 10:12:00 AM",status:"Verified",location:"18.9123°, 77.5123° (Protected forest)",qualityGrade:"Premium (AA)",qualityAssessment:"Premium (AA)",createdAt:new Date().toISOString()},{id:"COL005",batchId:"BAT-2025-012",collectorId:"COL-103",farmer:"Priya Sharma",herb:"Turmeric",speciesName:"Curcuma longa",quantity:"750kg",weight:"750kg",moisture:"12%",gpsCoordinates:"11.1271°, 78.6569°",latitude:"11.1271°",longitude:"78.6569°",accuracy:"±45 meters",collectionTime:"9/20/2025, 07:30:00 AM",submissionDate:"2025-09-20",timestamp:"9/20/2025, 07:30:00 AM",status:"Verified",location:"Tamil Nadu, India",qualityGrade:"Premium (AA)",qualityAssessment:"Premium (AA)",createdAt:new Date().toISOString()},{id:"COL006",batchId:"BAT-2025-013",collectorId:"COL-104",farmer:"Amit Singh",herb:"Neem",speciesName:"Azadirachta indica",quantity:"400kg",weight:"400kg",moisture:"14%",gpsCoordinates:"26.9124°, 75.7873°",latitude:"26.9124°",longitude:"75.7873°",accuracy:"±60 meters",collectionTime:"9/19/2025, 09:15:00 AM",submissionDate:"2025-09-19",timestamp:"9/19/2025, 09:15:00 AM",status:"Verified",location:"Rajasthan, India",qualityGrade:"Standard (A)",qualityAssessment:"Standard (A)",createdAt:new Date().toISOString()},{id:"COL007",batchId:"BAT-2025-014",collectorId:"COL-105",farmer:"Lakshmi Devi",herb:"Tulsi",speciesName:"Ocimum sanctum",quantity:"200kg",weight:"200kg",moisture:"16%",gpsCoordinates:"15.3173°, 75.7139°",latitude:"15.3173°",longitude:"75.7139°",accuracy:"±35 meters",collectionTime:"9/18/2025, 06:45:00 AM",submissionDate:"2025-09-18",timestamp:"9/18/2025, 06:45:00 AM",status:"Verified",location:"Karnataka, India",qualityGrade:"Premium (AA)",qualityAssessment:"Premium (AA)",createdAt:new Date().toISOString()},{id:"COL008",batchId:"BAT-2025-015",collectorId:"COL-106",farmer:"Ravi Kumar",herb:"Ginger",speciesName:"Zingiber officinale",quantity:"600kg",weight:"600kg",moisture:"18%",gpsCoordinates:"9.9312°, 76.2673°",latitude:"9.9312°",longitude:"76.2673°",accuracy:"±55 meters",collectionTime:"9/17/2025, 08:20:00 AM",submissionDate:"2025-09-17",timestamp:"9/17/2025, 08:20:00 AM",status:"Verified",location:"Kerala, India",qualityGrade:"Standard (A)",qualityAssessment:"Standard (A)",createdAt:new Date().toISOString()}];Qr.setCollections(e)}}},oE=t=>({id:t.batchId||`AH${t.id.replace("COL","")}`,batchId:t.batchId,collectorId:t.collectorId,herb:t.herb,speciesName:t.speciesName,farmer:t.farmer,location:t.location,gpsCoordinates:t.gpsCoordinates,latitude:t.latitude,longitude:t.longitude,accuracy:t.accuracy,harvestDate:t.submissionDate,collectionTime:t.collectionTime,timestamp:t.timestamp,quantity:t.quantity,weight:t.weight,moisture:t.moisture,qualityGrade:t.qualityGrade,qualityAssessment:t.qualityAssessment,status:"Processing",qualityScore:t.qualityGrade==="Premium (AA)"?98:92,processingSteps:[{step:"Collection Verified",date:t.submissionDate,status:"Completed"},{step:"Quality Check",date:new Date().toISOString().split("T")[0],status:"In Progress"}],labResults:{moisture:t.moisture,pesticide:"Pending Test",dna:"Pending Test",ayushCompliance:!1},collectionId:t.id}),lE=()=>{const t=localStorage.getItem(xa.COLLECTIONS),e=localStorage.getItem("ayurherb_processing_steps");if(!t)Qr.initialize();else{const r=Qr.getCollections();if(!r.some(a=>a.batchId==="BAT 2024 009")){const a={id:"COL004",batchId:"BAT 2024 009",collectorId:"COL 2024",farmer:"COL 2024",herb:"Turmeric",speciesName:"Turmeric",quantity:"25 kg",weight:"25 kg",moisture:"12%",gpsCoordinates:"12.9716°, 77.5946°",latitude:"12.9716°",longitude:"77.5946°",accuracy:"±45 meters",collectionTime:"9/24/2025, 8:30:00 AM",submissionDate:"2025-09-24",timestamp:"9/24/2025, 8:30:00 AM",status:"Verified",location:"Bangalore, Karnataka",qualityGrade:"Premium (AA)",qualityAssessment:"Premium (AA)",createdAt:new Date().toISOString()};r.push(a),Qr.setCollections(r)}}if(!e){const r={"BAT 2024 003":[{stepType:"Drying",temperature:60,duration:"24 hours",notes:"Optimal drying conditions maintained",status:"Completed",date:"2024-01-16",timestamp:new Date().toLocaleString()},{stepType:"Grinding",temperature:25,duration:"2 hours",notes:"Fine powder consistency achieved",status:"Completed",date:"2024-01-17",timestamp:new Date().toLocaleString()}],"BAT-2025-012":[{stepType:"Cleaning",temperature:20,duration:"1 hour",notes:"Removed impurities and foreign matter",status:"Completed",date:"2025-09-21",timestamp:new Date().toLocaleString()},{stepType:"Drying",temperature:55,duration:"18 hours",notes:"Low temperature drying to preserve curcumin",status:"Completed",date:"2025-09-22",timestamp:new Date().toLocaleString()}]};localStorage.setItem("ayurherb_processing_steps",JSON.stringify(r))}};lE();const xs=t=>new Promise(e=>setTimeout(e,t)),_p={totalCollections:1547,verifiedBatches:1089,activeFarmers:234,qualityScore:94.2,recalledBatches:23,pendingTests:135,processingEfficiency:94,qualityCompliance:98,supplyChainSpeed:87,farmerSatisfaction:92,environmentalImpact:{carbonFootprint:2.4,waterUsage:1250,sustainabilityScore:87}},gN=[{month:"Jan",harvest:420,processed:380,verified:340},{month:"Feb",harvest:520,processed:480,verified:450},{month:"Mar",harvest:680,processed:620,verified:580},{month:"Apr",harvest:780,processed:720,verified:680},{month:"May",harvest:920,processed:850,verified:800},{month:"Jun",harvest:1100,processed:1020,verified:980}],ad={healthCheck:async()=>(await xs(500),{status:"healthy",message:"Frontend-only application running",timestamp:new Date().toISOString()}),login:async t=>{if(await xs(1e3),t.username&&t.password)return{success:!0,user:{id:"1",username:t.username,role:t.role,name:"Junaid",email:"junaid@ayurherb.com"},token:"mock-jwt-token"};throw new Error("Invalid credentials")},getDashboardStats:async()=>(await xs(500),_p),getBatches:async(t={})=>{await xs(800);let e=Qr.getBatches();const r=localStorage.getItem("ayurherb_processing_steps"),n=r?JSON.parse(r):{};return e=e.filter(a=>(n[a.batchId]||[]).length===0),t.status&&(e=e.filter(a=>a.status.toLowerCase()===t.status.toLowerCase())),t.search&&(e=e.filter(a=>a.id.toLowerCase().includes(t.search.toLowerCase())||a.herb.toLowerCase().includes(t.search.toLowerCase())||a.farmer.toLowerCase().includes(t.search.toLowerCase()))),e},getBatchById:async t=>{await xs(500);const r=Qr.getBatches().find(n=>n.id===t);if(!r)throw new Error("Batch not found");return r},addProcessingStep:async(t,e)=>{await xs(2e3);const r=localStorage.getItem("ayurherb_processing_steps"),n=r?JSON.parse(r):{};n[t]||(n[t]=[]);const a={id:Date.now().toString(),step:e.step||e.stepType,stepType:e.stepType,temperature:e.temperature,duration:e.duration,notes:e.notes,description:e.description||`${e.stepType} process completed`,date:new Date().toISOString().split("T")[0],timestamp:new Date().toLocaleString(),status:"Completed"};n[t].push(a),localStorage.setItem("ayurherb_processing_steps",JSON.stringify(n));const{generateMockTxHash:i,generateMockBlock:o}=await Qg(()=>Promise.resolve().then(()=>vO),void 0),l=i(),c=o(),u=c.blockNumber,f=c.gasUsed;return{success:!0,message:"Processing step added to blockchain successfully",step:a,blockchain:{transactionHash:l,blockNumber:u,gasUsed:f,network:"Hyperledger Besu",contractAddress:"0x742d35Cc6634C0532925a3b8D0C9C0E2C2C2C2C2",confirmed:!0}}},addLabResult:async(t,e)=>(await xs(1200),{success:!0,message:"Lab results added successfully",result:{id:Date.now().toString(),batchId:t,...e,testDate:new Date().toISOString().split("T")[0],technician:"Dr. Sarah Wilson"}}),getHarvestData:async()=>(await xs(600),gN),getEnvironmentalReport:async()=>(await xs(700),{carbonFootprint:_p.environmentalImpact.carbonFootprint,waterUsage:_p.environmentalImpact.waterUsage,sustainabilityScore:_p.environmentalImpact.sustainabilityScore,monthlyData:gN.map(t=>({month:t.month,carbon:Math.random()*5,water:Math.random()*2e3,sustainability:70+Math.random()*30}))}),getAyushCompliance:async()=>(await xs(500),{overallCompliance:94.2,categories:[{name:"Quality Standards",score:96.5,status:"Excellent"},{name:"Documentation",score:92.8,status:"Good"},{name:"Traceability",score:98.1,status:"Excellent"},{name:"Safety Protocols",score:89.4,status:"Good"}]}),getCollections:async()=>(await xs(600),Qr.getCollections()),addCollection:async t=>{await xs(800);const e={id:`COL${Date.now().toString().slice(-3)}`,batchId:`BAT 2024 ${Date.now().toString().slice(-3)}`,collectorId:"COL 2024",createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),...t};if(!Qr.addCollection(e))throw new Error("Failed to save collection");return{success:!0,message:"Collection added successfully",collection:e}},updateCollectionStatus:async(t,e)=>{if(await xs(800),!Qr.updateCollectionStatus(t,e))throw new Error("Collection not found");const a=Qr.getCollections().find(i=>i.id===t);return{success:!0,message:`Collection ${t} status updated to ${e}`,collection:a}},uploadFile:async t=>(await xs(2e3),{success:!0,fileUrl:`https://mock-storage.com/${t.name}`,fileName:t.name,fileSize:t.size}),getProcessedBatches:async()=>{await xs(600);const t=localStorage.getItem("ayurherb_processing_steps"),e=t?JSON.parse(t):{};console.log("Processing steps data:",e);const r=Qr.getBatches();console.log("All batches:",r);const n=r.filter(a=>{const i=e[a.batchId]||[];return console.log(`Batch ${a.batchId} has ${i.length} processing steps:`,i),i.length>0}).map(a=>{const i=e[a.batchId]||[],o=i.length+2,l=i.filter(u=>u.status==="Completed").length+2,c=Math.round(l/o*100);return{...a,processingSteps:[{step:"Collection Verified",date:a.harvestDate,status:"Completed"},{step:"Quality Check",date:a.harvestDate,status:"Completed"},...i],progress:c,customProcessingSteps:i}});return console.log("Processed batches result:",n),n},clearAllBatches:async()=>{if(await xs(500),!Qr.clearAllData())throw new Error("Failed to clear data");return{success:!0,message:"All batches cleared successfully"}}},cE=({onLogin:t,showToast:e})=>{var w,N,y;const[r,n]=ie.useState(""),[a,i]=ie.useState({username:"",password:""}),[o,l]=ie.useState(!1),[c,u]=ie.useState(!1),[f,m]=ie.useState(0);ie.useEffect(()=>{const b=setTimeout(()=>{m(1)},300);return()=>clearTimeout(b)},[]);const x=[{id:"Collector",name:"Collector",description:"Report and manage herb collections",icon:pt,gradient:"from-emerald-500 to-teal-600",bgGradient:"from-emerald-500/20 to-teal-600/20",borderGradient:"from-emerald-500/50 to-teal-600/50",credentials:{username:"collector",password:"collect123"},features:["Collection Reports","Batch Management","Inventory Tracking"]},{id:"Processor",name:Ut.roles.processor,description:Ut.login.processorDesc,icon:Si,gradient:"from-blue-500 to-blue-600",bgGradient:"from-blue-500/20 to-blue-600/20",borderGradient:"from-blue-500/50 to-blue-600/50",credentials:{username:"processor",password:"process123"},features:["Batch Processing","Workflow Management","Quality Control"]},{id:"Lab Tester",name:Ut.roles.labTester,description:Ut.login.labTesterDesc,icon:Cn,gradient:"from-primary-500 to-primary-600",bgGradient:"from-primary-500/20 to-primary-600/20",borderGradient:"from-primary-500/50 to-primary-600/50",credentials:{username:"labtester",password:"lab123"},features:["Quality Testing","Lab Reports","Compliance Check"]},{id:"Admin",name:Ut.roles.admin,description:Ut.login.adminDesc,icon:vo,gradient:"from-purple-500 to-purple-600",bgGradient:"from-purple-500/20 to-purple-600/20",borderGradient:"from-purple-500/50 to-purple-600/50",credentials:{username:"admin",password:"admin123"},features:["System Analytics","User Management","Full Access"]},{id:"Customer",name:Ut.roles.customer,description:Ut.login.customerDesc,icon:Bt,gradient:"from-orange-500 to-orange-600",bgGradient:"from-orange-500/20 to-orange-600/20",borderGradient:"from-orange-500/50 to-orange-600/50",credentials:{username:"customer",password:"customer123"},features:["Product Tracking","QR Scanning","Provenance View"]}],p=b=>{n(b.id),i({username:b.credentials.username,password:b.credentials.password}),setTimeout(()=>{k(null,b)},500)},k=async(b,A=null)=>{b&&b.preventDefault();const E=A||x.find(U=>U.id===r);if(!E){e("Please select a role","error");return}l(!0);try{const U=await ad.login({username:a.username,password:a.password,role:E.id});t(U.user)}catch(U){e(U.message||"Login failed","error")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-slate-900 to-gray-950 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(34,197,94,0.15),transparent_50%)]"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(59,130,246,0.15),transparent_50%)]"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-40",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.02'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})})]}),s.jsx("nav",{className:"relative z-50 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500 to-emerald-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-12 h-12 bg-gradient-to-br from-primary-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-xl",children:s.jsx(as,{className:"w-6 h-6 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-primary-200 bg-clip-text text-transparent",children:Ut.appName}),s.jsx("p",{className:"text-xs text-gray-400 font-medium",children:"Supply Chain Management"})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[s.jsx("a",{href:"#features",className:"text-gray-300 hover:text-white transition-colors font-medium",children:"Features"}),s.jsx("a",{href:"#about",className:"text-gray-300 hover:text-white transition-colors font-medium",children:"About"}),s.jsx("a",{href:"#contact",className:"text-gray-300 hover:text-white transition-colors font-medium",children:"Contact"})]}),s.jsx("button",{className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors",children:s.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center gap-1",children:[s.jsx("div",{className:"w-full h-0.5 bg-current"}),s.jsx("div",{className:"w-full h-0.5 bg-current"}),s.jsx("div",{className:"w-full h-0.5 bg-current"})]})})]})})}),s.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-[calc(100vh-120px)] p-6",children:s.jsxs("div",{className:"w-full max-w-7xl",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-500/10 border border-primary-500/20 rounded-full mb-6",children:[s.jsx(mN,{className:"w-4 h-4 text-primary-400"}),s.jsx("span",{className:"text-primary-300 text-sm font-medium",children:"Next-Generation Supply Chain"})]}),s.jsxs("h1",{className:"text-6xl md:text-7xl font-black bg-gradient-to-r from-white via-gray-100 to-primary-200 bg-clip-text text-transparent leading-tight mb-6",children:["Ayurvedic Supply Chain",s.jsx("br",{}),s.jsx("span",{className:"bg-gradient-to-r from-primary-400 via-emerald-400 to-primary-500 bg-clip-text text-transparent",children:"Management System"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-4xl mx-auto leading-relaxed font-light",children:"Experience the future of Ayurvedic supply chain management with our comprehensive platform. Track, manage, and optimize your entire supply chain from farm to consumer."})]}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 mb-16",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex -space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-full border-2 border-gray-900 flex items-center justify-center",children:s.jsx(pt,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full border-2 border-gray-900 flex items-center justify-center",children:s.jsx(Si,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-primary-600 rounded-full border-2 border-gray-900 flex items-center justify-center",children:s.jsx(Cn,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-emerald-500 rounded-full border-2 border-gray-900 flex items-center justify-center",children:s.jsx(vo,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-full border-2 border-gray-900 flex items-center justify-center",children:s.jsx(Bt,{className:"w-5 h-5 text-white"})})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-white font-semibold",children:"5 Role-Based Dashboards"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Collector, Processor, Lab Tester, Admin, Customer"})]})]})})]}),!r&&s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-white to-primary-200 bg-clip-text text-transparent mb-6",children:"Choose Your Access Portal"}),s.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto font-light",children:"Select your role to access the comprehensive dashboard tailored for your responsibilities"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-8",children:x.map((b,A)=>{const E=b.icon;return s.jsx("div",{className:`transform transition-all duration-700 ${f?"translate-y-0 opacity-100":"translate-y-12 opacity-0"}`,style:{transitionDelay:`${A*200}ms`},children:s.jsxs("div",{className:"group cursor-pointer relative h-full",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500/30 via-blue-500/30 to-emerald-500/30 rounded-3xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{onClick:()=>p(b),className:"relative h-full bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8 shadow-2xl group-hover:shadow-primary-500/25 transition-all duration-500 transform group-hover:scale-105",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:`w-20 h-20 bg-gradient-to-br ${b.gradient} rounded-2xl flex items-center justify-center mx-auto shadow-2xl group-hover:shadow-3xl transition-shadow duration-300`,children:s.jsx(E,{className:"w-10 h-10 text-white"})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(mN,{className:"w-3 h-3 text-white"})})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3 group-hover:bg-gradient-to-r group-hover:from-white group-hover:to-primary-200 group-hover:bg-clip-text group-hover:text-transparent transition-all duration-300",children:b.name}),s.jsx("p",{className:"text-gray-400 text-base leading-relaxed group-hover:text-gray-300 transition-colors duration-300",children:b.description})]}),s.jsx("div",{className:"space-y-3 mb-8",children:b.features.map((U,V)=>s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-300 group-hover:text-white transition-colors duration-300",children:[s.jsx("div",{className:`w-2 h-2 bg-gradient-to-r ${b.gradient} rounded-full shadow-lg`}),s.jsx("span",{className:"font-medium",children:U})]},V))}),s.jsxs("button",{className:`w-full py-4 px-6 bg-gradient-to-r ${b.gradient} text-white font-bold rounded-2xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 flex items-center justify-center gap-3`,children:[s.jsx("span",{children:"Access Dashboard"}),s.jsx(yb,{className:"w-5 h-5"})]}),s.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-all duration-500",children:s.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded-full animate-pulse"})})]})]})},b.id)})})]}),r&&s.jsx("div",{className:"max-w-lg mx-auto mt-16",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500/30 via-blue-500/30 to-emerald-500/30 rounded-3xl blur-xl opacity-75"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-2xl border border-white/20 rounded-3xl p-10 shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500 to-emerald-500 rounded-3xl blur opacity-60"}),s.jsx("div",{className:`relative w-20 h-20 bg-gradient-to-br ${(w=x.find(b=>b.id===r))==null?void 0:w.gradient} rounded-3xl flex items-center justify-center shadow-2xl`,children:mm.createElement((N=x.find(b=>b.id===r))==null?void 0:N.icon,{className:"w-10 h-10 text-white"})})]}),s.jsxs("h3",{className:"text-3xl font-bold bg-gradient-to-r from-white to-primary-200 bg-clip-text text-transparent mb-3",children:[(y=x.find(b=>b.id===r))==null?void 0:y.name," Portal"]}),s.jsx("p",{className:"text-gray-300 text-lg mb-6 leading-relaxed",children:"Enter your credentials to access your personalized dashboard"}),s.jsxs("button",{onClick:()=>n(""),className:"inline-flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-primary-400 hover:text-primary-300 font-medium rounded-xl border border-white/20 hover:border-primary-500/50 transition-all duration-300",children:[s.jsx(yb,{className:"w-4 h-4 rotate-180"}),s.jsx("span",{children:"Change Role"})]})]}),s.jsxs("form",{onSubmit:k,className:"space-y-8",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"block text-base font-semibold text-white flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-emerald-500 rounded-xl flex items-center justify-center",children:s.jsx(Tf,{className:"w-4 h-4 text-white"})}),Ut.login.username]}),s.jsx("input",{type:"text",value:a.username,onChange:b=>i({...a,username:b.target.value}),className:"w-full py-4 px-6 bg-white/10 border-2 border-white/20 focus:border-primary-500 text-white text-lg placeholder-gray-400 rounded-2xl focus:outline-none focus:ring-4 focus:ring-primary-500/20 transition-all duration-300 backdrop-blur-sm",placeholder:"Enter your username",required:!0})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"block text-base font-semibold text-white flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(zv,{className:"w-4 h-4 text-white"})}),Ut.login.password]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c?"text":"password",value:a.password,onChange:b=>i({...a,password:b.target.value}),className:"w-full py-4 px-6 pr-16 bg-white/10 border-2 border-white/20 focus:border-primary-500 text-white text-lg placeholder-gray-400 rounded-2xl focus:outline-none focus:ring-4 focus:ring-primary-500/20 transition-all duration-300 backdrop-blur-sm",placeholder:"Enter your password",required:!0}),s.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-5 top-1/2 transform -translate-y-1/2 p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-xl transition-all duration-200",children:c?s.jsx(w6,{className:"w-5 h-5"}):s.jsx(ki,{className:"w-5 h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:o,className:`w-full py-5 px-8 bg-gradient-to-r from-primary-500 via-emerald-500 to-primary-600 hover:from-primary-600 hover:via-emerald-600 hover:to-primary-700 text-white text-lg font-bold rounded-2xl shadow-2xl hover:shadow-primary-500/50 transform hover:scale-105 transition-all duration-300 flex items-center justify-center gap-4 ${o?"opacity-75 cursor-not-allowed transform-none":""}`,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Authenticating..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:Ut.login.loginButton}),s.jsx(yb,{className:"w-5 h-5"})]})})]})]})]})})]})})]})},C6=ie.createContext(),K0=()=>{const t=ie.useContext(C6);if(!t)throw new Error("useCollections must be used within a CollectionsProvider");return t},dE=({children:t})=>{const[e,r]=ie.useState([]),[n,a]=ie.useState(!1),[i,o]=ie.useState(null);ie.useEffect(()=>{(()=>{try{const b=localStorage.getItem("ayurherb_collections");if(b){const A=JSON.parse(b);r(A)}}catch(b){console.error("Failed to load collections:",b),o("Failed to load collections")}})()},[]),ie.useEffect(()=>{try{localStorage.setItem("ayurherb_collections",JSON.stringify(e))}catch(y){console.error("Failed to save collections:",y)}},[e]);const l=y=>{const b={id:`COL-${Date.now()}`,...y,submissionDate:new Date().toISOString().split("T")[0],status:"Verified",timestamp:new Date().toLocaleString(),createdAt:new Date().toISOString(),isVerified:!0};return r(A=>[b,...A]),b},c=(y,b)=>{r(A=>A.map(E=>E.id===y?{...E,...b}:E))},u=y=>{r(b=>b.filter(A=>A.id!==y))},f=y=>e.find(b=>b.id===y),m=(y=5)=>e.sort((b,A)=>new Date(A.createdAt)-new Date(b.createdAt)).slice(0,y),x=y=>e.filter(b=>b.status===y),p=()=>{const y=new Date().toISOString().split("T")[0];return e.filter(b=>b.submissionDate===y)},N={collections:e,loading:n,error:i,addCollection:l,updateCollection:c,deleteCollection:u,clearError:()=>{o(null)},getCollectionById:f,getRecentCollections:m,getCollectionsByStatus:x,getTodaysCollections:p,getCollectionsStats:()=>{const y=e.length,b=p().length,A=x("Pending Verification").length,E=x("Verified").length,U=x("Processing").length;return{totalCollections:y,todayCollections:b,pendingReports:A,completedReports:E,processing:U}}};return s.jsx(C6.Provider,{value:N,children:t})},uE=({user:t,showToast:e})=>{const r=Ci(),{getCollectionsStats:n,getRecentCollections:a,collections:i}=K0(),o=t==null?void 0:t.role,l=o==="Processor",c=o==="Lab Tester",u=o==="Admin",f=o==="Customer";console.log("Dashboard - User role:",o,"isProcessor:",l,"isLabTester:",c,"isAdmin:",u,"isCustomer:",f);const m=n(),x=a(5),p=144,k=65,w=()=>{r("/collections"),e("Redirecting to New Collection form...","info")};if(l){const[N,y]=ie.useState([]),[b,A]=ie.useState({totalSubmitted:247,todaySubmitted:0,pending:0}),[E,U]=ie.useState(!0),V=()=>{try{const _=localStorage.getItem("ayurherb_processing_steps"),$=_?JSON.parse(_):{},J=new Date().toISOString().split("T")[0];let P=i;if(!P||P.length===0){const Y=localStorage.getItem("ayurherb_collections");P=Y?JSON.parse(Y):[]}console.log("Collections data:",P),console.log("Collections length:",P.length);const S=Object.keys($).filter(Y=>{const z=$[Y];return z.length===0?!1:z.some(D=>{const Q=D.timestamp||D.date||"";if(console.log("Checking processing step:",D.step,"Date:",Q,"Today:",J),Q.startsWith(J))return!0;const q=new Date(Q),ee=new Date(J);return q.toDateString()===ee.toDateString()})}).length;console.log("Today processed batches count:",S);const W=Object.keys($).filter(Y=>$[Y].length>0),R=P.filter(Y=>{const z=Y.batchId||Y.id;return!W.includes(z)}),Z=[];Object.keys($).forEach(Y=>{var D,Q;const z=$[Y];if(z.length>0){const q=P.find(ee=>ee.batchId===Y||ee.id===Y);q&&q.herbName&&Z.push({batchId:Y,collection:q,processingSteps:z,totalSteps:z.length,lastProcessed:((D=z[z.length-1])==null?void 0:D.timestamp)||((Q=z[z.length-1])==null?void 0:Q.date),onChainVerified:z.some(ee=>{var C;return(C=ee.blockchain)==null?void 0:C.confirmed})})}}),y(Z),A({totalSubmitted:247,todaySubmitted:S,pending:R.length}),U(!1)}catch(_){console.error("Error loading processing data:",_),e("Error loading processing data","error"),U(!1)}};ie.useEffect(()=>{V()},[i]);const M=_=>{switch(_){case"Drying":return ho;case"Grinding":return vo;case"Storage":return pt;case"Quality Check":return rt;case"Packaging":return pt;case"Cleaning":return Bt;default:return is}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"relative text-6xl font-black tracking-tight",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent blur-sm opacity-50",children:"Processing Dashboard"}),s.jsx("span",{className:"relative bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Processing Dashboard"}),s.jsx("div",{className:"absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-full animate-pulse",style:{width:"100%"}})]}),s.jsx("p",{className:"text-xl text-gray-300 font-light mt-4",children:"Monitor all processing steps and blockchain transactions"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/30 via-teal-500/30 to-cyan-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/20 via-teal-500/15 to-cyan-500/10 backdrop-blur-xl border-2 border-emerald-500/30 rounded-3xl p-8 hover:border-emerald-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(pt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent mb-1",children:b.totalSubmitted}),s.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 text-sm font-semibold",children:[s.jsx($o,{className:"w-3 h-3"}),s.jsx("span",{children:"All Time"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:"Total Submitted"}),s.jsx("p",{className:"text-emerald-300/80 text-sm font-medium",children:"All collections submitted"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/30 via-purple-500/30 to-indigo-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500/20 via-purple-500/15 to-indigo-500/10 backdrop-blur-xl border-2 border-blue-500/30 rounded-3xl p-8 hover:border-blue-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400 to-purple-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Ni,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent mb-1",children:b.todaySubmitted}),s.jsxs("div",{className:"flex items-center gap-1 text-blue-400 text-sm font-semibold",children:[s.jsx(zt,{className:"w-3 h-3"}),s.jsx("span",{children:"Today"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Today Processed"}),s.jsx("p",{className:"text-blue-300/80 text-sm font-medium",children:"Batches processed today"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/30 via-red-500/30 to-pink-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-orange-500/20 via-red-500/15 to-pink-500/10 backdrop-blur-xl border-2 border-orange-500/30 rounded-3xl p-8 hover:border-orange-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-orange-400 to-red-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(zt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent mb-1",children:b.pending}),s.jsxs("div",{className:"flex items-center gap-1 text-orange-400 text-sm font-semibold",children:[s.jsx(zt,{className:"w-3 h-3"}),s.jsx("span",{children:"Awaiting"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent",children:"Pending"}),s.jsx("p",{className:"text-orange-300/80 text-sm font-medium",children:"Batches awaiting processing"})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(is,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Processed Batches"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"All batches with completed processing steps"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Live Data"})]})]}),!E&&N.length>0?s.jsx("div",{className:"space-y-6",children:N.map((_,$)=>{const J=_.collection;return s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-8 hover:border-emerald-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-xl",children:s.jsx(as,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:(J==null?void 0:J.herbName)||"Unknown Herb"}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-300",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"font-medium",children:(J==null?void 0:J.quantity)||"N/A"})]}),s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:(J==null?void 0:J.location)||"N/A"})]})]})]}),s.jsxs("div",{className:"text-right space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(Bt,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"text-emerald-300 text-sm font-semibold",children:[_.totalSteps," Step",_.totalSteps!==1?"s":""]})]}),_.onChainVerified&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(Zr,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-semibold",children:"On-Chain"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Batch ID"}),s.jsx("p",{className:"text-emerald-400 font-bold text-sm",children:_.batchId})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Collector"}),s.jsx("p",{className:"text-white font-bold text-sm",children:(J==null?void 0:J.collector)||(J==null?void 0:J.collectorId)||"Junaid"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Last Processed"}),s.jsx("p",{className:"text-white font-bold text-sm",children:_.lastProcessed||"N/A"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Status"}),s.jsx("p",{className:"text-emerald-400 font-bold text-sm",children:"Processed"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(is,{className:"w-5 h-5 text-emerald-400"}),"Processing Steps:"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.processingSteps.map((P,S)=>{var R;const W=M(P.stepType);return s.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-sm rounded-xl p-8 border border-white/20 hover:border-emerald-500/30 transition-all duration-300 shadow-lg",children:[s.jsxs("div",{className:"flex items-start gap-5 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-xl",children:s.jsx(W,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"text-white font-bold text-2xl mb-2",children:P.stepType}),s.jsx("p",{className:"text-gray-300 text-lg font-semibold",children:P.timestamp||P.date})]}),((R=P.blockchain)==null?void 0:R.confirmed)&&s.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(Bt,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-blue-400 text-base font-bold",children:"On-Chain"})]})]}),s.jsxs("div",{className:"space-y-4",children:[P.temperature&&s.jsxs("div",{className:"flex items-center gap-4 text-orange-300",children:[s.jsx(ho,{className:"w-6 h-6"}),s.jsxs("span",{className:"text-xl font-bold",children:["Temperature: ",P.temperature]})]}),P.duration&&s.jsxs("div",{className:"flex items-center gap-4 text-blue-300",children:[s.jsx(zt,{className:"w-6 h-6"}),s.jsxs("span",{className:"text-xl font-bold",children:["Duration: ",P.duration]})]}),P.notes&&s.jsxs("div",{className:"flex items-start gap-4 text-gray-300 mt-5",children:[s.jsx(Jc,{className:"w-6 h-6 mt-1"}),s.jsxs("span",{className:"text-lg leading-relaxed font-semibold",children:["Notes: ",P.notes]})]})]})]},S)})})]})]})]},_.batchId)})}):E?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"relative mb-8",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 border-2 border-emerald-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm",children:s.jsx(Wg,{className:"w-12 h-12 text-emerald-400 animate-spin"})})]})}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Loading Processing Data..."}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Please wait while we load your processing information."})]})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"relative mb-8",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 border-2 border-emerald-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm",children:s.jsx(is,{className:"w-12 h-12 text-emerald-400"})})]})}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"No Processing Data Yet"}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Start processing herb batches to see comprehensive data here. All processing steps will be displayed with blockchain verification."})]})]})]})]})]})})}if(c){const[N,y]=ie.useState([]),[b,A]=ie.useState(!0),[E,U]=ie.useState({totalTests:156,todayTests:0,pendingTests:0}),V=()=>{try{const M=localStorage.getItem("ayurherb_lab_tests"),_=M?JSON.parse(M):{},$=localStorage.getItem("ayurherb_processing_steps"),J=$?JSON.parse($):{};let P=i;if(!P||P.length===0){const Q=localStorage.getItem("ayurherb_collections");P=Q?JSON.parse(Q):[]}const S=new Date().toISOString().split("T")[0];let W=0,R=0;Object.keys(_).forEach(Q=>{const q=_[Q];R+=q.length,q.forEach(ee=>{new Date(ee.testDate).toISOString().split("T")[0]===S&&W++})});const Z=Object.keys(_).filter(Q=>_[Q].length>0),Y=P.filter(Q=>{const q=Q.batchId||Q.id,ee=J[q]&&J[q].length>0,C=Z.includes(q);return ee&&!C&&Q.herbName}),z=Y.length;console.log("=== LAB TEST STATISTICS DEBUG ==="),console.log("Today:",S),console.log("Lab Tests Data:",_),console.log("Collections Data:",P),console.log("Processing Steps:",J),console.log("Total Tests Count:",R),console.log("Today Tests Count:",W),console.log("Tested Batch IDs:",Z),console.log("Valid Pending Batches:",Y),console.log("Pending Tests:",z),U({totalTests:R+156,todayTests:W,pendingTests:z});const D=[];Object.keys(_).forEach(Q=>{var ee,C;const q=_[Q];if(q.length>0){const G=P.find(te=>te.batchId===Q||te.id===Q),K=J[Q]||[];G&&G.herbName&&D.push({batchId:Q,collection:G,processingSteps:K,labTests:q,totalProcessingSteps:K.length,totalLabTests:q.length,lastTested:(ee=q[q.length-1])==null?void 0:ee.testDate,testStatus:(C=q[q.length-1])==null?void 0:C.status})}}),y(D),A(!1)}catch(M){console.error("Error loading lab test data:",M),A(!1)}};return ie.useEffect(()=>{V()},[i]),ie.useEffect(()=>{const M=()=>{console.log("Storage changed, refreshing lab test data..."),V()};window.addEventListener("storage",M);const _=setInterval(()=>{V()},5e3);return()=>{window.removeEventListener("storage",M),clearInterval(_)}},[]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"relative text-6xl font-black tracking-tight",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent blur-sm opacity-50",children:"Lab Test Dashboard"}),s.jsx("span",{className:"relative bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Lab Test Dashboard"}),s.jsx("div",{className:"absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-full animate-pulse",style:{width:"100%"}})]}),s.jsx("p",{className:"text-xl text-gray-300 font-light mt-4",children:"Complete herb journey from collection to lab testing"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/30 via-teal-500/30 to-cyan-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/20 via-teal-500/15 to-cyan-500/10 backdrop-blur-xl border-2 border-emerald-500/30 rounded-3xl p-8 hover:border-emerald-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(rt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent mb-1",children:E.totalTests}),s.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 text-sm font-semibold",children:[s.jsx($o,{className:"w-3 h-3"}),s.jsx("span",{children:"All Time"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:"Total Tests"}),s.jsx("p",{className:"text-emerald-300/80 text-sm font-medium",children:"All lab tests completed"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/30 via-purple-500/30 to-indigo-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500/20 via-purple-500/15 to-indigo-500/10 backdrop-blur-xl border-2 border-blue-500/30 rounded-3xl p-8 hover:border-blue-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400 to-purple-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Ni,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent mb-1",children:E.todayTests}),s.jsxs("div",{className:"flex items-center gap-1 text-blue-400 text-sm font-semibold",children:[s.jsx(zt,{className:"w-3 h-3"}),s.jsx("span",{children:"Today"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Today's Tests"}),s.jsx("p",{className:"text-blue-300/80 text-sm font-medium",children:"Tests completed today"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/30 via-red-500/30 to-pink-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-orange-500/20 via-red-500/15 to-pink-500/10 backdrop-blur-xl border-2 border-orange-500/30 rounded-3xl p-8 hover:border-orange-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-orange-400 to-red-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(zt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent mb-1",children:E.pendingTests}),s.jsxs("div",{className:"flex items-center gap-1 text-orange-400 text-sm font-semibold",children:[s.jsx(zt,{className:"w-3 h-3"}),s.jsx("span",{children:"Awaiting"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent",children:"Pending Tests"}),s.jsx("p",{className:"text-orange-300/80 text-sm font-medium",children:"Batches awaiting testing"})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(rt,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Completed Lab Tests"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Complete herb journey with collection, processing & test data"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Live Data"})]})]}),!b&&N.length>0?s.jsx("div",{className:"space-y-8",children:N.map((M,_)=>{const $=M.collection,J=M.labTests[M.labTests.length-1];return s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 rounded-3xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-3xl p-8 hover:border-emerald-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-400 via-blue-500 to-purple-500 rounded-2xl blur-lg opacity-60"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-emerald-500 via-blue-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(as,{className:"w-10 h-10 text-white"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black bg-gradient-to-r from-white via-emerald-200 to-blue-300 bg-clip-text text-transparent mb-1",children:($==null?void 0:$.herbName)||"Unknown Herb"}),s.jsx("p",{className:"text-lg text-emerald-300 font-medium",children:"Premium Quality Herb"})]}),s.jsxs("div",{className:"flex items-center gap-6 text-gray-300",children:[s.jsxs("span",{className:"flex items-center gap-2 bg-white/5 px-3 py-1 rounded-lg border border-white/10",children:[s.jsx(pt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"font-semibold",children:($==null?void 0:$.quantity)||"N/A"})]}),s.jsxs("span",{className:"flex items-center gap-2 bg-white/5 px-3 py-1 rounded-lg border border-white/10",children:[s.jsx(Zn,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"font-semibold",children:($==null?void 0:$.location)||"N/A"})]})]})]})]}),s.jsx("div",{className:"flex flex-col items-end gap-3",children:s.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/40 rounded-xl backdrop-blur-sm",children:[s.jsx(Bt,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"text-emerald-300 text-sm font-bold",children:[M.totalProcessingSteps," Processing Steps"]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/40 rounded-xl backdrop-blur-sm",children:[s.jsx(rt,{className:"w-4 h-4 text-blue-400"}),s.jsxs("span",{className:"text-blue-300 text-sm font-bold",children:[M.totalLabTests," Lab Test",M.totalLabTests!==1?"s":""]})]}),s.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl backdrop-blur-sm ${(J==null?void 0:J.status)==="Passed"?"bg-green-500/20 border border-green-500/40":"bg-red-500/20 border border-red-500/40"}`,children:[s.jsx(rt,{className:`w-4 h-4 ${(J==null?void 0:J.status)==="Passed"?"text-green-400":"text-red-400"}`}),s.jsxs("span",{className:`text-sm font-bold ${(J==null?void 0:J.status)==="Passed"?"text-green-300":"text-red-300"}`,children:["Test ",(J==null?void 0:J.status)||"Unknown"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-emerald-500/30 to-blue-500/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:border-emerald-500/40 transition-all duration-300",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-bold mb-2",children:"Batch ID"}),s.jsx("p",{className:"text-emerald-400 font-black text-lg",children:M.batchId})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500/30 to-purple-500/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:border-blue-500/40 transition-all duration-300",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-bold mb-2",children:"Collector"}),s.jsx("p",{className:"text-blue-400 font-black text-lg",children:($==null?void 0:$.collector)||($==null?void 0:$.collectorId)||"Junaid"})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-500/30 to-pink-500/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:border-purple-500/40 transition-all duration-300",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-bold mb-2",children:"Weight"}),s.jsx("p",{className:"text-purple-400 font-black text-lg",children:($==null?void 0:$.quantity)||"N/A"})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-pink-500/30 to-red-500/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:border-pink-500/40 transition-all duration-300",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-bold mb-2",children:"Test Date"}),s.jsx("p",{className:"text-pink-400 font-black text-lg",children:new Date(J==null?void 0:J.testDate).toLocaleDateString()||"N/A"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-indigo-500/20 rounded-2xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-6",children:[s.jsxs("h4",{className:"text-2xl font-black bg-gradient-to-r from-white via-blue-200 to-purple-300 bg-clip-text text-transparent mb-2 flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl blur opacity-60"}),s.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(is,{className:"w-6 h-6 text-white"})})]}),"Processing Data"]}),s.jsx("p",{className:"text-blue-300 font-medium",children:"Steps completed by processor"})]})]}),s.jsx("div",{className:"space-y-6",children:M.processingSteps.map((P,S)=>s.jsxs("div",{className:"bg-gradient-to-br from-white/12 to-white/8 backdrop-blur-sm rounded-xl p-8 border border-white/30",children:[s.jsxs("div",{className:"flex items-center gap-5 mb-6",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(is,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-white font-black text-2xl",children:P.stepType}),s.jsx("p",{className:"text-gray-300 text-lg font-medium",children:P.timestamp||P.date})]})]}),s.jsxs("div",{className:"space-y-4",children:[P.temperature&&s.jsxs("p",{className:"text-orange-300 text-xl font-bold",children:[s.jsx(ho,{className:"w-6 h-6 inline mr-3"}),"Temperature: ",P.temperature]}),P.duration&&s.jsxs("p",{className:"text-blue-300 text-xl font-bold",children:[s.jsx(zt,{className:"w-6 h-6 inline mr-3"}),"Duration: ",P.duration]}),P.notes&&s.jsxs("p",{className:"text-gray-300 text-lg mt-4 leading-relaxed font-medium",children:[s.jsx(Jc,{className:"w-5 h-5 inline mr-3"}),"Notes: ",P.notes]})]})]},S))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-teal-500/20 to-cyan-500/20 rounded-2xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-6",children:[s.jsxs("h4",{className:"text-2xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent mb-2 flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-xl blur opacity-60"}),s.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:s.jsx(rt,{className:"w-6 h-6 text-white"})})]}),"Lab Test Results"]}),s.jsx("p",{className:"text-emerald-300 font-medium",children:"Quality tests performed by tester"})]})]}),s.jsx("div",{className:"space-y-6",children:M.labTests.map((P,S)=>s.jsxs("div",{className:"bg-gradient-to-br from-white/12 to-white/8 backdrop-blur-sm rounded-xl p-8 border border-white/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:s.jsx(rt,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-white font-black text-2xl",children:P.testType}),s.jsxs("p",{className:"text-gray-300 text-lg font-medium",children:["Tester: ",P.tester]})]})]}),s.jsx("div",{className:`px-6 py-3 rounded-full text-lg font-black ${P.status==="Passed"?"bg-green-500/20 text-green-300 border border-green-500/40":"bg-red-500/20 text-red-300 border border-red-500/40"}`,children:P.status})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-emerald-300 text-xl font-black",children:["Result: ",P.resultValue," ",P.unit]}),s.jsxs("p",{className:"text-blue-300 text-xl font-bold",children:["Date: ",new Date(P.testDate).toLocaleDateString()]}),P.notes&&s.jsxs("p",{className:"text-gray-300 text-lg leading-relaxed font-medium",children:["Notes: ",P.notes]}),P.blockchainTx&&s.jsxs("p",{className:"text-purple-300 text-lg font-bold",children:["Blockchain: ",P.blockchainTx.substring(0,20),"..."]})]})]},S))})]})]})]})]},M.batchId)})}):b?s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"relative mb-8",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 border-2 border-emerald-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm",children:s.jsx(Wg,{className:"w-12 h-12 text-emerald-400 animate-spin"})})]})}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Loading Lab Test Data..."}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Please wait while we load comprehensive test information."})]})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"relative mb-8",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 border-2 border-emerald-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm",children:s.jsx(rt,{className:"w-12 h-12 text-emerald-400"})})]})}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"No Lab Tests Completed Yet"}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Complete lab tests will appear here with full herb journey data including collection, processing, and test results."})]})]})]})]})]})})}if(u){const N={totalRevenue:125840,totalSales:2847,monthlyGrowth:18.5,activeCustomers:1256,topSellingHerbs:[{name:"Turmeric",sales:456,revenue:12800,growth:12.5,stock:245},{name:"Ashwagandha",sales:389,revenue:15600,growth:8.3,stock:189},{name:"Ginseng",sales:342,revenue:18900,growth:-2.1,stock:67},{name:"Echinacea",sales:298,revenue:8950,growth:15.7,stock:156},{name:"Ginkgo Biloba",sales:267,revenue:13400,growth:5.2,stock:203},{name:"Holy Basil",sales:234,revenue:9800,growth:22.1,stock:178},{name:"Brahmi",sales:198,revenue:11200,growth:6.8,stock:134},{name:"Neem",sales:176,revenue:7650,growth:-5.3,stock:89}],recentSales:[{id:"ORD-2024-001",customer:"Priya Sharma",herb:"Turmeric",quantity:"2.5 kg",amount:450,date:"2024-10-15",status:"Completed"},{id:"ORD-2024-002",customer:"Rajesh Kumar",herb:"Ashwagandha",quantity:"1.8 kg",amount:720,date:"2024-10-15",status:"Processing"},{id:"ORD-2024-003",customer:"Anita Patel",herb:"Ginseng",quantity:"0.9 kg",amount:890,date:"2024-10-14",status:"Shipped"},{id:"ORD-2024-004",customer:"Vikram Singh",herb:"Echinacea",quantity:"3.2 kg",amount:320,date:"2024-10-14",status:"Completed"},{id:"ORD-2024-005",customer:"Meera Gupta",herb:"Ginkgo Biloba",quantity:"1.5 kg",amount:675,date:"2024-10-13",status:"Completed"},{id:"ORD-2024-006",customer:"Arjun Reddy",herb:"Holy Basil",quantity:"1.2 kg",amount:540,date:"2024-10-13",status:"Shipped"},{id:"ORD-2024-007",customer:"Kavya Nair",herb:"Brahmi",quantity:"0.8 kg",amount:480,date:"2024-10-12",status:"Completed"},{id:"ORD-2024-008",customer:"Rohit Agarwal",herb:"Neem",quantity:"2.1 kg",amount:315,date:"2024-10-12",status:"Processing"}],monthlyTrends:[{month:"Jan",sales:1850,revenue:89500},{month:"Feb",sales:2100,revenue:95200},{month:"Mar",sales:2350,revenue:108700},{month:"Apr",sales:2180,revenue:102300},{month:"May",sales:2650,revenue:118900},{month:"Jun",sales:2847,revenue:125840}],inventoryStatus:[{herb:"Turmeric",stock:245,reorderLevel:100,status:"Good",lastRestocked:"2024-10-10"},{herb:"Ashwagandha",stock:189,reorderLevel:150,status:"Good",lastRestocked:"2024-10-08"},{herb:"Ginseng",stock:67,reorderLevel:80,status:"Low",lastRestocked:"2024-09-25"},{herb:"Echinacea",stock:156,reorderLevel:120,status:"Good",lastRestocked:"2024-10-05"},{herb:"Ginkgo Biloba",stock:203,reorderLevel:100,status:"Good",lastRestocked:"2024-10-12"},{herb:"Holy Basil",stock:178,reorderLevel:150,status:"Good",lastRestocked:"2024-10-07"},{herb:"Brahmi",stock:134,reorderLevel:100,status:"Good",lastRestocked:"2024-10-09"},{herb:"Neem",stock:89,reorderLevel:100,status:"Low",lastRestocked:"2024-09-28"}],customerAnalytics:[{segment:"Premium Customers",count:156,revenue:45600,avgOrder:292},{segment:"Regular Customers",count:789,revenue:58900,avgOrder:75},{segment:"New Customers",count:311,revenue:21340,avgOrder:69}],recentActivities:[{type:"order",message:"New order #ORD-2024-001 from Priya Sharma",time:"2 minutes ago",icon:"ShoppingCart"},{type:"stock",message:"Ginseng stock running low (67 kg remaining)",time:"15 minutes ago",icon:"Package"},{type:"customer",message:"New customer Kavya Nair registered",time:"1 hour ago",icon:"Users"},{type:"payment",message:"Payment of ₹890 received for order #ORD-2024-003",time:"2 hours ago",icon:"DollarSign"},{type:"inventory",message:"Ginkgo Biloba restocked - 203 kg added",time:"3 hours ago",icon:"Package"},{type:"order",message:"Order #ORD-2024-002 marked as processing",time:"4 hours ago",icon:"Clock"}]},y=()=>{try{const b=`
          <!DOCTYPE html>
          <html>
          <head>
            <title>AyurHerb Sales Report</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #10b981; padding-bottom: 20px; }
              .header h1 { color: #10b981; margin: 0; font-size: 28px; }
              .header p { color: #666; margin: 5px 0; }
              .section { margin: 30px 0; }
              .section h2 { color: #10b981; border-bottom: 1px solid #e5e7eb; padding-bottom: 10px; }
              .stats-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin: 20px 0; }
              .stat-card { border: 1px solid #e5e7eb; padding: 15px; border-radius: 8px; text-align: center; }
              .stat-value { font-size: 24px; font-weight: bold; color: #10b981; }
              .stat-label { color: #666; font-size: 14px; }
              table { width: 100%; border-collapse: collapse; margin: 20px 0; }
              th, td { border: 1px solid #e5e7eb; padding: 12px; text-align: left; }
              th { background-color: #f9fafb; font-weight: bold; color: #374151; }
              .status-completed { color: #10b981; font-weight: bold; }
              .status-processing { color: #f59e0b; font-weight: bold; }
              .status-shipped { color: #3b82f6; font-weight: bold; }
              .herbs-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin: 20px 0; }
              .herb-card { border: 1px solid #e5e7eb; padding: 15px; border-radius: 8px; }
              .herb-rank { font-weight: bold; color: #10b981; }
              .growth-positive { color: #10b981; }
              .growth-negative { color: #ef4444; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>AyurHerb Sales Report</h1>
              <p>Generated on ${new Date().toLocaleDateString("en-IN")}</p>
              <p>Comprehensive herb sales analytics and business insights</p>
            </div>

            <div class="section">
              <h2>Sales Overview</h2>
              <div class="stats-grid">
                <div class="stat-card">
                  <div class="stat-value">₹${N.totalRevenue.toLocaleString()}</div>
                  <div class="stat-label">Total Revenue</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value">${N.totalSales.toLocaleString()}</div>
                  <div class="stat-label">Total Sales</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value">${N.activeCustomers.toLocaleString()}</div>
                  <div class="stat-label">Active Customers</div>
                </div>
                <div class="stat-card">
                  <div class="stat-value">+${N.monthlyGrowth}%</div>
                  <div class="stat-label">Growth Rate</div>
                </div>
              </div>
            </div>

            <div class="section">
              <h2>Top Selling Herbs</h2>
              <div class="herbs-grid">
                ${N.topSellingHerbs.map((E,U)=>`
                  <div class="herb-card">
                    <div class="herb-rank">#${U+1} ${E.name}</div>
                    <p>Sales: ${E.sales}</p>
                    <p>Revenue: ₹${E.revenue.toLocaleString()}</p>
                    <p>Stock: ${E.stock} kg</p>
                    <p class="${E.growth>=0?"growth-positive":"growth-negative"}">
                      Growth: ${E.growth>=0?"+":""}${E.growth}%
                    </p>
                  </div>
                `).join("")}
              </div>
            </div>

            <div class="section">
              <h2>Recent Sales History</h2>
              <table>
                <thead>
                  <tr>
                    <th>Order ID</th>
                    <th>Customer</th>
                    <th>Herb</th>
                    <th>Quantity</th>
                    <th>Amount</th>
                    <th>Date</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.recentSales.map(E=>`
                    <tr>
                      <td>${E.id}</td>
                      <td>${E.customer}</td>
                      <td>${E.herb}</td>
                      <td>${E.quantity}</td>
                      <td>₹${E.amount}</td>
                      <td>${E.date}</td>
                      <td class="status-${E.status.toLowerCase()}">${E.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>

            <div class="section">
              <h2>Customer Analytics</h2>
              <table>
                <thead>
                  <tr>
                    <th>Customer Segment</th>
                    <th>Customer Count</th>
                    <th>Total Revenue</th>
                    <th>Average Order</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.customerAnalytics.map(E=>`
                    <tr>
                      <td>${E.segment}</td>
                      <td>${E.count}</td>
                      <td>₹${E.revenue.toLocaleString()}</td>
                      <td>₹${E.avgOrder}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>

            <div class="section">
              <h2>Inventory Status</h2>
              <table>
                <thead>
                  <tr>
                    <th>Herb</th>
                    <th>Current Stock</th>
                    <th>Reorder Level</th>
                    <th>Status</th>
                    <th>Last Restocked</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.inventoryStatus.map(E=>`
                    <tr>
                      <td>${E.herb}</td>
                      <td>${E.stock} kg</td>
                      <td>${E.reorderLevel} kg</td>
                      <td class="${E.status==="Good"?"growth-positive":"growth-negative"}">${E.status}</td>
                      <td>${E.lastRestocked}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
          </html>
        `,A=window.open("","_blank");A.document.write(b),A.document.close(),A.onload=()=>{A.print(),A.close()},e("Sales report is being generated...","success")}catch(b){console.error("Error generating sales report:",b),e("Error generating sales report","error")}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6 lg:p-8 xl:p-12",children:s.jsxs("div",{className:"w-full space-y-8 xl:space-y-12",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-8 xl:gap-12",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"relative text-6xl xl:text-7xl font-black tracking-tight",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent blur-sm opacity-50",children:"Sales"}),s.jsx("span",{className:"relative bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Sales"}),s.jsx("div",{className:"absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-full animate-pulse",style:{width:"100%"}})]}),s.jsx("p",{className:"text-xl xl:text-2xl text-gray-300 font-light mt-6",children:"Comprehensive herb sales analytics and business insights"})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("button",{onClick:y,className:"flex items-center gap-3 px-8 py-4 xl:px-10 xl:py-5 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold text-lg rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-blue-500/25 group",children:[s.jsx(Qc,{className:"w-6 h-6 group-hover:animate-bounce"}),"Download Sales Report"]}),s.jsxs("div",{className:"flex items-center gap-3 px-6 py-3 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-3 h-3 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-300 text-lg font-medium",children:"Live Analytics"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 xl:gap-10",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/30 via-teal-500/30 to-cyan-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/20 via-teal-500/15 to-cyan-500/10 backdrop-blur-xl border-2 border-emerald-500/30 rounded-3xl p-8 xl:p-10 hover:border-emerald-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 xl:w-20 xl:h-20 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(wb,{className:"w-8 h-8 xl:w-10 xl:h-10 text-white"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm xl:text-base font-semibold",children:[s.jsx(Gd,{className:"w-4 h-4 xl:w-5 xl:h-5"}),s.jsxs("span",{children:["+",N.monthlyGrowth,"%"]})]})]}),s.jsxs("div",{className:"space-y-2 xl:space-y-3",children:[s.jsx("h3",{className:"text-xl xl:text-2xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:"Total Revenue"}),s.jsxs("div",{className:"text-3xl xl:text-4xl font-black bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:["₹",N.totalRevenue.toLocaleString()]}),s.jsx("p",{className:"text-emerald-300/80 text-sm xl:text-base font-medium",children:"This month"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/30 via-purple-500/30 to-indigo-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500/20 via-purple-500/15 to-indigo-500/10 backdrop-blur-xl border-2 border-blue-500/30 rounded-3xl p-8 xl:p-10 hover:border-blue-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400 to-purple-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 xl:w-20 xl:h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(ao,{className:"w-8 h-8 xl:w-10 xl:h-10 text-white"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm xl:text-base font-semibold",children:[s.jsx(Gd,{className:"w-4 h-4 xl:w-5 xl:h-5"}),s.jsx("span",{children:"+12.3%"})]})]}),s.jsxs("div",{className:"space-y-2 xl:space-y-3",children:[s.jsx("h3",{className:"text-xl xl:text-2xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Total Sales"}),s.jsx("div",{className:"text-3xl xl:text-4xl font-black bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:N.totalSales.toLocaleString()}),s.jsx("p",{className:"text-blue-300/80 text-sm xl:text-base font-medium",children:"Orders completed"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/30 via-red-500/30 to-pink-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-orange-500/20 via-red-500/15 to-pink-500/10 backdrop-blur-xl border-2 border-orange-500/30 rounded-3xl p-8 xl:p-10 hover:border-orange-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-orange-400 to-red-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 xl:w-20 xl:h-20 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Qh,{className:"w-8 h-8 xl:w-10 xl:h-10 text-white"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-orange-400 text-sm xl:text-base font-semibold",children:[s.jsx(Gd,{className:"w-4 h-4 xl:w-5 xl:h-5"}),s.jsx("span",{children:"+8.7%"})]})]}),s.jsxs("div",{className:"space-y-2 xl:space-y-3",children:[s.jsx("h3",{className:"text-xl xl:text-2xl font-bold bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent",children:"Active Customers"}),s.jsx("div",{className:"text-3xl xl:text-4xl font-black bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent",children:N.activeCustomers.toLocaleString()}),s.jsx("p",{className:"text-orange-300/80 text-sm xl:text-base font-medium",children:"This month"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/30 via-emerald-500/30 to-teal-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-green-500/20 via-emerald-500/15 to-teal-500/10 backdrop-blur-xl border-2 border-green-500/30 rounded-3xl p-8 xl:p-10 hover:border-green-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 xl:w-20 xl:h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(pi,{className:"w-8 h-8 xl:w-10 xl:h-10 text-white"})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm xl:text-base font-semibold",children:[s.jsx($o,{className:"w-4 h-4 xl:w-5 xl:h-5"}),s.jsx("span",{children:"Trending"})]})]}),s.jsxs("div",{className:"space-y-2 xl:space-y-3",children:[s.jsx("h3",{className:"text-xl xl:text-2xl font-bold bg-gradient-to-r from-white to-green-200 bg-clip-text text-transparent",children:"Growth Rate"}),s.jsxs("div",{className:"text-3xl xl:text-4xl font-black bg-gradient-to-r from-white to-green-200 bg-clip-text text-transparent",children:["+",N.monthlyGrowth,"%"]}),s.jsx("p",{className:"text-green-300/80 text-sm xl:text-base font-medium",children:"Monthly increase"})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-10 xl:p-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-10 xl:mb-12",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(on,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl xl:text-5xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Top Selling Herbs"}),s.jsx("p",{className:"text-gray-400 mt-2 xl:mt-3 text-lg xl:text-xl",children:"Best performing products this month"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(Cu,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Analytics"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-8 gap-6 xl:gap-8",children:N.topSellingHerbs.map((b,A)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-6 hover:border-emerald-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:s.jsx(as,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"text-lg font-bold text-white",children:["#",A+1]})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:b.name}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Sales:"}),s.jsx("span",{className:"text-emerald-400 font-semibold",children:b.sales})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Revenue:"}),s.jsxs("span",{className:"text-blue-400 font-semibold",children:["₹",b.revenue.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Growth:"}),s.jsxs("span",{className:`font-semibold flex items-center gap-1 ${b.growth>=0?"text-green-400":"text-red-400"}`,children:[b.growth>=0?s.jsx(Gd,{className:"w-3 h-3"}):s.jsx(pP,{className:"w-3 h-3"}),Math.abs(b.growth),"%"]})]})]})]})]},b.name))})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(ao,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-blue-200 to-purple-300 bg-clip-text text-transparent",children:"Recent Sales History"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Latest herb sales and orders"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(ki,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"View All"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("th",{className:"text-left py-4 px-4 text-gray-400 font-semibold",children:"Order ID"}),s.jsx("th",{className:"text-left py-4 px-4 text-gray-400 font-semibold",children:"Customer"}),s.jsx("th",{className:"text-left py-4 px-4 text-gray-400 font-semibold",children:"Herb"}),s.jsx("th",{className:"text-left py-4 px-4 text-gray-400 font-semibold",children:"Quantity"}),s.jsx("th",{className:"text-left py-4 px-4 text-gray-400 font-semibold",children:"Amount"}),s.jsx("th",{className:"text-left py-4 px-4 text-gray-400 font-semibold",children:"Date"}),s.jsx("th",{className:"text-left py-4 px-4 text-gray-400 font-semibold",children:"Status"})]})}),s.jsx("tbody",{children:N.recentSales.map((b,A)=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-emerald-400 font-semibold",children:b.id})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-white font-medium",children:b.customer})}),s.jsx("td",{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-white",children:b.herb})]})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-gray-300",children:b.quantity})}),s.jsx("td",{className:"py-4 px-4",children:s.jsxs("span",{className:"text-blue-400 font-semibold",children:["₹",b.amount]})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:"text-gray-300",children:b.date})}),s.jsx("td",{className:"py-4 px-4",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${b.status==="Completed"?"bg-green-500/20 text-green-400 border border-green-500/30":b.status==="Processing"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"}`,children:b.status})})]},b.id))})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500/20 via-orange-500/20 to-red-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(pt,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-yellow-200 to-orange-300 bg-clip-text text-transparent",children:"Inventory Status"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Current stock levels and alerts"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-500/20 border border-yellow-500/30 rounded-full",children:[s.jsx(pi,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-300 text-sm font-medium",children:"Live Stock"})]})]}),s.jsx("div",{className:"space-y-4",children:N.inventoryStatus.map((b,A)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-xl p-4 hover:border-yellow-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(as,{className:"w-5 h-5 text-emerald-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold",children:b.herb}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Restocked: ",b.lastRestocked]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold text-white",children:[b.stock," kg"]}),s.jsx("div",{className:`text-xs font-semibold px-2 py-1 rounded-full ${b.status==="Good"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:b.status})]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${b.status==="Good"?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(b.stock/b.reorderLevel*100,100)}%`}})})})]})]},b.herb))})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-pink-500/20 to-indigo-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(pi,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-purple-200 to-pink-300 bg-clip-text text-transparent",children:"Recent Activities"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Latest system activities and alerts"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-purple-500/20 border border-purple-500/30 rounded-full",children:[s.jsx(zt,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-purple-300 text-sm font-medium",children:"Live Feed"})]})]}),s.jsx("div",{className:"space-y-4",children:N.recentActivities.map((b,A)=>{const E=b.icon==="ShoppingCart"?ao:b.icon==="Package"?pt:b.icon==="Users"?Qh:b.icon==="DollarSign"?wb:b.icon==="Clock"?zt:pi;return s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-xl p-4 hover:border-purple-500/40 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${b.type==="order"?"bg-blue-500/20":b.type==="stock"?"bg-orange-500/20":b.type==="customer"?"bg-green-500/20":b.type==="payment"?"bg-emerald-500/20":b.type==="inventory"?"bg-yellow-500/20":"bg-purple-500/20"}`,children:s.jsx(E,{className:`w-5 h-5 ${b.type==="order"?"text-blue-400":b.type==="stock"?"text-orange-400":b.type==="customer"?"text-green-400":b.type==="payment"?"text-emerald-400":b.type==="inventory"?"text-yellow-400":"text-purple-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium leading-relaxed",children:b.message}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:b.time})]})]})})]},A)})})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-indigo-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Qh,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-cyan-200 to-blue-300 bg-clip-text text-transparent",children:"Customer Analytics"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Customer segments and performance metrics"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-cyan-500/20 border border-cyan-500/30 rounded-full",children:[s.jsx(Cu,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-cyan-300 text-sm font-medium",children:"Segments"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:N.customerAnalytics.map((b,A)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-6 hover:border-cyan-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${A===0?"bg-gradient-to-br from-yellow-500 to-orange-600":A===1?"bg-gradient-to-br from-blue-500 to-purple-600":"bg-gradient-to-br from-green-500 to-emerald-600"}`,children:s.jsx(Qh,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:b.segment}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[b.count," customers"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Total Revenue:"}),s.jsxs("span",{className:"text-cyan-400 font-semibold",children:["₹",b.revenue.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Avg Order:"}),s.jsxs("span",{className:"text-blue-400 font-semibold",children:["₹",b.avgOrder]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${A===0?"bg-gradient-to-r from-yellow-500 to-orange-500":A===1?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gradient-to-r from-green-500 to-emerald-500"}`,style:{width:`${b.revenue/58900*100}%`}})})]})]})]},b.segment))})]})]})]})})}if(f){const N={totalOrders:47,currentOrders:3,totalSpent:18750,loyaltyPoints:1250},y=[{name:"Ashwagandha",sales:156,growth:"+23%",price:450,image:"🌿",status:"Hot"},{name:"Turmeric",sales:134,growth:"+18%",price:280,image:"🟡",status:"Trending"},{name:"Brahmi",sales:98,growth:"+15%",price:380,image:"🍃",status:"Popular"},{name:"Neem",sales:87,growth:"+12%",price:220,image:"🌱",status:"Rising"}],b=[{id:"ORD-001",herb:"Ashwagandha Powder",quantity:"500g",amount:450,status:"Delivered",date:"2025-10-15"},{id:"ORD-002",herb:"Turmeric Capsules",quantity:"60 caps",amount:280,status:"Shipped",date:"2025-10-14"},{id:"ORD-003",herb:"Brahmi Oil",quantity:"100ml",amount:380,status:"Processing",date:"2025-10-13"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"relative text-6xl font-black tracking-tight",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent blur-sm opacity-50",children:"Sales Dashboard"}),s.jsx("span",{className:"relative bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Sales Dashboard"}),s.jsx("div",{className:"absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-full animate-pulse",style:{width:"100%"}})]}),s.jsxs("p",{className:"text-xl text-gray-300 font-light mt-4",children:["Welcome back, ",(t==null?void 0:t.name)||"Customer","! Track your orders and discover trending herbs"]})]}),s.jsxs("button",{className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-emerald-500/25",children:[s.jsx(ao,{className:"w-5 h-5"}),"New Order"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/30 via-cyan-500/30 to-teal-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500/20 via-cyan-500/15 to-teal-500/10 backdrop-blur-xl border-2 border-blue-500/30 rounded-3xl p-8 hover:border-blue-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(ao,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent mb-1",children:N.totalOrders}),s.jsxs("div",{className:"flex items-center gap-1 text-blue-400 text-sm font-semibold",children:[s.jsx($o,{className:"w-3 h-3"}),s.jsx("span",{children:"+15.2%"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Total Orders"}),s.jsx("p",{className:"text-blue-300/80 text-sm font-medium",children:"All time purchases"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/30 via-yellow-500/30 to-amber-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-orange-500/20 via-yellow-500/15 to-amber-500/10 backdrop-blur-xl border-2 border-orange-500/30 rounded-3xl p-8 hover:border-orange-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-orange-400 to-yellow-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-orange-500 to-yellow-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(zt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent mb-1",children:N.currentOrders}),s.jsxs("div",{className:"flex items-center gap-1 text-orange-400 text-sm font-semibold",children:[s.jsx(pi,{className:"w-3 h-3"}),s.jsx("span",{children:"Active"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent",children:"Current Orders"}),s.jsx("p",{className:"text-orange-300/80 text-sm font-medium",children:"Orders in progress"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/30 via-green-500/30 to-teal-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/20 via-green-500/15 to-teal-500/10 backdrop-blur-xl border-2 border-emerald-500/30 rounded-3xl p-8 hover:border-emerald-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-400 to-green-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-green-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(wb,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent mb-1",children:["₹",N.totalSpent.toLocaleString()]}),s.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 text-sm font-semibold",children:[s.jsx(Gd,{className:"w-3 h-3"}),s.jsx("span",{children:"+22.8%"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:"Total Spent"}),s.jsx("p",{className:"text-emerald-300/80 text-sm font-medium",children:"Lifetime purchases"})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/30 via-pink-500/30 to-rose-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-purple-500/20 via-pink-500/15 to-rose-500/10 backdrop-blur-xl border-2 border-purple-500/30 rounded-3xl p-8 hover:border-purple-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-400 to-pink-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(on,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent mb-1",children:N.loyaltyPoints}),s.jsxs("div",{className:"flex items-center gap-1 text-purple-400 text-sm font-semibold",children:[s.jsx(on,{className:"w-3 h-3"}),s.jsx("span",{children:"Rewards"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Loyalty Points"}),s.jsx("p",{className:"text-purple-300/80 text-sm font-medium",children:"Available rewards"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx($o,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Trending Herbs"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Most popular herbs this month"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Live Data"})]})]}),s.jsx("div",{className:"space-y-6",children:y.map((A,E)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-6 hover:border-emerald-500/40 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsx("div",{className:"text-4xl",children:A.image}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:A.name}),s.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${A.status==="Hot"?"bg-red-500/20 text-red-400 border border-red-500/30":A.status==="Trending"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":A.status==="Popular"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"bg-green-500/20 text-green-400 border border-green-500/30"}`,children:A.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-300",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Cu,{className:"w-4 h-4 text-emerald-400"}),s.jsxs("span",{className:"font-medium",children:[A.sales," sales"]})]}),s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsxs("span",{className:"font-medium",children:["₹",A.price,"/kg"]})]})]})]}),s.jsxs("div",{className:"text-right space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[s.jsx(Gd,{className:"w-5 h-5"}),s.jsx("span",{className:"text-xl font-bold",children:A.growth})]}),s.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-lg hover:from-emerald-600 hover:to-teal-700 transition-all duration-300",children:"Order Now"})]})]})})]},E))})]})]})}),s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8 h-full",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(pt,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black bg-gradient-to-r from-white via-blue-200 to-purple-300 bg-clip-text text-transparent",children:"Recent Orders"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Your latest purchases"})]})]}),s.jsx("div",{className:"space-y-4",children:b.map((A,E)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-xl p-4 hover:border-blue-500/40 transition-all duration-300",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-white font-bold text-sm",children:A.id}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium border ${A.status==="Delivered"?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":A.status==="Shipped"?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"}`,children:A.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-300 font-medium",children:A.herb}),s.jsx("p",{className:"text-gray-400 text-sm",children:A.quantity})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-gray-500 text-xs",children:new Date(A.date).toLocaleDateString()}),s.jsxs("p",{className:"text-white font-bold",children:["₹",A.amount]})]})]})})]},A.id))}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:"View All Orders"})})]})]})})]})]})})}return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[s.jsx("div",{children:s.jsxs("h1",{className:"relative text-6xl font-black tracking-tight",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent blur-sm opacity-50",children:"Dashboard"}),s.jsx("span",{className:"relative bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent animate-pulse",children:"Dashboard"}),s.jsx("div",{className:"absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-full animate-pulse",style:{width:"100%"}})]})}),s.jsxs("button",{onClick:w,className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-emerald-500/25",children:[s.jsx(Ra,{className:"w-5 h-5"}),"New Collection"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/30 via-teal-500/30 to-cyan-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500 animate-pulse"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/20 via-teal-500/15 to-cyan-500/10 backdrop-blur-xl border-2 border-emerald-500/30 rounded-3xl p-8 hover:border-emerald-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-emerald-500/25",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-2xl blur opacity-60 animate-pulse"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl transform group-hover:rotate-12 transition-transform duration-500",children:s.jsx(pt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent mb-1",children:p}),s.jsxs("div",{className:"flex items-center gap-1 text-emerald-400 text-sm font-semibold",children:[s.jsx($o,{className:"w-3 h-3"}),s.jsx("span",{children:"+12.5%"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:"Total Collections"}),s.jsx("p",{className:"text-emerald-300/80 text-sm font-medium",children:"All time reports"}),s.jsx("div",{className:"w-full h-2 bg-emerald-900/30 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full animate-pulse",style:{width:"85%"}})})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/30 via-purple-500/30 to-indigo-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500 animate-pulse"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500/20 via-purple-500/15 to-indigo-500/10 backdrop-blur-xl border-2 border-blue-500/30 rounded-3xl p-8 hover:border-blue-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-blue-500/25",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-400 to-purple-500 rounded-2xl blur opacity-60 animate-pulse"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-2xl transform group-hover:rotate-12 transition-transform duration-500",children:s.jsx(Ni,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent mb-1",children:m.todayCollections}),s.jsxs("div",{className:"flex items-center gap-1 text-blue-400 text-sm font-semibold",children:[s.jsx($o,{className:"w-3 h-3"}),s.jsx("span",{children:"+8.2%"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Today's Collections"}),s.jsx("p",{className:"text-blue-300/80 text-sm font-medium",children:"Reports submitted today"}),s.jsx("div",{className:"w-full h-2 bg-blue-900/30 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse",style:{width:"60%"}})})]})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/30 via-emerald-500/30 to-teal-500/30 rounded-3xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500 animate-pulse"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-green-500/20 via-emerald-500/15 to-teal-500/10 backdrop-blur-xl border-2 border-green-500/30 rounded-3xl p-8 hover:border-green-400/50 transition-all duration-500 hover:scale-105 hover:shadow-2xl hover:shadow-green-500/25",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-green-400 to-emerald-500 rounded-2xl blur opacity-60 animate-pulse"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl transform group-hover:rotate-12 transition-transform duration-500",children:s.jsx(rt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-4xl font-black bg-gradient-to-r from-white to-green-200 bg-clip-text text-transparent mb-1",children:k}),s.jsxs("div",{className:"flex items-center gap-1 text-green-400 text-sm font-semibold",children:[s.jsx(rt,{className:"w-3 h-3"}),s.jsx("span",{children:"Verified"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-white to-green-200 bg-clip-text text-transparent",children:"Completed Reports"}),s.jsx("p",{className:"text-green-300/80 text-sm font-medium",children:"Successfully verified"}),s.jsx("div",{className:"w-full h-2 bg-green-900/30 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 rounded-full animate-pulse",style:{width:"95%"}})})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl animate-pulse"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl blur opacity-60 animate-pulse"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(as,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Recent Collections"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Your latest submissions will appear here"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Ready for Collections"})]})]}),x.length>0?s.jsx("div",{className:"space-y-4",children:x.map((N,y)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-8 hover:border-emerald-500/40 hover:bg-white/15 transition-all duration-300 shadow-lg hover:shadow-emerald-500/10",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-xl blur opacity-60 animate-pulse"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-xl",children:s.jsx(as,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:N.herbName}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-300",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"font-medium",children:N.quantity})]}),s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:N.location})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-500/20 text-green-400 border border-green-500/30 rounded-full text-sm font-semibold",children:[s.jsx(rt,{className:"w-4 h-4"}),s.jsx("span",{children:"Submitted"})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-2 font-medium",children:N.timestamp})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Collector ID"}),s.jsx("p",{className:"text-white font-bold text-sm",children:N.collectorId||"Not specified"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Batch ID"}),s.jsx("p",{className:"text-emerald-400 font-bold text-sm",children:N.batchId||"Not specified"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Collector"}),s.jsx("p",{className:"text-white font-bold text-sm",children:N.collector||(t==null?void 0:t.name)||"Junaid"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Status"}),s.jsx("p",{className:"text-green-400 font-bold text-sm",children:"Verified"})]})]})]})]},N.id))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-3 h-3 bg-emerald-400/40 rounded-full animate-bounce",style:{animationDelay:"0s"}}),s.jsx("div",{className:"absolute top-4 right-1/4 w-2 h-2 bg-blue-400/40 rounded-full animate-bounce",style:{animationDelay:"0.5s"}}),s.jsx("div",{className:"absolute -top-2 left-1/3 w-1 h-1 bg-purple-400/40 rounded-full animate-bounce",style:{animationDelay:"1s"}}),s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 border-2 border-emerald-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm",children:s.jsx(pt,{className:"w-12 h-12 text-emerald-400"})})]})]}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"New collections will appear here"}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Start by creating your first collection report. All your submissions will be displayed in this beautiful dashboard."}),s.jsx("div",{className:"flex items-center justify-center gap-3 mt-8 p-4 bg-gradient-to-r from-emerald-500/10 to-teal-600/10 border border-emerald-500/20 rounded-2xl",children:s.jsxs("div",{className:"flex items-center gap-2 text-emerald-300",children:[s.jsx("span",{className:"text-sm font-medium",children:'Click "New Collection" to get started'}),s.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-ping"})})]})})]}),s.jsxs("div",{className:"flex justify-center gap-8 mt-12 opacity-30",children:[s.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent rounded-full"}),s.jsx("div",{className:"w-12 h-1 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent rounded-full"}),s.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-transparent via-purple-500/50 to-transparent rounded-full"})]})]})]})]})]})})},ti=({children:t,className:e="",hover:r=!1,gradient:n=!1,glass:a=!1})=>{const i="rounded-xl border border-dark-700 p-6",o=r?"card-hover":"",l=n?"gradient-bg":"bg-dark-800",c=a?"glass-dark":"";return s.jsx("div",{className:`${i} ${l} ${c} ${o} ${e}`,children:t})},Bp=({status:t,size:e="sm"})=>{const r=a=>{switch(a==null?void 0:a.toLowerCase()){case"queued":return"status-queued";case"synced":return"status-synced";case"verified":return"status-verified";case"recalled":return"status-recalled";case"pending":return"status-queued";case"completed":return"status-verified";case"in progress":case"in_progress":return"status-synced";case"failed":return"status-recalled";default:return"status-queued"}},n={xs:"px-1.5 py-0.5 text-xs",sm:"px-2 py-1 text-xs",md:"px-3 py-1.5 text-sm",lg:"px-4 py-2 text-base"};return s.jsx("span",{className:`status-badge ${r(t)} ${n[e]} font-medium`,children:t})},hE=({batchId:t,size:e="md"})=>{const r={sm:"w-32 h-32",md:"w-48 h-48",lg:"w-64 h-64"};return s.jsxs(ti,{className:"flex flex-col items-center justify-center text-center",glass:!0,children:[s.jsx("div",{className:`${r[e]} bg-white rounded-lg flex items-center justify-center mb-4`,children:s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-300 rounded-lg flex items-center justify-center",children:s.jsx(k6,{className:"w-16 h-16 text-gray-600"})})}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Batch QR Code"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Batch ID: ",t]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Scan to view product provenance"})]})},fE=({user:t,showToast:e})=>{var u,f;const{batchId:r}=Dx(),[n,a]=ie.useState(null),[i,o]=ie.useState(!0);ie.useEffect(()=>{r&&l(r)},[r]);const l=async m=>{try{o(!0);const x=await ad.getBatchById(m);a(x)}catch{e("Batch not found","error")}finally{o(!1)}},c=((u=n==null?void 0:n.status)==null?void 0:u.toLowerCase())==="recalled";return i?s.jsx("div",{className:"min-h-screen bg-dark-900 p-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-dark-700 rounded w-1/3"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx("div",{className:"h-64 bg-dark-700 rounded-xl"}),s.jsx("div",{className:"h-48 bg-dark-700 rounded-xl"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"h-64 bg-dark-700 rounded-xl"}),s.jsx("div",{className:"h-48 bg-dark-700 rounded-xl"})]})]})]})})}):n?s.jsx("div",{className:"min-h-screen bg-dark-900 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center",children:s.jsx(as,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:Ut.customer.title}),s.jsxs("p",{className:"text-gray-400",children:["Batch ID: ",n.id]})]})]}),s.jsx(Bp,{status:n.status,size:"md"})]}),c&&s.jsx(ti,{className:"border-red-500/30 bg-red-500/10",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Pu,{className:"w-8 h-8 text-red-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-red-400",children:Ut.customer.recallAlert}),s.jsx("p",{className:"text-red-300",children:Ut.customer.productRecalled}),s.jsx("button",{className:"text-red-400 hover:text-red-300 text-sm underline mt-2",children:Ut.customer.contactSupport})]})]})}),!c&&s.jsx(ti,{className:"border-primary-500/30 bg-primary-500/10",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(rt,{className:"w-8 h-8 text-primary-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-primary-400",children:"Product Verified"}),s.jsx("p",{className:"text-primary-300",children:Ut.customer.productSafe})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ti,{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5"}),Ut.customer.batchInfo]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Herb:"}),s.jsx("span",{className:"text-white font-medium",children:n.herb})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Quantity:"}),s.jsx("span",{className:"text-white",children:n.quantity})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Harvest Date:"}),s.jsx("span",{className:"text-white",children:new Date(n.harvestDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Quality Score:"}),s.jsxs("span",{className:"text-white font-medium",children:[n.qualityScore,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Location:"}),s.jsx("span",{className:"text-white",children:n.location})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Status:"}),s.jsx(Bp,{status:n.status})]})]})]})]}),s.jsxs(ti,{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(Ni,{className:"w-5 h-5"}),Ut.customer.processingHistory]}),s.jsx("div",{className:"space-y-4",children:(f=n.processingSteps)==null?void 0:f.map((m,x)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 bg-dark-700/50 rounded-lg",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${m.status==="Completed"?"bg-primary-400":"bg-yellow-400"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-medium",children:m.step}),s.jsx("p",{className:"text-gray-400 text-sm",children:m.date})]}),s.jsx(Bp,{status:m.status,size:"sm"})]},x))})]}),n.labResults&&s.jsxs(ti,{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(Bt,{className:"w-5 h-5"}),Ut.customer.qualityResults]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg text-center",children:[s.jsx(v6,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Moisture Content"}),s.jsxs("p",{className:"text-white font-semibold",children:[n.labResults.moisture,"%"]})]}),s.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg text-center",children:[s.jsx(kP,{className:`w-8 h-8 mx-auto mb-2 ${n.labResults.pesticide==="Not Detected"?"text-primary-400":"text-red-400"}`}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Pesticide Test"}),s.jsx("p",{className:`font-semibold ${n.labResults.pesticide==="Not Detected"?"text-primary-400":"text-red-400"}`,children:n.labResults.pesticide})]}),s.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg text-center",children:[s.jsx(UP,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"DNA Authentication"}),s.jsx("p",{className:"text-primary-400 font-semibold",children:n.labResults.dna})]})]}),s.jsx("div",{className:"mt-4 p-4 bg-dark-700/50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ba,{className:`w-6 h-6 ${n.labResults.ayushCompliance?"text-primary-400":"text-red-400"}`}),s.jsx("span",{className:"text-white font-medium",children:"AYUSH Compliance"})]}),s.jsx(Bp,{status:n.labResults.ayushCompliance?"Compliant":"Non-Compliant"})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(hE,{batchId:n.id}),s.jsxs(ti,{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(Si,{className:"w-5 h-5"}),Ut.customer.farmerProfile]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(Si,{className:"w-8 h-8 text-primary-400"})}),s.jsx("h4",{className:"text-white font-semibold",children:n.farmer}),s.jsxs("p",{className:"text-gray-400 text-sm flex items-center justify-center gap-1 mt-1",children:[s.jsx(Zn,{className:"w-4 h-4"}),n.location]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx($2,{className:"w-4 h-4"}),s.jsx("span",{children:"+91 98765 43210"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(Tf,{className:"w-4 h-4"}),s.jsx("span",{children:"farmer@ayurherb.com"})]})]})]}),s.jsxs(ti,{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(Zn,{className:"w-5 h-5"}),Ut.customer.traceabilityMap]}),s.jsx("div",{className:"aspect-square bg-dark-700/50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Zn,{className:"w-12 h-12 text-primary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Interactive Map"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Coming Soon"})]})})]}),s.jsxs(ti,{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(Ba,{className:"w-5 h-5"}),Ut.customer.certifications]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-700/50 rounded-lg",children:[s.jsx(rt,{className:"w-5 h-5 text-primary-400"}),s.jsx("span",{className:"text-white text-sm",children:"Organic Certified"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-700/50 rounded-lg",children:[s.jsx(rt,{className:"w-5 h-5 text-primary-400"}),s.jsx("span",{className:"text-white text-sm",children:"AYUSH Approved"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-dark-700/50 rounded-lg",children:[s.jsx(rt,{className:"w-5 h-5 text-primary-400"}),s.jsx("span",{className:"text-white text-sm",children:"GMP Compliant"})]})]})]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-6",children:s.jsxs(ti,{className:"text-center max-w-md",children:[s.jsx(Pu,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Batch Not Found"}),s.jsx("p",{className:"text-gray-400",children:"The requested batch could not be found in our system."})]})})},mE=({user:t,showToast:e})=>{const[r,n]=ie.useState("credit-card"),[a,i]=ie.useState(0),[o,l]=ie.useState(""),[c,u]=ie.useState(""),[f,m]=ie.useState(""),x=()=>{if(a===0){e("Please select a rating","error");return}e("Feedback submitted successfully!","success"),i(0),l("")},p=()=>{if(!f||!c){e("Please fill all return details","error");return}e("Return request submitted successfully!","success"),m(""),u("")},k=[{id:"credit-card",name:"Credit Card",icon:yl,description:"Visa, MasterCard, American Express"},{id:"debit-card",name:"Debit Card",icon:yl,description:"All major debit cards accepted"},{id:"upi",name:"UPI",icon:$2,description:"PhonePe, Google Pay, Paytm"},{id:"net-banking",name:"Net Banking",icon:dN,description:"All major banks supported"},{id:"cod",name:"Cash on Delivery",icon:pt,description:"Pay when you receive"}],w=[{title:"Return Window",description:"Products can be returned within 30 days of delivery",icon:zt,color:"text-blue-400"},{title:"Product Condition",description:"Items must be unopened, unused, and in original packaging",icon:pt,color:"text-emerald-400"},{title:"Quality Issues",description:"Damaged or defective products are eligible for immediate return",icon:Bt,color:"text-orange-400"},{title:"Refund Process",description:"Refunds are processed within 5-7 business days after return approval",icon:yl,color:"text-purple-400"},{title:"Return Shipping",description:"Free return shipping for quality issues, customer pays for other returns",icon:W2,color:"text-cyan-400"},{title:"Prescription Products",description:"Ayurvedic medicines cannot be returned once opened for safety reasons",icon:nn,color:"text-red-400"}];return s.jsxs("div",{className:"space-y-8 p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500/20 via-blue-500/20 to-emerald-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500 to-emerald-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-primary-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx($g,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-primary-200 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Account Information"}),s.jsx("p",{className:"text-xl text-gray-300 font-light",children:"Manage your account details, preferences, and policies"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-cyan-500/20 to-emerald-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-xl flex items-center justify-center border border-blue-500/30",children:s.jsx(Zn,{className:"w-6 h-6 text-blue-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Your Address"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-gradient-to-r from-slate-800/50 to-slate-700/30 rounded-xl border border-slate-600/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(dN,{className:"w-5 h-5 text-blue-400 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold mb-1",children:"Primary Address"}),s.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:["Kaikhali, Kolkata, India",s.jsx("br",{}),"PIN: 700052",s.jsx("br",{}),"West Bengal"]})]})]})}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx(Si,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-slate-300 text-sm",children:(t==null?void 0:t.name)||"Junaid"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx($2,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-slate-300 text-sm",children:"+91 98765 43210"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx(Tf,{className:"w-4 h-4 text-slate-400"}),s.jsx("span",{className:"text-slate-300 text-sm",children:"junaid@ayurherb.com"})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-pink-500/20 to-red-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl flex items-center justify-center border border-purple-500/30",children:s.jsx(yl,{className:"w-6 h-6 text-purple-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Default Payment Mode"})]}),s.jsx("div",{className:"space-y-3",children:k.map(N=>{const y=N.icon;return s.jsx("div",{onClick:()=>n(N.id),className:`p-4 rounded-xl border cursor-pointer transition-all duration-300 ${r===N.id?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 border-purple-500/50":"bg-slate-800/30 border-slate-700/30 hover:bg-slate-700/40"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${r===N.id?"bg-purple-500/30 border border-purple-500/50":"bg-slate-700/50"}`,children:s.jsx(y,{className:`w-4 h-4 ${r===N.id?"text-purple-300":"text-slate-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`font-semibold ${r===N.id?"text-white":"text-slate-300"}`,children:N.name}),s.jsx("p",{className:"text-slate-400 text-xs",children:N.description})]}),r===N.id&&s.jsx(rt,{className:"w-5 h-5 text-purple-400"})]})},N.id)})})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-primary-500/20 to-blue-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500/20 to-primary-500/20 rounded-xl flex items-center justify-center border border-emerald-500/30",children:s.jsx(uN,{className:"w-6 h-6 text-emerald-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Product Feedback"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Rate Your Experience"}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(N=>s.jsx("button",{onClick:()=>i(N),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all duration-200 ${N<=a?"bg-yellow-500/20 border border-yellow-500/50":"bg-slate-700/50 border border-slate-600/30 hover:bg-slate-600/50"}`,children:s.jsx(on,{className:`w-5 h-5 ${N<=a?"text-yellow-400 fill-current":"text-slate-400"}`})},N))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Your Feedback"}),s.jsx("textarea",{value:o,onChange:N=>l(N.target.value),placeholder:"Share your experience with our products...",className:"w-full h-32 px-4 py-3 bg-slate-800/50 border border-slate-600/50 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 resize-none"})]}),s.jsxs("button",{onClick:x,className:"w-full px-6 py-3 bg-gradient-to-r from-emerald-500 to-primary-500 hover:from-emerald-600 hover:to-primary-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(uN,{className:"w-4 h-4"}),"Submit Feedback"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsx("h4",{className:"text-white font-semibold mb-3",children:"Recent Feedback"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(N=>s.jsx(on,{className:"w-3 h-3 text-yellow-400 fill-current"},N))}),s.jsx("span",{className:"text-xs text-slate-400",children:"2 days ago"})]}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Excellent quality Ashwagandha powder. Very satisfied!"})]}),s.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("div",{className:"flex gap-1",children:[[1,2,3,4].map(N=>s.jsx(on,{className:"w-3 h-3 text-yellow-400 fill-current"},N)),s.jsx(on,{className:"w-3 h-3 text-slate-400"})]}),s.jsx("span",{className:"text-xs text-slate-400",children:"1 week ago"})]}),s.jsx("p",{className:"text-slate-300 text-sm",children:"Good packaging and fast delivery. Product quality is good."})]})]})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/20 via-red-500/20 to-pink-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-xl flex items-center justify-center border border-orange-500/30",children:s.jsx(hN,{className:"w-6 h-6 text-orange-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Return Product"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-200 mb-4 flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-orange-400"}),"Select Product to Return"]}),s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-orange-500/30 via-red-500/30 to-pink-500/30 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-700"}),s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/20 via-red-500/20 to-pink-500/20 rounded-xl blur opacity-20 group-hover:opacity-40 transition-all duration-500"}),s.jsxs("div",{className:"relative flex items-center gap-4 px-5 py-5 bg-gradient-to-br from-slate-800/95 via-slate-900/90 to-slate-800/95 backdrop-blur-2xl border border-slate-600/40 rounded-2xl shadow-2xl group-hover:border-orange-500/60 group-hover:shadow-orange-500/10 transition-all duration-500 transform group-hover:scale-[1.01]",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-orange-500/40 to-red-500/40 rounded-xl blur opacity-50 group-hover:opacity-80 transition-opacity duration-500"}),s.jsx("div",{className:"relative w-12 h-12 bg-gradient-to-br from-orange-500/25 to-red-500/25 rounded-xl flex items-center justify-center border border-orange-500/40 backdrop-blur-sm group-hover:from-orange-500/35 group-hover:to-red-500/35 transition-all duration-300",children:s.jsx(pt,{className:"w-6 h-6 text-orange-300 group-hover:text-orange-200 drop-shadow-lg"})})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsxs("select",{value:f,onChange:N=>m(N.target.value),className:"appearance-none bg-transparent text-white font-semibold text-base cursor-pointer focus:outline-none pr-12 w-full min-h-[28px] tracking-wide",children:[s.jsx("option",{value:"",className:"bg-slate-900 text-slate-400 py-4 px-6 font-medium",children:"Choose a product..."}),s.jsx("option",{value:"ashwagandha-powder",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Ashwagandha Powder 500g - Order #ORD001"}),s.jsx("option",{value:"turmeric-capsules",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Turmeric Capsules 60ct - Order #ORD002"}),s.jsx("option",{value:"brahmi-oil",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Brahmi Oil 100ml - Order #ORD003"}),s.jsx("option",{value:"neem-tablets",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Neem Tablets 30ct - Order #ORD004"})]}),s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-orange-500/30 to-red-500/30 rounded-lg blur opacity-50"}),s.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-orange-500/25 to-red-500/25 rounded-lg flex items-center justify-center border border-orange-500/40 backdrop-blur-sm group-hover:from-orange-500/35 group-hover:to-red-500/35 transition-all duration-300",children:s.jsx("svg",{className:"w-5 h-5 text-orange-300 group-hover:text-orange-200 transition-all duration-300 group-hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})})})]})})]})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-200 mb-4 flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-red-400"}),"Reason for Return"]}),s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-red-500/30 via-pink-500/30 to-purple-500/30 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-700"}),s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-500/20 via-pink-500/20 to-purple-500/20 rounded-xl blur opacity-20 group-hover:opacity-40 transition-all duration-500"}),s.jsxs("div",{className:"relative flex items-center gap-4 px-5 py-5 bg-gradient-to-br from-slate-800/95 via-slate-900/90 to-slate-800/95 backdrop-blur-2xl border border-slate-600/40 rounded-2xl shadow-2xl group-hover:border-red-500/60 group-hover:shadow-red-500/10 transition-all duration-500 transform group-hover:scale-[1.01]",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-red-500/40 to-pink-500/40 rounded-xl blur opacity-50 group-hover:opacity-80 transition-opacity duration-500"}),s.jsx("div",{className:"relative w-12 h-12 bg-gradient-to-br from-red-500/25 to-pink-500/25 rounded-xl flex items-center justify-center border border-red-500/40 backdrop-blur-sm group-hover:from-red-500/35 group-hover:to-pink-500/35 transition-all duration-300",children:s.jsx(nn,{className:"w-6 h-6 text-red-300 group-hover:text-red-200 drop-shadow-lg"})})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"appearance-none bg-transparent text-white font-semibold text-base cursor-pointer focus:outline-none pr-12 w-full min-h-[28px] tracking-wide",children:[s.jsx("option",{value:"",className:"bg-slate-900 text-slate-400 py-4 px-6 font-medium",children:"Select reason..."}),s.jsx("option",{value:"damaged",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Product arrived damaged"}),s.jsx("option",{value:"defective",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Product is defective"}),s.jsx("option",{value:"wrong-item",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Wrong item received"}),s.jsx("option",{value:"not-as-described",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Not as described"}),s.jsx("option",{value:"quality-issues",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Quality issues"}),s.jsx("option",{value:"other",className:"bg-slate-900 text-white py-4 px-6 hover:bg-slate-800 font-medium",children:"Other"})]}),s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-red-500/30 to-pink-500/30 rounded-lg blur opacity-50"}),s.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-br from-red-500/25 to-pink-500/25 rounded-lg flex items-center justify-center border border-red-500/40 backdrop-blur-sm group-hover:from-red-500/35 group-hover:to-pink-500/35 transition-all duration-300",children:s.jsx("svg",{className:"w-5 h-5 text-red-300 group-hover:text-red-200 transition-all duration-300 group-hover:rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})})})]})})]})]})]})]}),s.jsxs("button",{onClick:p,className:"w-full px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(hN,{className:"w-4 h-4"}),"Submit Return Request"]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsx("h4",{className:"text-white font-semibold mb-3",children:"Return Status"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[s.jsx(rt,{className:"w-5 h-5 text-emerald-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-300 font-medium text-sm",children:"Return Approved"}),s.jsx("p",{className:"text-slate-400 text-xs",children:"Brahmi Oil - Refund processed"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[s.jsx(zt,{className:"w-5 h-5 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-300 font-medium text-sm",children:"Under Review"}),s.jsx("p",{className:"text-slate-400 text-xs",children:"Neem Tablets - Processing return"})]})]})]})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-purple-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl flex items-center justify-center border border-cyan-500/30",children:s.jsx(Jc,{className:"w-6 h-6 text-cyan-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Return Policy"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map((N,y)=>{const b=N.icon;return s.jsx("div",{className:"p-4 bg-gradient-to-r from-slate-800/50 to-slate-700/30 rounded-xl border border-slate-600/30 hover:bg-slate-700/50 transition-all duration-300",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-slate-700/50 rounded-lg flex items-center justify-center border border-slate-600/30",children:s.jsx(b,{className:`w-5 h-5 ${N.color}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold text-sm mb-2",children:N.title}),s.jsx("p",{className:"text-slate-300 text-xs leading-relaxed",children:N.description})]})]})},y)})}),s.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/30 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($g,{className:"w-5 h-5 text-blue-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-blue-300 font-semibold text-sm mb-1",children:"Important Note"}),s.jsx("p",{className:"text-slate-300 text-xs leading-relaxed",children:"For any questions regarding returns or refunds, please contact our customer support team at support@ayurherb.com or call +91 98765 43210. Our team is available Monday to Friday, 9 AM to 6 PM IST."})]})]})})]})]})]})},pE=({onBack:t})=>{const e={batchInfo:{batchId:"BAT 2024 001",herbType:"Allovera",location:"21.0397°, 88.4400°",quantity:"5 kg",quality:"Premium (A++)",harvestDate:"2025-09-22"},dryingProcess:{temperature:"20°C",duration:"2 hrs",progress:"100%"},labTesting:{testType:"Pesticide Screening",result:"2 ppm",status:"Passed",testDate:"9/25/2025"},verification:{status:"Verified on Blockchain",blockchainRef:"0xbF73c399",certification:"Ayush Certified"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500/20 via-blue-500/20 to-emerald-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("button",{onClick:t,className:"w-12 h-12 bg-gradient-to-br from-slate-700/50 to-slate-600/50 rounded-xl flex items-center justify-center border border-slate-600/30 hover:border-primary-500/50 transition-all duration-200",children:s.jsx(nd,{className:"w-5 h-5 text-slate-300"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-primary-200 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Product Details"}),s.jsx("p",{className:"text-xl text-gray-300 font-light",children:"Complete batch information and verification"})]})]}),s.jsx("div",{className:"text-6xl",children:"🌵"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-primary-500/20 to-blue-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500/20 to-primary-500/20 rounded-xl flex items-center justify-center border border-emerald-500/30",children:s.jsx(pt,{className:"w-6 h-6 text-emerald-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Batch Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx("span",{className:"text-slate-300 font-medium",children:"Batch ID"}),s.jsx("span",{className:"text-white font-bold",children:e.batchInfo.batchId})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx("span",{className:"text-slate-300 font-medium",children:"Herb Type"}),s.jsx("span",{className:"text-emerald-400 font-bold",children:e.batchInfo.herbType})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-slate-300 font-medium",children:"Location"})]}),s.jsx("span",{className:"text-white font-bold",children:e.batchInfo.location})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx("span",{className:"text-slate-300 font-medium",children:"Quantity"}),s.jsx("span",{className:"text-white font-bold",children:e.batchInfo.quantity})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(on,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-slate-300 font-medium",children:"Quality"})]}),s.jsx("span",{className:"text-yellow-400 font-bold",children:e.batchInfo.quality})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ni,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-slate-300 font-medium",children:"Harvest Date"})]}),s.jsx("span",{className:"text-white font-bold",children:e.batchInfo.harvestDate})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/20 via-red-500/20 to-pink-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-xl flex items-center justify-center border border-orange-500/30",children:s.jsx(pi,{className:"w-6 h-6 text-orange-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Drying Process"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ho,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:"text-slate-300 font-medium",children:"Temperature"})]}),s.jsx("span",{className:"text-red-400 font-bold",children:e.dryingProcess.temperature})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zt,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-slate-300 font-medium",children:"Duration"})]}),s.jsx("span",{className:"text-blue-400 font-bold",children:e.dryingProcess.duration})]}),s.jsxs("div",{className:"p-3 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-slate-300 font-medium",children:"Progress"}),s.jsx("span",{className:"text-emerald-400 font-bold",children:e.dryingProcess.progress})]}),s.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-primary-500 h-2 rounded-full w-full"})})]})]})]})]})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-pink-500/20 to-red-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-xl flex items-center justify-center border border-purple-500/30",children:s.jsx(Cn,{className:"w-6 h-6 text-purple-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Lab Testing Results"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Test Type"}),s.jsx("p",{className:"text-white font-bold",children:e.labTesting.testType})]}),s.jsxs("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Result"}),s.jsx("p",{className:"text-blue-400 font-bold",children:e.labTesting.result})]}),s.jsxs("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Status"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("p",{className:"text-emerald-400 font-bold",children:e.labTesting.status})]})]}),s.jsxs("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/30",children:[s.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Test Date"}),s.jsx("p",{className:"text-white font-bold",children:e.labTesting.testDate})]})]})]})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-purple-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500/20 to-blue-500/20 rounded-xl flex items-center justify-center border border-cyan-500/30",children:s.jsx(Bt,{className:"w-6 h-6 text-cyan-400"})}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Verification"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-emerald-500/10 rounded-lg border border-emerald-500/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(rt,{className:"w-5 h-5 text-emerald-400"}),s.jsx("p",{className:"text-emerald-300 font-bold",children:"Blockchain Status"})]}),s.jsx("p",{className:"text-emerald-400 font-medium",children:e.verification.status})]}),s.jsxs("div",{className:"p-4 bg-blue-500/10 rounded-lg border border-blue-500/30",children:[s.jsx("p",{className:"text-blue-300 font-bold mb-2",children:"Blockchain Reference"}),s.jsx("p",{className:"text-blue-400 font-mono text-sm",children:e.verification.blockchainRef})]}),s.jsxs("div",{className:"p-4 bg-yellow-500/10 rounded-lg border border-yellow-500/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(on,{className:"w-5 h-5 text-yellow-400"}),s.jsx("p",{className:"text-yellow-300 font-bold",children:"Certification"})]}),s.jsx("p",{className:"text-yellow-400 font-medium",children:e.verification.certification})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("button",{className:"group relative overflow-hidden px-8 py-4 bg-gradient-to-r from-emerald-500 via-primary-500 to-blue-500 hover:from-emerald-600 hover:via-primary-600 hover:to-blue-600 text-white font-bold rounded-2xl transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl hover:shadow-emerald-500/25 transform hover:scale-105",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),s.jsx(ao,{className:"w-5 h-5 relative z-10"}),s.jsx("span",{className:"relative z-10",children:"Add Item to Cart"})]}),s.jsxs("button",{className:"group relative overflow-hidden px-8 py-4 bg-gradient-to-r from-primary-500 via-blue-500 to-purple-500 hover:from-primary-600 hover:via-blue-600 hover:to-purple-600 text-white font-bold rounded-2xl transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl hover:shadow-primary-500/25 transform hover:scale-105",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),s.jsx(yl,{className:"w-5 h-5 relative z-10"}),s.jsx("span",{className:"relative z-10",children:"Buy Now"})]})]})]})})},gE="6.15.0";function xE(t,e,r){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const a=new Error(`invalid value for type ${e}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${r}`,a.value=t,a}async function Rs(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,a,i)=>(n[e[i]]=a,n),{})}function st(t,e,r){for(let n in e){let a=e[n];const i=r?r[n]:null;i&&xE(a,i,n),Object.defineProperty(t,n,{enumerable:!0,value:a,writable:!1})}}function mu(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>mu(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let a=0;a<t.length;a++)n+=r[t[a]>>4],n+=r[t[a]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return mu(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${mu(n,e)}: ${mu(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ls(t,e){return t&&t.code===e}function Vv(t){return ls(t,"CALL_EXCEPTION")}function ar(t,e,r){let n=t;{const i=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${mu(r)}`);for(const o in r){if(o==="shortMessage")continue;const l=r[o];i.push(o+"="+mu(l))}}i.push(`code=${e}`),i.push(`version=${gE}`),i.length&&(t+=" ("+i.join(", ")+")")}let a;switch(e){case"INVALID_ARGUMENT":a=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(t);break;default:a=new Error(t)}return st(a,{code:e}),r&&Object.assign(a,r),a.shortMessage==null&&st(a,{shortMessage:n}),a}function Pe(t,e,r,n){if(!t)throw ar(e,r,n)}function he(t,e,r,n){Pe(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function P6(t,e,r){r==null&&(r=""),r&&(r=": "+r),Pe(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Pe(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const bE=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"){const r=String.fromCharCode(233).normalize("NFD"),n=String.fromCharCode(101,769);if(r!==n)throw new Error("broken")}t.push(e)}catch{}return t},[]);function vE(t){Pe(bE.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function vm(t,e,r){if(r==null&&(r=""),t!==e){let n=r,a="new";r&&(n+=".",a+=" "+r),Pe(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function L6(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let a=2;for(let i=0;i<n.length;i++)n[i]=parseInt(t.substring(a,a+2),16),a+=2;return n}he(!1,"invalid BytesLike value",e||"value",t)}function yt(t,e){return L6(t,e,!1)}function Fs(t,e){return L6(t,e,!0)}function er(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Gv(t){return er(t,!0)||t instanceof Uint8Array}const xN="0123456789abcdef";function He(t){const e=yt(t);let r="0x";for(let n=0;n<e.length;n++){const a=e[n];r+=xN[(a&240)>>4]+xN[a&15]}return r}function yr(t){return"0x"+t.map(e=>He(e).substring(2)).join("")}function Lu(t){return er(t,!0)?(t.length-2)/2:yt(t).length}function br(t,e,r){const n=yt(t);return r!=null&&r>n.length&&Pe(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),He(n.slice(e??0,r??n.length))}function E6(t,e,r){const n=yt(t);Pe(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const a=new Uint8Array(e);return a.fill(0),r?a.set(n,e-n.length):a.set(n,0),He(a)}function yo(t,e){return E6(t,e,!0)}function yE(t,e){return E6(t,e,!1)}const Rx=BigInt(0),_a=BigInt(1),pu=9007199254740991;function Jg(t,e){const r=Fx(t,"value"),n=BigInt(bt(e,"width"));if(Pe(r>>n===Rx,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-_a){const a=(_a<<n)-_a;return-((~r&a)+_a)}return r}function I6(t,e){let r=Je(t,"value");const n=BigInt(bt(e,"width")),a=_a<<n-_a;if(r<Rx){r=-r,Pe(r<=a,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(_a<<n)-_a;return(~r&i)+_a}else Pe(r<a,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function yc(t,e){const r=Fx(t,"value"),n=BigInt(bt(e,"bits"));return r&(_a<<n)-_a}function Je(t,e){switch(typeof t){case"bigint":return t;case"number":return he(Number.isInteger(t),"underflow",e||"value",t),he(t>=-pu&&t<=pu,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){he(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}he(!1,"invalid BigNumberish value",e||"value",t)}function Fx(t,e){const r=Je(t,e);return Pe(r>=Rx,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const bN="0123456789abcdef";function Mx(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=bN[r>>4],e+=bN[r&15];return BigInt(e)}return Je(t)}function bt(t,e){switch(typeof t){case"bigint":return he(t>=-pu&&t<=pu,"overflow",e||"value",t),Number(t);case"number":return he(Number.isInteger(t),"underflow",e||"value",t),he(t>=-pu&&t<=pu,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return bt(BigInt(t),e)}catch(r){he(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}he(!1,"invalid numeric value",e||"value",t)}function wE(t){return bt(Mx(t))}function Ol(t,e){let n=Fx(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const a=bt(e,"width");for(Pe(a*2>=n.length,`value exceeds width (${a} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<a*2;)n="0"+n}return"0x"+n}function Hr(t){const e=Fx(t,"value");if(e===Rx)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let a=0;a<n.length;a++){const i=a*2;n[a]=parseInt(r.substring(i,i+2),16)}return n}function Ta(t){let e=He(Gv(t)?t:Hr(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const vN="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const yN=BigInt(58);function NE(t){const e=yt(t);let r=Mx(e),n="";for(;r;)n=vN[Number(r%yN)]+n,r/=yN;for(let a=0;a<e.length&&!e[a];a++)n=vN[0]+n;return n}function jE(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return yt(e)}function AE(t){const e=yt(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var Fu;class T6{constructor(e,r,n){ve(this,"filter");ve(this,"emitter");ye(this,Fu,void 0);se(this,Fu,r),st(this,{emitter:e,filter:n})}async removeListener(){L(this,Fu)!=null&&await this.emitter.off(this.filter,L(this,Fu))}}Fu=new WeakMap;function kE(t,e,r,n,a){he(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function _6(t,e,r,n,a){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?r.length-e-1:0}function SE(t,e,r,n,a){return t==="OVERLONG"?(he(typeof a=="number","invalid bad code point for replacement","badCodepoint",a),n.push(a),0):(n.push(65533),_6(t,e,r))}const CE=Object.freeze({error:kE,ignore:_6,replace:SE});function PE(t,e){e==null&&(e=CE.error);const r=yt(t,"bytes"),n=[];let a=0;for(;a<r.length;){const i=r[a++];if(!(i>>7)){n.push(i);continue}let o=null,l=null;if((i&224)===192)o=1,l=127;else if((i&240)===224)o=2,l=2047;else if((i&248)===240)o=3,l=65535;else{(i&192)===128?a+=e("UNEXPECTED_CONTINUE",a-1,r,n):a+=e("BAD_PREFIX",a-1,r,n);continue}if(a-1+o>=r.length){a+=e("OVERRUN",a-1,r,n);continue}let c=i&(1<<8-o-1)-1;for(let u=0;u<o;u++){let f=r[a];if((f&192)!=128){a+=e("MISSING_CONTINUE",a,r,n),c=null;break}c=c<<6|f&63,a++}if(c!==null){if(c>1114111){a+=e("OUT_OF_RANGE",a-1-o,r,n,c);continue}if(c>=55296&&c<=57343){a+=e("UTF16_SURROGATE",a-1-o,r,n,c);continue}if(c<=l){a+=e("OVERLONG",a-1-o,r,n,c);continue}n.push(c)}}return n}function fo(t,e){he(typeof t=="string","invalid string value","str",t),e!=null&&(vE(e),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const a=t.charCodeAt(n);if(a<128)r.push(a);else if(a<2048)r.push(a>>6|192),r.push(a&63|128);else if((a&64512)==55296){n++;const i=t.charCodeAt(n);he(n<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((a&1023)<<10)+(i&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(a>>12|224),r.push(a>>6&63|128),r.push(a&63|128)}return new Uint8Array(r)}function LE(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Kg(t,e){return LE(PE(t,e))}function B6(t){async function e(r,n){Pe(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const a=r.url.split(":")[0].toLowerCase();Pe(a==="http"||a==="https",`unsupported protocol ${a}`,"UNSUPPORTED_OPERATION",{info:{protocol:a},operation:"request"}),Pe(a==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,l=setTimeout(()=>{i=ar("request timeout","TIMEOUT"),o.abort()},r.timeout);n&&n.addListener(()=>{i=ar("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:o.signal});let u;try{u=await fetch(r.url,c)}catch(p){throw clearTimeout(l),i||p}clearTimeout(l);const f={};u.headers.forEach((p,k)=>{f[k.toLowerCase()]=p});const m=await u.arrayBuffer(),x=m==null?null:new Uint8Array(m);return{statusCode:u.status,statusMessage:u.statusText,headers:f,body:x}}return e}const EE=12,IE=250;let wN=B6();const TE=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),_E=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Nb=!1;async function O6(t,e){try{const r=t.match(TE);if(!r)throw new Error("invalid data");return new Tl(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?jE(r[3]):OE(r[3]))}catch{return new Tl(599,"BAD REQUEST (invalid data: URI)",{},null,new Dl(t))}}function D6(t){async function e(r,n){try{const a=r.match(_E);if(!a)throw new Error("invalid link");return new Dl(`${t}${a[2]}`)}catch{return new Tl(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Dl(r))}}return e}const Op={data:O6,ipfs:D6("https://gateway.ipfs.io/ipfs/")},R6=new WeakMap;var Ac,el;class BE{constructor(e){ye(this,Ac,void 0);ye(this,el,void 0);se(this,Ac,[]),se(this,el,!1),R6.set(e,()=>{if(!L(this,el)){se(this,el,!0);for(const r of L(this,Ac))setTimeout(()=>{r()},0);se(this,Ac,[])}})}addListener(e){Pe(!L(this,el),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),L(this,Ac).push(e)}get cancelled(){return L(this,el)}checkSignal(){Pe(!this.cancelled,"cancelled","CANCELLED",{})}}Ac=new WeakMap,el=new WeakMap;function Dp(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Mu,Uu,ja,Wi,zu,Hu,$r,wn,Qi,kc,Sc,Cc,ai,Aa,tl,Pc,Jh;const ux=class ux{constructor(e){ye(this,Pc);ye(this,Mu,void 0);ye(this,Uu,void 0);ye(this,ja,void 0);ye(this,Wi,void 0);ye(this,zu,void 0);ye(this,Hu,void 0);ye(this,$r,void 0);ye(this,wn,void 0);ye(this,Qi,void 0);ye(this,kc,void 0);ye(this,Sc,void 0);ye(this,Cc,void 0);ye(this,ai,void 0);ye(this,Aa,void 0);ye(this,tl,void 0);se(this,Hu,String(e)),se(this,Mu,!1),se(this,Uu,!0),se(this,ja,{}),se(this,Wi,""),se(this,zu,3e5),se(this,Aa,{slotInterval:IE,maxAttempts:EE}),se(this,tl,null)}get url(){return L(this,Hu)}set url(e){se(this,Hu,String(e))}get body(){return L(this,$r)==null?null:new Uint8Array(L(this,$r))}set body(e){if(e==null)se(this,$r,void 0),se(this,wn,void 0);else if(typeof e=="string")se(this,$r,fo(e)),se(this,wn,"text/plain");else if(e instanceof Uint8Array)se(this,$r,e),se(this,wn,"application/octet-stream");else if(typeof e=="object")se(this,$r,fo(JSON.stringify(e))),se(this,wn,"application/json");else throw new Error("invalid body")}hasBody(){return L(this,$r)!=null}get method(){return L(this,Wi)?L(this,Wi):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),se(this,Wi,String(e).toUpperCase())}get headers(){const e=Object.assign({},L(this,ja));return L(this,Qi)&&(e.authorization=`Basic ${AE(fo(L(this,Qi)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&L(this,wn)&&(e["content-type"]=L(this,wn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){L(this,ja)[String(e).toLowerCase()]=String(r)}clearHeaders(){se(this,ja,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const a=r[n++];return{value:[a,e[a]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return L(this,Qi)||null}setCredentials(e,r){he(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),se(this,Qi,`${e}:${r}`)}get allowGzip(){return L(this,Uu)}set allowGzip(e){se(this,Uu,!!e)}get allowInsecureAuthentication(){return!!L(this,Mu)}set allowInsecureAuthentication(e){se(this,Mu,!!e)}get timeout(){return L(this,zu)}set timeout(e){he(e>=0,"timeout must be non-zero","timeout",e),se(this,zu,e)}get preflightFunc(){return L(this,kc)||null}set preflightFunc(e){se(this,kc,e)}get processFunc(){return L(this,Sc)||null}set processFunc(e){se(this,Sc,e)}get retryFunc(){return L(this,Cc)||null}set retryFunc(e){se(this,Cc,e)}get getUrlFunc(){return L(this,tl)||wN}set getUrlFunc(e){se(this,tl,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${L(this,$r)?He(L(this,$r)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(L(this,Aa).slotInterval=e.slotInterval),e.maxAttempts!=null&&(L(this,Aa).maxAttempts=e.maxAttempts)}send(){return Pe(L(this,ai)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),se(this,ai,new BE(this)),Te(this,Pc,Jh).call(this,0,NN()+this.timeout,0,this,new Tl(0,"",{},null,this))}cancel(){Pe(L(this,ai)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=R6.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();Pe(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const a=new ux(e);return a.method="GET",a.allowGzip=this.allowGzip,a.timeout=this.timeout,se(a,ja,Object.assign({},L(this,ja))),L(this,$r)&&se(a,$r,new Uint8Array(L(this,$r))),se(a,wn,L(this,wn)),a}clone(){const e=new ux(this.url);return se(e,Wi,L(this,Wi)),L(this,$r)&&se(e,$r,L(this,$r)),se(e,wn,L(this,wn)),se(e,ja,Object.assign({},L(this,ja))),se(e,Qi,L(this,Qi)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),se(e,kc,L(this,kc)),se(e,Sc,L(this,Sc)),se(e,Cc,L(this,Cc)),se(e,Aa,Object.assign({},L(this,Aa))),se(e,tl,L(this,tl)),e}static lockConfig(){Nb=!0}static getGateway(e){return Op[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Nb)throw new Error("gateways locked");Op[e]=r}static registerGetUrl(e){if(Nb)throw new Error("gateways locked");wN=e}static createGetUrlFunc(e){return B6(e)}static createDataGateway(){return O6}static createIpfsGatewayFunc(e){return D6(e)}};Mu=new WeakMap,Uu=new WeakMap,ja=new WeakMap,Wi=new WeakMap,zu=new WeakMap,Hu=new WeakMap,$r=new WeakMap,wn=new WeakMap,Qi=new WeakMap,kc=new WeakMap,Sc=new WeakMap,Cc=new WeakMap,ai=new WeakMap,Aa=new WeakMap,tl=new WeakMap,Pc=new WeakSet,Jh=async function(e,r,n,a,i){var f,m,x;if(e>=L(this,Aa).maxAttempts)return i.makeServerError("exceeded maximum retry limit");Pe(NN()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:a}),n>0&&await DE(n);let o=this.clone();const l=(o.url.split(":")[0]||"").toLowerCase();if(l in Op){const p=await Op[l](o.url,Dp(L(a,ai)));if(p instanceof Tl){let k=p;if(this.processFunc){Dp(L(a,ai));try{k=await this.processFunc(o,k)}catch(w){(w.throttle==null||typeof w.stall!="number")&&k.makeServerError("error in post-processing function",w).assertOk()}}return k}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,Dp(L(a,ai)));let u=new Tl(c.statusCode,c.statusMessage,c.headers,c.body,a);if(u.statusCode===301||u.statusCode===302){try{const p=u.headers.location||"";return Te(f=o.redirect(p),Pc,Jh).call(f,e+1,r,0,a,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,u,e))){const p=u.headers["retry-after"];let k=L(this,Aa).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(k=parseInt(p)),Te(m=o.clone(),Pc,Jh).call(m,e+1,r,k,a,u)}if(this.processFunc){Dp(L(a,ai));try{u=await this.processFunc(o,u)}catch(p){(p.throttle==null||typeof p.stall!="number")&&u.makeServerError("error in post-processing function",p).assertOk();let k=L(this,Aa).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(k=p.stall),Te(x=o.clone(),Pc,Jh).call(x,e+1,r,k,a,u)}}return u};let Dl=ux;var Gf,$f,Wf,Nn,qu,Lc;const my=class my{constructor(e,r,n,a,i){ye(this,Gf,void 0);ye(this,$f,void 0);ye(this,Wf,void 0);ye(this,Nn,void 0);ye(this,qu,void 0);ye(this,Lc,void 0);se(this,Gf,e),se(this,$f,r),se(this,Wf,Object.keys(n).reduce((o,l)=>(o[l.toLowerCase()]=String(n[l]),o),{})),se(this,Nn,a==null?null:new Uint8Array(a)),se(this,qu,i||null),se(this,Lc,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${L(this,Nn)?He(L(this,Nn)):"null"}>`}get statusCode(){return L(this,Gf)}get statusMessage(){return L(this,$f)}get headers(){return Object.assign({},L(this,Wf))}get body(){return L(this,Nn)==null?null:new Uint8Array(L(this,Nn))}get bodyText(){try{return L(this,Nn)==null?"":Kg(L(this,Nn))}catch{Pe(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Pe(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const a=r[n++];return{value:[a,e[a]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const a=new my(599,n,this.headers,this.body,L(this,qu)||void 0);return se(a,Lc,{message:e,error:r}),a}throwThrottleError(e,r){r==null?r=-1:he(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw st(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return L(this,Nn)!=null}get request(){return L(this,qu)}ok(){return L(this,Lc).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=L(this,Lc);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let a=null;try{L(this,Nn)&&(a=Kg(L(this,Nn)))}catch{}Pe(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:a,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Gf=new WeakMap,$f=new WeakMap,Wf=new WeakMap,Nn=new WeakMap,qu=new WeakMap,Lc=new WeakMap;let Tl=my;function NN(){return new Date().getTime()}function OE(t){return fo(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function DE(t){return new Promise(e=>setTimeout(e,t))}const RE=BigInt(-1),ba=BigInt(0),gu=BigInt(1),FE=BigInt(5),$d={};let Eu="0000";for(;Eu.length<80;)Eu+=Eu;function nc(t){let e=Eu;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Fh(t,e,r){const n=BigInt(e.width);if(e.signed){const a=gu<<n-gu;Pe(r==null||t>=-a&&t<a,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>ba?t=Jg(yc(t,n),n):t=-Jg(yc(-t,n),n)}else{const a=gu<<n;Pe(r==null||t>=0&&t<a,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%a+a)%a&a-gu}return t}function jb(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);he(i,"invalid fixed format","format",t),e=i[1]!=="u",r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=t,o=(l,c,u)=>i[l]==null?u:(he(typeof i[l]===c,"invalid fixed format ("+l+" not "+c+")","format."+l,i[l]),i[l]);e=o("signed","boolean",e),r=o("width","number",r),n=o("decimals","number",n)}he(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),he(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const a=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:a}}function ME(t,e){let r="";t<ba&&(r="-",t*=RE);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=Eu+n;const a=n.length-e;for(n=n.substring(0,a)+"."+n.substring(a);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var ka,$t,_s,Ji,lc,Sa,zi,Qf,J2,Jf,K2,Kf,Y2,Yf,X2;const Yo=class Yo{constructor(e,r,n){ye(this,Ji);ye(this,Sa);ye(this,Qf);ye(this,Jf);ye(this,Kf);ye(this,Yf);ve(this,"format");ye(this,ka,void 0);ye(this,$t,void 0);ye(this,_s,void 0);ve(this,"_value");vm(e,$d,"FixedNumber"),se(this,$t,r),se(this,ka,n);const a=ME(r,n.decimals);st(this,{format:n.name,_value:a}),se(this,_s,nc(n.decimals))}get signed(){return L(this,ka).signed}get width(){return L(this,ka).width}get decimals(){return L(this,ka).decimals}get value(){return L(this,$t)}addUnsafe(e){return Te(this,Qf,J2).call(this,e)}add(e){return Te(this,Qf,J2).call(this,e,"add")}subUnsafe(e){return Te(this,Jf,K2).call(this,e)}sub(e){return Te(this,Jf,K2).call(this,e,"sub")}mulUnsafe(e){return Te(this,Kf,Y2).call(this,e)}mul(e){return Te(this,Kf,Y2).call(this,e,"mul")}mulSignal(e){Te(this,Ji,lc).call(this,e);const r=L(this,$t)*L(e,$t);return Pe(r%L(this,_s)===ba,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Te(this,Sa,zi).call(this,r/L(this,_s),"mulSignal")}divUnsafe(e){return Te(this,Yf,X2).call(this,e)}div(e){return Te(this,Yf,X2).call(this,e,"div")}divSignal(e){Pe(L(e,$t)!==ba,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Te(this,Ji,lc).call(this,e);const r=L(this,$t)*L(this,_s);return Pe(r%L(e,$t)===ba,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Te(this,Sa,zi).call(this,r/L(e,$t),"divSignal")}cmp(e){let r=this.value,n=e.value;const a=this.decimals-e.decimals;return a>0?n*=nc(a):a<0&&(r*=nc(-a)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=L(this,$t);return L(this,$t)<ba&&(e-=L(this,_s)-gu),e=L(this,$t)/L(this,_s)*L(this,_s),Te(this,Sa,zi).call(this,e,"floor")}ceiling(){let e=L(this,$t);return L(this,$t)>ba&&(e+=L(this,_s)-gu),e=L(this,$t)/L(this,_s)*L(this,_s),Te(this,Sa,zi).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=FE*nc(r-1);let a=this.value+n;const i=nc(r);return a=a/i*i,Fh(a,L(this,ka),"round"),new Yo($d,a,L(this,ka))}isZero(){return L(this,$t)===ba}isNegative(){return L(this,$t)<ba}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Yo.fromString(this.toString(),e)}static fromValue(e,r,n){const a=r==null?0:bt(r),i=jb(n);let o=Je(e,"value");const l=a-i.decimals;if(l>0){const c=nc(l);Pe(o%c===ba,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else l<0&&(o*=nc(-l));return Fh(o,i,"fromValue"),new Yo($d,o,i)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);he(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const a=jb(r);let i=n[2]||"0",o=n[3]||"";for(;o.length<a.decimals;)o+=Eu;Pe(o.substring(a.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,a.decimals);const l=BigInt(n[1]+i+o);return Fh(l,a,"fromString"),new Yo($d,l,a)}static fromBytes(e,r){let n=Mx(yt(e,"value"));const a=jb(r);return a.signed&&(n=Jg(n,a.width)),Fh(n,a,"fromBytes"),new Yo($d,n,a)}};ka=new WeakMap,$t=new WeakMap,_s=new WeakMap,Ji=new WeakSet,lc=function(e){he(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Sa=new WeakSet,zi=function(e,r){return e=Fh(e,L(this,ka),r),new Yo($d,e,L(this,ka))},Qf=new WeakSet,J2=function(e,r){return Te(this,Ji,lc).call(this,e),Te(this,Sa,zi).call(this,L(this,$t)+L(e,$t),r)},Jf=new WeakSet,K2=function(e,r){return Te(this,Ji,lc).call(this,e),Te(this,Sa,zi).call(this,L(this,$t)-L(e,$t),r)},Kf=new WeakSet,Y2=function(e,r){return Te(this,Ji,lc).call(this,e),Te(this,Sa,zi).call(this,L(this,$t)*L(e,$t)/L(this,_s),r)},Yf=new WeakSet,X2=function(e,r){return Pe(L(e,$t)!==ba,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Te(this,Ji,lc).call(this,e),Te(this,Sa,zi).call(this,L(this,$t)*L(this,_s)/L(e,$t),r)};let Yg=Yo;function UE(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function jN(t,e,r){let n=0;for(let a=0;a<r;a++)n=n*256+t[e+a];return n}function AN(t,e,r,n){const a=[];for(;r<e+1+n;){const i=F6(t,r);a.push(i.result),r+=i.consumed,Pe(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:a}}function F6(t,e){Pe(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{Pe(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const a=jN(t,e+1,n);return r(e+1+n+a),AN(t,e,e+1+n,n+a)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),AN(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const a=jN(t,e+1,n);r(e+1+n+a);const i=He(t.slice(e+1+n,e+1+n+a));return{consumed:1+n+a,result:i}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const a=He(t.slice(e+1,e+1+n));return{consumed:1+n,result:a}}return{consumed:1,result:UE(t[e])}}function ym(t){const e=yt(t,"data"),r=F6(e,0);return he(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function kN(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function M6(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(i){n=n.concat(M6(i))}),n.length<=55)return n.unshift(192+n.length),n;const a=kN(n.length);return a.unshift(247+a.length),a.concat(n)}const e=Array.prototype.slice.call(yt(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=kN(e.length);return r.unshift(183+r.length),r.concat(e)}const SN="0123456789abcdef";function Rl(t){let e="0x";for(const r of M6(t))e+=SN[r>>4],e+=SN[r&15];return e}const U6=["wei","kwei","mwei","gwei","szabo","finney","ether"];function zE(t,e){let r=18;if(typeof e=="string"){const n=U6.indexOf(e);he(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=bt(e,"unit"));return Yg.fromValue(t,r,{decimals:r,width:512}).toString()}function HE(t,e){he(typeof t=="string","value must be a string","value",t);let r=18;if(typeof e=="string"){const n=U6.indexOf(e);he(n>=0,"invalid unit","unit",e),r=3*n}else e!=null&&(r=bt(e,"unit"));return Yg.fromString(t,{decimals:r,width:512}).value}function CN(t){return zE(t,18)}function Mh(t){return HE(t,18)}const Ms=32,Z2=new Uint8Array(Ms),qE=["then"],Rp={},z6=new WeakMap;function uc(t){return z6.get(t)}function PN(t,e){z6.set(t,e)}function Uh(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function e5(t,e,r){return t.indexOf(null)>=0?e.map((n,a)=>n instanceof O0?e5(uc(n),n,r):n):t.reduce((n,a,i)=>{let o=e.getValue(a);return a in n||(r&&o instanceof O0&&(o=e5(uc(o),o,r)),n[a]=o),n},{})}var Vu;const bu=class bu extends Array{constructor(...r){const n=r[0];let a=r[1],i=(r[2]||[]).slice(),o=!0;n!==Rp&&(a=r,i=[],o=!1);super(a.length);ye(this,Vu,void 0);a.forEach((u,f)=>{this[f]=u});const l=i.reduce((u,f)=>(typeof f=="string"&&u.set(f,(u.get(f)||0)+1),u),new Map);if(PN(this,Object.freeze(a.map((u,f)=>{const m=i[f];return m!=null&&l.get(m)===1?m:null}))),se(this,Vu,[]),L(this,Vu)==null&&L(this,Vu),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(u,f,m)=>{if(typeof f=="string"){if(f.match(/^[0-9]+$/)){const p=bt(f,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const k=u[p];return k instanceof Error&&Uh(`index ${p}`,k),k}if(qE.indexOf(f)>=0)return Reflect.get(u,f,m);const x=u[f];if(x instanceof Function)return function(...p){return x.apply(this===m?u:this,p)};if(!(f in u))return u.getValue.apply(this===m?u:this,[f])}return Reflect.get(u,f,m)}});return PN(c,uc(this)),c}toArray(r){const n=[];return this.forEach((a,i)=>{a instanceof Error&&Uh(`index ${i}`,a),r&&a instanceof bu&&(a=a.toArray(r)),n.push(a)}),n}toObject(r){const n=uc(this);return n.reduce((a,i,o)=>(Pe(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),e5(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const a=uc(this),i=[],o=[];for(let l=r;l<n;l++)i.push(this[l]),o.push(a[l]);return new bu(Rp,i,o)}filter(r,n){const a=uc(this),i=[],o=[];for(let l=0;l<this.length;l++){const c=this[l];c instanceof Error&&Uh(`index ${l}`,c),r.call(n,c,l,this)&&(i.push(c),o.push(a[l]))}return new bu(Rp,i,o)}map(r,n){const a=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Uh(`index ${i}`,o),a.push(r.call(n,o,i,this))}return a}getValue(r){const n=uc(this).indexOf(r);if(n===-1)return;const a=this[n];return a instanceof Error&&Uh(`property ${JSON.stringify(r)}`,a.error),a}static fromItems(r,n){return new bu(Rp,r,n)}};Vu=new WeakMap;let O0=bu;function LN(t){let e=Hr(t);return Pe(e.length<=Ms,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Ms,offset:e.length}),e.length!==Ms&&(e=Fs(yr([Z2.slice(e.length%Ms),e]))),e}class Ao{constructor(e,r,n,a){ve(this,"name");ve(this,"type");ve(this,"localName");ve(this,"dynamic");st(this,{name:e,type:r,localName:n,dynamic:a},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){he(!1,e,this.localName,r)}}var Ki,Ec,Gu,ig;class t5{constructor(){ye(this,Gu);ye(this,Ki,void 0);ye(this,Ec,void 0);se(this,Ki,[]),se(this,Ec,0)}get data(){return yr(L(this,Ki))}get length(){return L(this,Ec)}appendWriter(e){return Te(this,Gu,ig).call(this,Fs(e.data))}writeBytes(e){let r=Fs(e);const n=r.length%Ms;return n&&(r=Fs(yr([r,Z2.slice(n)]))),Te(this,Gu,ig).call(this,r)}writeValue(e){return Te(this,Gu,ig).call(this,LN(e))}writeUpdatableValue(){const e=L(this,Ki).length;return L(this,Ki).push(Z2),se(this,Ec,L(this,Ec)+Ms),r=>{L(this,Ki)[e]=LN(r)}}}Ki=new WeakMap,Ec=new WeakMap,Gu=new WeakSet,ig=function(e){return L(this,Ki).push(e),se(this,Ec,L(this,Ec)+e.length),e.length};var Xs,jn,Ic,Tc,rl,Xf,s5,hx,H6;const py=class py{constructor(e,r,n){ye(this,Xf);ye(this,hx);ve(this,"allowLoose");ye(this,Xs,void 0);ye(this,jn,void 0);ye(this,Ic,void 0);ye(this,Tc,void 0);ye(this,rl,void 0);st(this,{allowLoose:!!r}),se(this,Xs,Fs(e)),se(this,Ic,0),se(this,Tc,null),se(this,rl,n??1024),se(this,jn,0)}get data(){return He(L(this,Xs))}get dataLength(){return L(this,Xs).length}get consumed(){return L(this,jn)}get bytes(){return new Uint8Array(L(this,Xs))}subReader(e){const r=new py(L(this,Xs).slice(L(this,jn)+e),this.allowLoose,L(this,rl));return se(r,Tc,this),r}readBytes(e,r){let n=Te(this,hx,H6).call(this,0,e,!!r);return Te(this,Xf,s5).call(this,e),se(this,jn,L(this,jn)+n.length),n.slice(0,e)}readValue(){return Mx(this.readBytes(Ms))}readIndex(){return wE(this.readBytes(Ms))}};Xs=new WeakMap,jn=new WeakMap,Ic=new WeakMap,Tc=new WeakMap,rl=new WeakMap,Xf=new WeakSet,s5=function(e){var r;if(L(this,Tc))return Te(r=L(this,Tc),Xf,s5).call(r,e);se(this,Ic,L(this,Ic)+e),Pe(L(this,rl)<1||L(this,Ic)<=L(this,rl)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${L(this,rl)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Fs(L(this,Xs)),offset:L(this,jn),length:e,info:{bytesRead:L(this,Ic),dataLength:this.dataLength}})},hx=new WeakSet,H6=function(e,r,n){let a=Math.ceil(r/Ms)*Ms;return L(this,jn)+a>L(this,Xs).length&&(this.allowLoose&&n&&L(this,jn)+r<=L(this,Xs).length?a=r:Pe(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Fs(L(this,Xs)),length:L(this,Xs).length,offset:L(this,jn)+a})),L(this,Xs).slice(L(this,jn),L(this,jn)+a)};let r5=py;function Xg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function $v(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function VE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Xg(t.outputLen),Xg(t.blockLen)}function D0(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function q6(t,e){$v(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Ab=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const V6=t=>t instanceof Uint8Array,GE=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),kb=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ei=(t,e)=>t<<32-e|t>>>e,$E=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$E)throw new Error("Non little-endian hardware is not supported");function WE(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ux(t){if(typeof t=="string"&&(t=WE(t)),!V6(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function QE(...t){const e=new Uint8Array(t.reduce((n,a)=>n+a.length,0));let r=0;return t.forEach(n=>{if(!V6(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class Wv{clone(){return this._cloneInto()}}function Qv(t){const e=n=>t().update(Ux(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function JE(t=32){if(Ab&&typeof Ab.getRandomValues=="function")return Ab.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class G6 extends Wv{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,VE(e);const n=Ux(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,i=new Uint8Array(a);i.set(n.length>a?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return D0(this),this.iHash.update(e),this}digestInto(e){D0(this),$v(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:a,destroyed:i,blockLen:o,outputLen:l}=this;return e=e,e.finished=a,e.destroyed=i,e.blockLen=o,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $6=(t,e,r)=>new G6(t,e).update(r).digest();$6.create=(t,e)=>new G6(t,e);function KE(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const a=BigInt(32),i=BigInt(4294967295),o=Number(r>>a&i),l=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+u,l,n)}class W6 extends Wv{constructor(e,r,n,a){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=kb(this.buffer)}update(e){D0(this);const{view:r,buffer:n,blockLen:a}=this;e=Ux(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(a-this.pos,i-o);if(l===a){const c=kb(e);for(;a<=i-o;o+=a)this.process(c,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){D0(this),q6(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:i}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>a-o&&(this.process(n,0),o=0);for(let m=o;m<a;m++)r[m]=0;KE(n,a-8,BigInt(this.length*8),i),this.process(n,0);const l=kb(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<u;m++)l.setUint32(4*m,f[m],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:i,destroyed:o,pos:l}=this;return e.length=a,e.pos=l,e.finished=i,e.destroyed=o,a%r&&e.buffer.set(n),e}}const YE=(t,e,r)=>t&e^~t&r,XE=(t,e,r)=>t&e^t&r^e&r,ZE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Uo=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zo=new Uint32Array(64);class eI extends W6{constructor(){super(64,32,8,!1),this.A=Uo[0]|0,this.B=Uo[1]|0,this.C=Uo[2]|0,this.D=Uo[3]|0,this.E=Uo[4]|0,this.F=Uo[5]|0,this.G=Uo[6]|0,this.H=Uo[7]|0}get(){const{A:e,B:r,C:n,D:a,E:i,F:o,G:l,H:c}=this;return[e,r,n,a,i,o,l,c]}set(e,r,n,a,i,o,l,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=c|0}process(e,r){for(let m=0;m<16;m++,r+=4)zo[m]=e.getUint32(r,!1);for(let m=16;m<64;m++){const x=zo[m-15],p=zo[m-2],k=ei(x,7)^ei(x,18)^x>>>3,w=ei(p,17)^ei(p,19)^p>>>10;zo[m]=w+zo[m-7]+k+zo[m-16]|0}let{A:n,B:a,C:i,D:o,E:l,F:c,G:u,H:f}=this;for(let m=0;m<64;m++){const x=ei(l,6)^ei(l,11)^ei(l,25),p=f+x+YE(l,c,u)+ZE[m]+zo[m]|0,w=(ei(n,2)^ei(n,13)^ei(n,22))+XE(n,a,i)|0;f=u,u=c,c=l,l=o+p|0,o=i,i=a,a=n,n=p+w|0}n=n+this.A|0,a=a+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(n,a,i,o,l,c,u,f)}roundClean(){zo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Q6=Qv(()=>new eI),Fp=BigInt(2**32-1),n5=BigInt(32);function J6(t,e=!1){return e?{h:Number(t&Fp),l:Number(t>>n5&Fp)}:{h:Number(t>>n5&Fp)|0,l:Number(t&Fp)|0}}function K6(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let a=0;a<t.length;a++){const{h:i,l:o}=J6(t[a],e);[r[a],n[a]]=[i,o]}return[r,n]}const tI=(t,e)=>BigInt(t>>>0)<<n5|BigInt(e>>>0),rI=(t,e,r)=>t>>>r,sI=(t,e,r)=>t<<32-r|e>>>r,nI=(t,e,r)=>t>>>r|e<<32-r,aI=(t,e,r)=>t<<32-r|e>>>r,iI=(t,e,r)=>t<<64-r|e>>>r-32,oI=(t,e,r)=>t>>>r-32|e<<64-r,lI=(t,e)=>e,cI=(t,e)=>t,Y6=(t,e,r)=>t<<r|e>>>32-r,X6=(t,e,r)=>e<<r|t>>>32-r,Z6=(t,e,r)=>e<<r-32|t>>>64-r,eA=(t,e,r)=>t<<r-32|e>>>64-r;function dI(t,e,r,n){const a=(e>>>0)+(n>>>0);return{h:t+r+(a/2**32|0)|0,l:a|0}}const uI=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),hI=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,fI=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),mI=(t,e,r,n,a)=>e+r+n+a+(t/2**32|0)|0,pI=(t,e,r,n,a)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(a>>>0),gI=(t,e,r,n,a,i)=>e+r+n+a+i+(t/2**32|0)|0,xI={fromBig:J6,split:K6,toBig:tI,shrSH:rI,shrSL:sI,rotrSH:nI,rotrSL:aI,rotrBH:iI,rotrBL:oI,rotr32H:lI,rotr32L:cI,rotlSH:Y6,rotlSL:X6,rotlBH:Z6,rotlBL:eA,add:dI,add3L:uI,add3H:hI,add4L:fI,add4H:mI,add5H:gI,add5L:pI},vt=xI,[bI,vI]=(()=>vt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),Ho=new Uint32Array(80),qo=new Uint32Array(80);class yI extends W6{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:a,Ch:i,Cl:o,Dh:l,Dl:c,Eh:u,El:f,Fh:m,Fl:x,Gh:p,Gl:k,Hh:w,Hl:N}=this;return[e,r,n,a,i,o,l,c,u,f,m,x,p,k,w,N]}set(e,r,n,a,i,o,l,c,u,f,m,x,p,k,w,N){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=a|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=m|0,this.Fl=x|0,this.Gh=p|0,this.Gl=k|0,this.Hh=w|0,this.Hl=N|0}process(e,r){for(let A=0;A<16;A++,r+=4)Ho[A]=e.getUint32(r),qo[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){const E=Ho[A-15]|0,U=qo[A-15]|0,V=vt.rotrSH(E,U,1)^vt.rotrSH(E,U,8)^vt.shrSH(E,U,7),M=vt.rotrSL(E,U,1)^vt.rotrSL(E,U,8)^vt.shrSL(E,U,7),_=Ho[A-2]|0,$=qo[A-2]|0,J=vt.rotrSH(_,$,19)^vt.rotrBH(_,$,61)^vt.shrSH(_,$,6),P=vt.rotrSL(_,$,19)^vt.rotrBL(_,$,61)^vt.shrSL(_,$,6),S=vt.add4L(M,P,qo[A-7],qo[A-16]),W=vt.add4H(S,V,J,Ho[A-7],Ho[A-16]);Ho[A]=W|0,qo[A]=S|0}let{Ah:n,Al:a,Bh:i,Bl:o,Ch:l,Cl:c,Dh:u,Dl:f,Eh:m,El:x,Fh:p,Fl:k,Gh:w,Gl:N,Hh:y,Hl:b}=this;for(let A=0;A<80;A++){const E=vt.rotrSH(m,x,14)^vt.rotrSH(m,x,18)^vt.rotrBH(m,x,41),U=vt.rotrSL(m,x,14)^vt.rotrSL(m,x,18)^vt.rotrBL(m,x,41),V=m&p^~m&w,M=x&k^~x&N,_=vt.add5L(b,U,M,vI[A],qo[A]),$=vt.add5H(_,y,E,V,bI[A],Ho[A]),J=_|0,P=vt.rotrSH(n,a,28)^vt.rotrBH(n,a,34)^vt.rotrBH(n,a,39),S=vt.rotrSL(n,a,28)^vt.rotrBL(n,a,34)^vt.rotrBL(n,a,39),W=n&i^n&l^i&l,R=a&o^a&c^o&c;y=w|0,b=N|0,w=p|0,N=k|0,p=m|0,k=x|0,{h:m,l:x}=vt.add(u|0,f|0,$|0,J|0),u=l|0,f=c|0,l=i|0,c=o|0,i=n|0,o=a|0;const Z=vt.add3L(J,S,R);n=vt.add3H(Z,$,P,W),a=Z|0}({h:n,l:a}=vt.add(this.Ah|0,this.Al|0,n|0,a|0)),{h:i,l:o}=vt.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:c}=vt.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:f}=vt.add(this.Dh|0,this.Dl|0,u|0,f|0),{h:m,l:x}=vt.add(this.Eh|0,this.El|0,m|0,x|0),{h:p,l:k}=vt.add(this.Fh|0,this.Fl|0,p|0,k|0),{h:w,l:N}=vt.add(this.Gh|0,this.Gl|0,w|0,N|0),{h:y,l:b}=vt.add(this.Hh|0,this.Hl|0,y|0,b|0),this.set(n,a,i,o,l,c,u,f,m,x,p,k,w,N,y,b)}roundClean(){Ho.fill(0),qo.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const wI=Qv(()=>new yI);function NI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const EN=NI();EN.crypto||EN.msCrypto;function jI(t){switch(t){case"sha256":return Q6.create();case"sha512":return wI.create()}he(!1,"invalid hashing algorithm name","algorithm",t)}const[tA,rA,sA]=[[],[],[]],AI=BigInt(0),zh=BigInt(1),kI=BigInt(2),SI=BigInt(7),CI=BigInt(256),PI=BigInt(113);for(let t=0,e=zh,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],tA.push(2*(5*n+r)),rA.push((t+1)*(t+2)/2%64);let a=AI;for(let i=0;i<7;i++)e=(e<<zh^(e>>SI)*PI)%CI,e&kI&&(a^=zh<<(zh<<BigInt(i))-zh);sA.push(a)}const[LI,EI]=K6(sA,!0),IN=(t,e,r)=>r>32?Z6(t,e,r):Y6(t,e,r),TN=(t,e,r)=>r>32?eA(t,e,r):X6(t,e,r);function II(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const l=(o+8)%10,c=(o+2)%10,u=r[c],f=r[c+1],m=IN(u,f,1)^r[l],x=TN(u,f,1)^r[l+1];for(let p=0;p<50;p+=10)t[o+p]^=m,t[o+p+1]^=x}let a=t[2],i=t[3];for(let o=0;o<24;o++){const l=rA[o],c=IN(a,i,l),u=TN(a,i,l),f=tA[o];a=t[f],i=t[f+1],t[f]=c,t[f+1]=u}for(let o=0;o<50;o+=10){for(let l=0;l<10;l++)r[l]=t[o+l];for(let l=0;l<10;l++)t[o+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=LI[n],t[1]^=EI[n]}r.fill(0)}class Jv extends Wv{constructor(e,r,n,a=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Xg(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=GE(this.state)}keccak(){II(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){D0(this);const{blockLen:r,state:n}=this;e=Ux(e);const a=e.length;for(let i=0;i<a;){const o=Math.min(r-this.pos,a-i);for(let l=0;l<o;l++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:a}=this;e[n]^=r,r&128&&n===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){D0(this,!1),$v(e),this.finish();const r=this.state,{blockLen:n}=this;for(let a=0,i=e.length;a<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-a);e.set(r.subarray(this.posOut,this.posOut+o),a),this.posOut+=o,a+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Xg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(q6(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:a,rounds:i,enableXOF:o}=this;return e||(e=new Jv(r,n,a,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=a,e.enableXOF=o,e.destroyed=this.destroyed,e}}const TI=(t,e,r)=>Qv(()=>new Jv(e,t,r)),_I=TI(1,136,256/8);let nA=!1;const aA=function(t){return _I(t)};let iA=aA;function Rr(t){const e=yt(t,"data");return He(iA(e))}Rr._=aA;Rr.lock=function(){nA=!0};Rr.register=function(t){if(nA)throw new TypeError("keccak256 is locked");iA=t};Object.freeze(Rr);const oA=function(t){return jI("sha256").update(t).digest()};let lA=oA,cA=!1;function Y0(t){const e=yt(t,"data");return He(lA(e))}Y0._=oA;Y0.lock=function(){cA=!0};Y0.register=function(t){if(cA)throw new Error("sha256 is locked");lA=t};Object.freeze(Y0);Object.freeze(Y0);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dA=BigInt(0),zx=BigInt(1),BI=BigInt(2),Hx=t=>t instanceof Uint8Array,OI=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function R0(t){if(!Hx(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=OI[t[r]];return e}function uA(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Kv(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function F0(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const a=n*2,i=t.slice(a,a+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function Kc(t){return Kv(R0(t))}function Yv(t){if(!Hx(t))throw new Error("Uint8Array expected");return Kv(R0(Uint8Array.from(t).reverse()))}function M0(t,e){return F0(t.toString(16).padStart(e*2,"0"))}function Xv(t,e){return M0(t,e).reverse()}function DI(t){return F0(uA(t))}function wa(t,e,r){let n;if(typeof e=="string")try{n=F0(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Hx(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const a=n.length;if(typeof r=="number"&&a!==r)throw new Error(`${t} expected ${r} bytes, got ${a}`);return n}function _f(...t){const e=new Uint8Array(t.reduce((n,a)=>n+a.length,0));let r=0;return t.forEach(n=>{if(!Hx(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function RI(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function FI(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function MI(t){let e;for(e=0;t>dA;t>>=zx,e+=1);return e}function UI(t,e){return t>>BigInt(e)&zx}const zI=(t,e,r)=>t|(r?zx:dA)<<BigInt(e),Zv=t=>(BI<<BigInt(t-1))-zx,Sb=t=>new Uint8Array(t),_N=t=>Uint8Array.from(t);function hA(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Sb(t),a=Sb(t),i=0;const o=()=>{n.fill(1),a.fill(0),i=0},l=(...m)=>r(a,n,...m),c=(m=Sb())=>{a=l(_N([0]),m),n=l(),m.length!==0&&(a=l(_N([1]),m),n=l())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let m=0;const x=[];for(;m<e;){n=l();const p=n.slice();x.push(p),m+=n.length}return _f(...x)};return(m,x)=>{o(),c(m);let p;for(;!(p=x(u()));)c();return o(),p}}const HI={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function wm(t,e,r={}){const n=(a,i,o)=>{const l=HI[i];if(typeof l!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[a];if(!(o&&c===void 0)&&!l(c,t))throw new Error(`Invalid param ${String(a)}=${c} (${typeof c}), expected ${i}`)};for(const[a,i]of Object.entries(e))n(a,i,!1);for(const[a,i]of Object.entries(r))n(a,i,!0);return t}const qI=Object.freeze(Object.defineProperty({__proto__:null,bitGet:UI,bitLen:MI,bitMask:Zv,bitSet:zI,bytesToHex:R0,bytesToNumberBE:Kc,bytesToNumberLE:Yv,concatBytes:_f,createHmacDrbg:hA,ensureBytes:wa,equalBytes:RI,hexToBytes:F0,hexToNumber:Kv,numberToBytesBE:M0,numberToBytesLE:Xv,numberToHexUnpadded:uA,numberToVarBytesBE:DI,utf8ToBytes:FI,validateObject:wm},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yr=BigInt(0),Cr=BigInt(1),hc=BigInt(2),VI=BigInt(3),a5=BigInt(4),BN=BigInt(5),ON=BigInt(8);BigInt(9);BigInt(16);function en(t,e){const r=t%e;return r>=Yr?r:e+r}function GI(t,e,r){if(r<=Yr||e<Yr)throw new Error("Expected power/modulo > 0");if(r===Cr)return Yr;let n=Cr;for(;e>Yr;)e&Cr&&(n=n*t%r),t=t*t%r,e>>=Cr;return n}function zn(t,e,r){let n=t;for(;e-- >Yr;)n*=n,n%=r;return n}function i5(t,e){if(t===Yr||e<=Yr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=en(t,e),n=e,a=Yr,i=Cr;for(;r!==Yr;){const l=n/r,c=n%r,u=a-i*l;n=r,r=c,a=i,i=u}if(n!==Cr)throw new Error("invert: does not exist");return en(a,e)}function $I(t){const e=(t-Cr)/hc;let r,n,a;for(r=t-Cr,n=0;r%hc===Yr;r/=hc,n++);for(a=hc;a<t&&GI(a,e,t)!==t-Cr;a++);if(n===1){const o=(t+Cr)/a5;return function(c,u){const f=c.pow(u,o);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const i=(r+Cr)/hc;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=n,f=l.pow(l.mul(l.ONE,a),r),m=l.pow(c,i),x=l.pow(c,r);for(;!l.eql(x,l.ONE);){if(l.eql(x,l.ZERO))return l.ZERO;let p=1;for(let w=l.sqr(x);p<u&&!l.eql(w,l.ONE);p++)w=l.sqr(w);const k=l.pow(f,Cr<<BigInt(u-p-1));f=l.sqr(k),m=l.mul(m,k),x=l.mul(x,f),u=p}return m}}function WI(t){if(t%a5===VI){const e=(t+Cr)/a5;return function(n,a){const i=n.pow(a,e);if(!n.eql(n.sqr(i),a))throw new Error("Cannot find square root");return i}}if(t%ON===BN){const e=(t-BN)/ON;return function(n,a){const i=n.mul(a,hc),o=n.pow(i,e),l=n.mul(a,o),c=n.mul(n.mul(l,hc),o),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),a))throw new Error("Cannot find square root");return u}}return $I(t)}const QI=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function JI(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=QI.reduce((n,a)=>(n[a]="function",n),e);return wm(t,r)}function KI(t,e,r){if(r<Yr)throw new Error("Expected power > 0");if(r===Yr)return t.ONE;if(r===Cr)return e;let n=t.ONE,a=e;for(;r>Yr;)r&Cr&&(n=t.mul(n,a)),a=t.sqr(a),r>>=Cr;return n}function YI(t,e){const r=new Array(e.length),n=e.reduce((i,o,l)=>t.is0(o)?i:(r[l]=i,t.mul(i,o)),t.ONE),a=t.inv(n);return e.reduceRight((i,o,l)=>t.is0(o)?i:(r[l]=t.mul(i,r[l]),t.mul(i,o)),a),r}function fA(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function XI(t,e,r=!1,n={}){if(t<=Yr)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:a,nByteLength:i}=fA(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=WI(t),l=Object.freeze({ORDER:t,BITS:a,BYTES:i,MASK:Zv(a),ZERO:Yr,ONE:Cr,create:c=>en(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Yr<=c&&c<t},is0:c=>c===Yr,isOdd:c=>(c&Cr)===Cr,neg:c=>en(-c,t),eql:(c,u)=>c===u,sqr:c=>en(c*c,t),add:(c,u)=>en(c+u,t),sub:(c,u)=>en(c-u,t),mul:(c,u)=>en(c*u,t),pow:(c,u)=>KI(l,c,u),div:(c,u)=>en(c*i5(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>i5(c,t),sqrt:n.sqrt||(c=>o(l,c)),invertBatch:c=>YI(l,c),cmov:(c,u,f)=>f?u:c,toBytes:c=>r?Xv(c,i):M0(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?Yv(c):Kc(c)}});return Object.freeze(l)}function mA(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function pA(t){const e=mA(t);return e+Math.ceil(e/2)}function ZI(t,e,r=!1){const n=t.length,a=mA(e),i=pA(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=r?Kc(t):Yv(t),l=en(o,e-Cr)+Cr;return r?Xv(l,a):M0(l,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eT=BigInt(0),Cb=BigInt(1);function tT(t,e){const r=(a,i)=>{const o=i.negate();return a?o:i},n=a=>{const i=Math.ceil(e/a)+1,o=2**(a-1);return{windows:i,windowSize:o}};return{constTimeNegate:r,unsafeLadder(a,i){let o=t.ZERO,l=a;for(;i>eT;)i&Cb&&(o=o.add(l)),l=l.double(),i>>=Cb;return o},precomputeWindow(a,i){const{windows:o,windowSize:l}=n(i),c=[];let u=a,f=u;for(let m=0;m<o;m++){f=u,c.push(f);for(let x=1;x<l;x++)f=f.add(u),c.push(f);u=f.double()}return c},wNAF(a,i,o){const{windows:l,windowSize:c}=n(a);let u=t.ZERO,f=t.BASE;const m=BigInt(2**a-1),x=2**a,p=BigInt(a);for(let k=0;k<l;k++){const w=k*c;let N=Number(o&m);o>>=p,N>c&&(N-=x,o+=Cb);const y=w,b=w+Math.abs(N)-1,A=k%2!==0,E=N<0;N===0?f=f.add(r(A,i[y])):u=u.add(r(E,i[b]))}return{p:u,f}},wNAFCached(a,i,o,l){const c=a._WINDOW_SIZE||1;let u=i.get(a);return u||(u=this.precomputeWindow(a,c),c!==1&&i.set(a,l(u))),this.wNAF(c,u,o)}}}function gA(t){return JI(t.Fp),wm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...fA(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rT(t){const e=gA(t);wm(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a}=e;if(r){if(!n.eql(a,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:sT,hexToBytes:nT}=qI,wc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=wc;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:sT(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=wc,r=typeof t=="string"?nT(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:a,l:i}=wc._parseInt(r.subarray(2)),{d:o,l}=wc._parseInt(i);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:a,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const f=u.toString(16);return f.length&1?`0${f}`:f},n=e(r(t.s)),a=e(r(t.r)),i=n.length/2,o=a.length/2,l=r(i),c=r(o);return`30${r(o+i+4)}02${c}${a}02${l}${n}`}},io=BigInt(0),Qn=BigInt(1);BigInt(2);const DN=BigInt(3);BigInt(4);function aT(t){const e=rT(t),{Fp:r}=e,n=e.toBytes||((k,w,N)=>{const y=w.toAffine();return _f(Uint8Array.from([4]),r.toBytes(y.x),r.toBytes(y.y))}),a=e.fromBytes||(k=>{const w=k.subarray(1),N=r.fromBytes(w.subarray(0,r.BYTES)),y=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:N,y}});function i(k){const{a:w,b:N}=e,y=r.sqr(k),b=r.mul(y,k);return r.add(r.add(b,r.mul(k,w)),N)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(k){return typeof k=="bigint"&&io<k&&k<e.n}function l(k){if(!o(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(k){const{allowedPrivateKeyLengths:w,nByteLength:N,wrapPrivateKey:y,n:b}=e;if(w&&typeof k!="bigint"){if(k instanceof Uint8Array&&(k=R0(k)),typeof k!="string"||!w.includes(k.length))throw new Error("Invalid key");k=k.padStart(N*2,"0")}let A;try{A=typeof k=="bigint"?k:Kc(wa("private key",k,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof k}`)}return y&&(A=en(A,b)),l(A),A}const u=new Map;function f(k){if(!(k instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(w,N,y){if(this.px=w,this.py=N,this.pz=y,w==null||!r.isValid(w))throw new Error("x required");if(N==null||!r.isValid(N))throw new Error("y required");if(y==null||!r.isValid(y))throw new Error("z required")}static fromAffine(w){const{x:N,y}=w||{};if(!w||!r.isValid(N)||!r.isValid(y))throw new Error("invalid affine point");if(w instanceof m)throw new Error("projective point not allowed");const b=A=>r.eql(A,r.ZERO);return b(N)&&b(y)?m.ZERO:new m(N,y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const N=r.invertBatch(w.map(y=>y.pz));return w.map((y,b)=>y.toAffine(N[b])).map(m.fromAffine)}static fromHex(w){const N=m.fromAffine(a(wa("pointHex",w)));return N.assertValidity(),N}static fromPrivateKey(w){return m.BASE.multiply(c(w))}_setWindowSize(w){this._WINDOW_SIZE=w,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:w,y:N}=this.toAffine();if(!r.isValid(w)||!r.isValid(N))throw new Error("bad point: x or y not FE");const y=r.sqr(N),b=i(w);if(!r.eql(y,b))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){f(w);const{px:N,py:y,pz:b}=this,{px:A,py:E,pz:U}=w,V=r.eql(r.mul(N,U),r.mul(A,b)),M=r.eql(r.mul(y,U),r.mul(E,b));return V&&M}negate(){return new m(this.px,r.neg(this.py),this.pz)}double(){const{a:w,b:N}=e,y=r.mul(N,DN),{px:b,py:A,pz:E}=this;let U=r.ZERO,V=r.ZERO,M=r.ZERO,_=r.mul(b,b),$=r.mul(A,A),J=r.mul(E,E),P=r.mul(b,A);return P=r.add(P,P),M=r.mul(b,E),M=r.add(M,M),U=r.mul(w,M),V=r.mul(y,J),V=r.add(U,V),U=r.sub($,V),V=r.add($,V),V=r.mul(U,V),U=r.mul(P,U),M=r.mul(y,M),J=r.mul(w,J),P=r.sub(_,J),P=r.mul(w,P),P=r.add(P,M),M=r.add(_,_),_=r.add(M,_),_=r.add(_,J),_=r.mul(_,P),V=r.add(V,_),J=r.mul(A,E),J=r.add(J,J),_=r.mul(J,P),U=r.sub(U,_),M=r.mul(J,$),M=r.add(M,M),M=r.add(M,M),new m(U,V,M)}add(w){f(w);const{px:N,py:y,pz:b}=this,{px:A,py:E,pz:U}=w;let V=r.ZERO,M=r.ZERO,_=r.ZERO;const $=e.a,J=r.mul(e.b,DN);let P=r.mul(N,A),S=r.mul(y,E),W=r.mul(b,U),R=r.add(N,y),Z=r.add(A,E);R=r.mul(R,Z),Z=r.add(P,S),R=r.sub(R,Z),Z=r.add(N,b);let Y=r.add(A,U);return Z=r.mul(Z,Y),Y=r.add(P,W),Z=r.sub(Z,Y),Y=r.add(y,b),V=r.add(E,U),Y=r.mul(Y,V),V=r.add(S,W),Y=r.sub(Y,V),_=r.mul($,Z),V=r.mul(J,W),_=r.add(V,_),V=r.sub(S,_),_=r.add(S,_),M=r.mul(V,_),S=r.add(P,P),S=r.add(S,P),W=r.mul($,W),Z=r.mul(J,Z),S=r.add(S,W),W=r.sub(P,W),W=r.mul($,W),Z=r.add(Z,W),P=r.mul(S,Z),M=r.add(M,P),P=r.mul(Y,Z),V=r.mul(R,V),V=r.sub(V,P),P=r.mul(R,S),_=r.mul(Y,_),_=r.add(_,P),new m(V,M,_)}subtract(w){return this.add(w.negate())}is0(){return this.equals(m.ZERO)}wNAF(w){return p.wNAFCached(this,u,w,N=>{const y=r.invertBatch(N.map(b=>b.pz));return N.map((b,A)=>b.toAffine(y[A])).map(m.fromAffine)})}multiplyUnsafe(w){const N=m.ZERO;if(w===io)return N;if(l(w),w===Qn)return this;const{endo:y}=e;if(!y)return p.unsafeLadder(this,w);let{k1neg:b,k1:A,k2neg:E,k2:U}=y.splitScalar(w),V=N,M=N,_=this;for(;A>io||U>io;)A&Qn&&(V=V.add(_)),U&Qn&&(M=M.add(_)),_=_.double(),A>>=Qn,U>>=Qn;return b&&(V=V.negate()),E&&(M=M.negate()),M=new m(r.mul(M.px,y.beta),M.py,M.pz),V.add(M)}multiply(w){l(w);let N=w,y,b;const{endo:A}=e;if(A){const{k1neg:E,k1:U,k2neg:V,k2:M}=A.splitScalar(N);let{p:_,f:$}=this.wNAF(U),{p:J,f:P}=this.wNAF(M);_=p.constTimeNegate(E,_),J=p.constTimeNegate(V,J),J=new m(r.mul(J.px,A.beta),J.py,J.pz),y=_.add(J),b=$.add(P)}else{const{p:E,f:U}=this.wNAF(N);y=E,b=U}return m.normalizeZ([y,b])[0]}multiplyAndAddUnsafe(w,N,y){const b=m.BASE,A=(U,V)=>V===io||V===Qn||!U.equals(b)?U.multiplyUnsafe(V):U.multiply(V),E=A(this,N).add(A(w,y));return E.is0()?void 0:E}toAffine(w){const{px:N,py:y,pz:b}=this,A=this.is0();w==null&&(w=A?r.ONE:r.inv(b));const E=r.mul(N,w),U=r.mul(y,w),V=r.mul(b,w);if(A)return{x:r.ZERO,y:r.ZERO};if(!r.eql(V,r.ONE))throw new Error("invZ was invalid");return{x:E,y:U}}isTorsionFree(){const{h:w,isTorsionFree:N}=e;if(w===Qn)return!0;if(N)return N(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:N}=e;return w===Qn?this:N?N(m,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),n(m,this,w)}toHex(w=!0){return R0(this.toRawBytes(w))}}m.BASE=new m(e.Gx,e.Gy,r.ONE),m.ZERO=new m(r.ZERO,r.ONE,r.ZERO);const x=e.nBitLength,p=tT(m,e.endo?Math.ceil(x/2):x);return{CURVE:e,ProjectivePoint:m,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function iT(t){const e=gA(t);return wm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function oT(t){const e=iT(t),{Fp:r,n}=e,a=r.BYTES+1,i=2*r.BYTES+1;function o(Z){return io<Z&&Z<r.ORDER}function l(Z){return en(Z,n)}function c(Z){return i5(Z,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:m,isWithinCurveOrder:x}=aT({...e,toBytes(Z,Y,z){const D=Y.toAffine(),Q=r.toBytes(D.x),q=_f;return z?q(Uint8Array.from([Y.hasEvenY()?2:3]),Q):q(Uint8Array.from([4]),Q,r.toBytes(D.y))},fromBytes(Z){const Y=Z.length,z=Z[0],D=Z.subarray(1);if(Y===a&&(z===2||z===3)){const Q=Kc(D);if(!o(Q))throw new Error("Point is not on curve");const q=m(Q);let ee=r.sqrt(q);const C=(ee&Qn)===Qn;return(z&1)===1!==C&&(ee=r.neg(ee)),{x:Q,y:ee}}else if(Y===i&&z===4){const Q=r.fromBytes(D.subarray(0,r.BYTES)),q=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:Q,y:q}}else throw new Error(`Point of length ${Y} was invalid. Expected ${a} compressed bytes or ${i} uncompressed bytes`)}}),p=Z=>R0(M0(Z,e.nByteLength));function k(Z){const Y=n>>Qn;return Z>Y}function w(Z){return k(Z)?l(-Z):Z}const N=(Z,Y,z)=>Kc(Z.slice(Y,z));class y{constructor(Y,z,D){this.r=Y,this.s=z,this.recovery=D,this.assertValidity()}static fromCompact(Y){const z=e.nByteLength;return Y=wa("compactSignature",Y,z*2),new y(N(Y,0,z),N(Y,z,2*z))}static fromDER(Y){const{r:z,s:D}=wc.toSig(wa("DER",Y));return new y(z,D)}assertValidity(){if(!x(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!x(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Y){return new y(this.r,this.s,Y)}recoverPublicKey(Y){const{r:z,s:D,recovery:Q}=this,q=M(wa("msgHash",Y));if(Q==null||![0,1,2,3].includes(Q))throw new Error("recovery id invalid");const ee=Q===2||Q===3?z+e.n:z;if(ee>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const C=Q&1?"03":"02",G=u.fromHex(C+p(ee)),K=c(ee),te=l(-q*K),oe=l(D*K),me=u.BASE.multiplyAndAddUnsafe(G,te,oe);if(!me)throw new Error("point at infinify");return me.assertValidity(),me}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return F0(this.toDERHex())}toDERHex(){return wc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return F0(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const b={isValidPrivateKey(Z){try{return f(Z),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const Z=pA(e.n);return ZI(e.randomBytes(Z),e.n)},precompute(Z=8,Y=u.BASE){return Y._setWindowSize(Z),Y.multiply(BigInt(3)),Y}};function A(Z,Y=!0){return u.fromPrivateKey(Z).toRawBytes(Y)}function E(Z){const Y=Z instanceof Uint8Array,z=typeof Z=="string",D=(Y||z)&&Z.length;return Y?D===a||D===i:z?D===2*a||D===2*i:Z instanceof u}function U(Z,Y,z=!0){if(E(Z))throw new Error("first arg must be private key");if(!E(Y))throw new Error("second arg must be public key");return u.fromHex(Y).multiply(f(Z)).toRawBytes(z)}const V=e.bits2int||function(Z){const Y=Kc(Z),z=Z.length*8-e.nBitLength;return z>0?Y>>BigInt(z):Y},M=e.bits2int_modN||function(Z){return l(V(Z))},_=Zv(e.nBitLength);function $(Z){if(typeof Z!="bigint")throw new Error("bigint expected");if(!(io<=Z&&Z<_))throw new Error(`bigint expected < 2^${e.nBitLength}`);return M0(Z,e.nByteLength)}function J(Z,Y,z=P){if(["recovered","canonical"].some(ce=>ce in z))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:Q}=e;let{lowS:q,prehash:ee,extraEntropy:C}=z;q==null&&(q=!0),Z=wa("msgHash",Z),ee&&(Z=wa("prehashed msgHash",D(Z)));const G=M(Z),K=f(Y),te=[$(K),$(G)];if(C!=null){const ce=C===!0?Q(r.BYTES):C;te.push(wa("extraEntropy",ce))}const oe=_f(...te),me=G;function ae(ce){const Ae=V(ce);if(!x(Ae))return;const Le=c(Ae),De=u.BASE.multiply(Ae).toAffine(),_e=l(De.x);if(_e===io)return;const Ye=l(Le*l(me+_e*K));if(Ye===io)return;let we=(De.x===_e?0:2)|Number(De.y&Qn),ne=Ye;return q&&k(Ye)&&(ne=w(Ye),we^=1),new y(_e,ne,we)}return{seed:oe,k2sig:ae}}const P={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function W(Z,Y,z=P){const{seed:D,k2sig:Q}=J(Z,Y,z),q=e;return hA(q.hash.outputLen,q.nByteLength,q.hmac)(D,Q)}u.BASE._setWindowSize(8);function R(Z,Y,z,D=S){var De;const Q=Z;if(Y=wa("msgHash",Y),z=wa("publicKey",z),"strict"in D)throw new Error("options.strict was renamed to lowS");const{lowS:q,prehash:ee}=D;let C,G;try{if(typeof Q=="string"||Q instanceof Uint8Array)try{C=y.fromDER(Q)}catch(_e){if(!(_e instanceof wc.Err))throw _e;C=y.fromCompact(Q)}else if(typeof Q=="object"&&typeof Q.r=="bigint"&&typeof Q.s=="bigint"){const{r:_e,s:Ye}=Q;C=new y(_e,Ye)}else throw new Error("PARSE");G=u.fromHex(z)}catch(_e){if(_e.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(q&&C.hasHighS())return!1;ee&&(Y=e.hash(Y));const{r:K,s:te}=C,oe=M(Y),me=c(te),ae=l(oe*me),ce=l(K*me),Ae=(De=u.BASE.multiplyAndAddUnsafe(G,ae,ce))==null?void 0:De.toAffine();return Ae?l(Ae.x)===K:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:U,sign:W,verify:R,ProjectivePoint:u,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lT(t){return{hash:t,hmac:(e,...r)=>$6(t,e,QE(...r)),randomBytes:JE}}function cT(t,e){const r=n=>oT({...t,...lT(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xA=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),RN=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dT=BigInt(1),o5=BigInt(2),FN=(t,e)=>(t+e/o5)/e;function uT(t){const e=xA,r=BigInt(3),n=BigInt(6),a=BigInt(11),i=BigInt(22),o=BigInt(23),l=BigInt(44),c=BigInt(88),u=t*t*t%e,f=u*u*t%e,m=zn(f,r,e)*f%e,x=zn(m,r,e)*f%e,p=zn(x,o5,e)*u%e,k=zn(p,a,e)*p%e,w=zn(k,i,e)*k%e,N=zn(w,l,e)*w%e,y=zn(N,c,e)*N%e,b=zn(y,l,e)*w%e,A=zn(b,r,e)*f%e,E=zn(A,o,e)*k%e,U=zn(E,n,e)*u%e,V=zn(U,o5,e);if(!l5.eql(l5.sqr(V),t))throw new Error("Cannot find square root");return V}const l5=XI(xA,void 0,void 0,{sqrt:uT}),Wo=cT({a:BigInt(0),b:BigInt(7),Fp:l5,n:RN,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=RN,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-dT*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,o=BigInt("0x100000000000000000000000000000000"),l=FN(i*t,e),c=FN(-n*t,e);let u=en(t-l*r-c*a,e),f=en(-l*n-c*i,e);const m=u>o,x=f>o;if(m&&(u=e-u),x&&(f=e-f),u>o||f>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:m,k1:u,k2neg:x,k2:f}}}},Q6);BigInt(0);Wo.ProjectivePoint;const Bf="0x0000000000000000000000000000000000000000",MN="0x0000000000000000000000000000000000000000000000000000000000000000",UN=BigInt(0),zN=BigInt(1),HN=BigInt(2),qN=BigInt(27),VN=BigInt(28),Mp=BigInt(35),Wd={};function GN(t){return yo(Hr(t),32)}var $u,ii,Wu,_c;const va=class va{constructor(e,r,n,a){ye(this,$u,void 0);ye(this,ii,void 0);ye(this,Wu,void 0);ye(this,_c,void 0);vm(e,Wd,"Signature"),se(this,$u,r),se(this,ii,n),se(this,Wu,a),se(this,_c,null)}get r(){return L(this,$u)}set r(e){he(Lu(e)===32,"invalid r","value",e),se(this,$u,He(e))}get s(){return he(parseInt(L(this,ii).substring(0,3))<8,"non-canonical s; use ._s","s",L(this,ii)),L(this,ii)}set s(e){he(Lu(e)===32,"invalid s","value",e),se(this,ii,He(e))}get _s(){return L(this,ii)}isValid(){return parseInt(L(this,ii).substring(0,3))<8}get v(){return L(this,Wu)}set v(e){const r=bt(e,"value");he(r===27||r===28,"invalid v","v",e),se(this,Wu,r)}get networkV(){return L(this,_c)}get legacyChainId(){const e=this.networkV;return e==null?null:va.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=yt(this.s);return this.yParity&&(e[0]|=128),He(e)}get compactSerialized(){return yr([this.r,this.yParityAndS])}get serialized(){return yr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new va(Wd,this.r,this._s,this.v);return this.networkV&&se(e,_c,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const r=Je(e,"v");return r==qN||r==VN?UN:(he(r>=Mp,"invalid EIP-155 v","v",e),(r-Mp)/HN)}static getChainIdV(e,r){return Je(e)*HN+BigInt(35+r-27)}static getNormalizedV(e){const r=Je(e);return r===UN||r===qN?27:r===zN||r===VN?28:(he(r>=Mp,"invalid v","v",e),r&zN?27:28)}static from(e){function r(u,f){he(u,f,"signature",e)}if(e==null)return new va(Wd,MN,MN,27);if(typeof e=="string"){const u=yt(e,"signature");if(u.length===64){const f=He(u.slice(0,32)),m=u.slice(32,64),x=m[0]&128?28:27;return m[0]&=127,new va(Wd,f,He(m),x)}if(u.length===65){const f=He(u.slice(0,32)),m=He(u.slice(32,64)),x=va.getNormalizedV(u[64]);return new va(Wd,f,m,x)}r(!1,"invalid raw signature length")}if(e instanceof va)return e.clone();const n=e.r;r(n!=null,"missing r");const a=GN(n),i=function(u,f){if(u!=null)return GN(u);if(f!=null){r(er(f,32),"invalid yParityAndS");const m=yt(f);return m[0]&=127,He(m)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:l}=function(u,f,m){if(u!=null){const x=Je(u);return{networkV:x>=Mp?x:void 0,v:va.getNormalizedV(x)}}if(f!=null)return r(er(f,32),"invalid yParityAndS"),{v:yt(f)[0]&128?28:27};if(m!=null){switch(bt(m,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new va(Wd,a,i,l);return o&&se(c,_c,o),r(e.yParity==null||bt(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};$u=new WeakMap,ii=new WeakMap,Wu=new WeakMap,_c=new WeakMap;let un=va;var Yi;const mc=class mc{constructor(e){ye(this,Yi,void 0);he(Lu(e)===32,"invalid private key","privateKey","[REDACTED]"),se(this,Yi,He(e))}get privateKey(){return L(this,Yi)}get publicKey(){return mc.computePublicKey(L(this,Yi))}get compressedPublicKey(){return mc.computePublicKey(L(this,Yi),!0)}sign(e){he(Lu(e)===32,"invalid digest length","digest",e);const r=Wo.sign(Fs(e),Fs(L(this,Yi)),{lowS:!0});return un.from({r:Ol(r.r,32),s:Ol(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=mc.computePublicKey(e);return He(Wo.getSharedSecret(Fs(L(this,Yi)),yt(r),!1))}static computePublicKey(e,r){let n=yt(e,"key");if(n.length===32){const i=Wo.getPublicKey(n,!!r);return He(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const a=Wo.ProjectivePoint.fromHex(n);return He(a.toRawBytes(r))}static recoverPublicKey(e,r){he(Lu(e)===32,"invalid digest length","digest",e);const n=un.from(r);let a=Wo.Signature.fromCompact(Fs(yr([n.r,n.s])));a=a.addRecoveryBit(n.yParity);const i=a.recoverPublicKey(Fs(e));return he(i!=null,"invalid signature for digest","signature",r),"0x"+i.toHex(!1)}static addPoints(e,r,n){const a=Wo.ProjectivePoint.fromHex(mc.computePublicKey(e).substring(2)),i=Wo.ProjectivePoint.fromHex(mc.computePublicKey(r).substring(2));return"0x"+a.add(i).toHex(!!n)}};Yi=new WeakMap;let Of=mc;const hT=BigInt(0),fT=BigInt(36);function $N(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let a=0;a<40;a++)r[a]=e[a].charCodeAt(0);const n=yt(Rr(r));for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&(e[a]=e[a].toUpperCase()),(n[a>>1]&15)>=8&&(e[a+1]=e[a+1].toUpperCase());return"0x"+e.join("")}const ey={};for(let t=0;t<10;t++)ey[String(t)]=String(t);for(let t=0;t<26;t++)ey[String.fromCharCode(65+t)]=String(10+t);const WN=15;function mT(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>ey[n]).join("");for(;e.length>=WN;){let n=e.substring(0,WN);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const pT=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function gT(t){t=t.toLowerCase();let e=hT;for(let r=0;r<t.length;r++)e=e*fT+pT[t[r]];return e}function Rt(t){if(he(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=$N(t);return he(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){he(t.substring(2,4)===mT(t),"bad icap checksum","address",t);let e=gT(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return $N("0x"+e)}he(!1,"invalid address","address",t)}function xT(t){const e=Rt(t.from);let n=Je(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Rt(br(Rr(Rl([e,n])),12))}function bA(t){return t&&typeof t.getAddress=="function"}async function Pb(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(Pe(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),he(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Rt(r)}function Us(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Rt(t):(Pe(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Pb(t,e.resolveName(t)));if(bA(t))return Pb(t,t.getAddress());if(t&&typeof t.then=="function")return Pb(t,t);he(!1,"unsupported addressable value","target",t)}const qi={};function We(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new Ps(qi,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Tt(t,e){return new Ps(qi,`bytes${e||""}`,t,{size:e})}const QN=Symbol.for("_ethers_typed");var Bc;const Vi=class Vi{constructor(e,r,n,a){ve(this,"type");ve(this,"value");ye(this,Bc,void 0);ve(this,"_typedSymbol");a==null&&(a=null),vm(qi,e,"Typed"),st(this,{_typedSymbol:QN,type:r,value:n}),se(this,Bc,a),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return L(this,Bc)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return L(this,Bc)===!0?-1:L(this,Bc)===!1?this.value.length:null}static from(e,r){return new Vi(qi,e,r)}static uint8(e){return We(e,8)}static uint16(e){return We(e,16)}static uint24(e){return We(e,24)}static uint32(e){return We(e,32)}static uint40(e){return We(e,40)}static uint48(e){return We(e,48)}static uint56(e){return We(e,56)}static uint64(e){return We(e,64)}static uint72(e){return We(e,72)}static uint80(e){return We(e,80)}static uint88(e){return We(e,88)}static uint96(e){return We(e,96)}static uint104(e){return We(e,104)}static uint112(e){return We(e,112)}static uint120(e){return We(e,120)}static uint128(e){return We(e,128)}static uint136(e){return We(e,136)}static uint144(e){return We(e,144)}static uint152(e){return We(e,152)}static uint160(e){return We(e,160)}static uint168(e){return We(e,168)}static uint176(e){return We(e,176)}static uint184(e){return We(e,184)}static uint192(e){return We(e,192)}static uint200(e){return We(e,200)}static uint208(e){return We(e,208)}static uint216(e){return We(e,216)}static uint224(e){return We(e,224)}static uint232(e){return We(e,232)}static uint240(e){return We(e,240)}static uint248(e){return We(e,248)}static uint256(e){return We(e,256)}static uint(e){return We(e,256)}static int8(e){return We(e,-8)}static int16(e){return We(e,-16)}static int24(e){return We(e,-24)}static int32(e){return We(e,-32)}static int40(e){return We(e,-40)}static int48(e){return We(e,-48)}static int56(e){return We(e,-56)}static int64(e){return We(e,-64)}static int72(e){return We(e,-72)}static int80(e){return We(e,-80)}static int88(e){return We(e,-88)}static int96(e){return We(e,-96)}static int104(e){return We(e,-104)}static int112(e){return We(e,-112)}static int120(e){return We(e,-120)}static int128(e){return We(e,-128)}static int136(e){return We(e,-136)}static int144(e){return We(e,-144)}static int152(e){return We(e,-152)}static int160(e){return We(e,-160)}static int168(e){return We(e,-168)}static int176(e){return We(e,-176)}static int184(e){return We(e,-184)}static int192(e){return We(e,-192)}static int200(e){return We(e,-200)}static int208(e){return We(e,-208)}static int216(e){return We(e,-216)}static int224(e){return We(e,-224)}static int232(e){return We(e,-232)}static int240(e){return We(e,-240)}static int248(e){return We(e,-248)}static int256(e){return We(e,-256)}static int(e){return We(e,-256)}static bytes1(e){return Tt(e,1)}static bytes2(e){return Tt(e,2)}static bytes3(e){return Tt(e,3)}static bytes4(e){return Tt(e,4)}static bytes5(e){return Tt(e,5)}static bytes6(e){return Tt(e,6)}static bytes7(e){return Tt(e,7)}static bytes8(e){return Tt(e,8)}static bytes9(e){return Tt(e,9)}static bytes10(e){return Tt(e,10)}static bytes11(e){return Tt(e,11)}static bytes12(e){return Tt(e,12)}static bytes13(e){return Tt(e,13)}static bytes14(e){return Tt(e,14)}static bytes15(e){return Tt(e,15)}static bytes16(e){return Tt(e,16)}static bytes17(e){return Tt(e,17)}static bytes18(e){return Tt(e,18)}static bytes19(e){return Tt(e,19)}static bytes20(e){return Tt(e,20)}static bytes21(e){return Tt(e,21)}static bytes22(e){return Tt(e,22)}static bytes23(e){return Tt(e,23)}static bytes24(e){return Tt(e,24)}static bytes25(e){return Tt(e,25)}static bytes26(e){return Tt(e,26)}static bytes27(e){return Tt(e,27)}static bytes28(e){return Tt(e,28)}static bytes29(e){return Tt(e,29)}static bytes30(e){return Tt(e,30)}static bytes31(e){return Tt(e,31)}static bytes32(e){return Tt(e,32)}static address(e){return new Vi(qi,"address",e)}static bool(e){return new Vi(qi,"bool",!!e)}static bytes(e){return new Vi(qi,"bytes",e)}static string(e){return new Vi(qi,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new Vi(qi,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===QN}static dereference(e,r){if(Vi.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};Bc=new WeakMap;let Ps=Vi;class bT extends Ao{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=Ps.dereference(r,"string");try{n=Rt(n)}catch(a){return this._throwError(a.message,r)}return e.writeValue(n)}decode(e){return Rt(Ol(e.readValue(),20))}}class vT extends Ao{constructor(r){super(r.name,r.type,"_",r.dynamic);ve(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function vA(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(u=>{const f=u.localName;return Pe(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),Pe(!c[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),c[f]=!0,r[f]})}else he(!1,"invalid tuple value","tuple",r);he(e.length===n.length,"types/value length mismatch","tuple",r);let a=new t5,i=new t5,o=[];e.forEach((c,u)=>{let f=n[u];if(c.dynamic){let m=i.length;c.encode(i,f);let x=a.writeUpdatableValue();o.push(p=>{x(p+m)})}else c.encode(a,f)}),o.forEach(c=>{c(a.length)});let l=t.appendWriter(a);return l+=t.appendWriter(i),l}function yA(t,e){let r=[],n=[],a=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let l=t.readIndex(),c=a.subReader(l);try{o=i.decode(c)}catch(u){if(ls(u,"BUFFER_OVERRUN"))throw u;o=u,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(l){if(ls(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");r.push(o),n.push(i.localName||null)}),O0.fromItems(r,n)}class yT extends Ao{constructor(r,n,a){const i=r.type+"["+(n>=0?n:"")+"]",o=n===-1||r.dynamic;super("array",i,a,o);ve(this,"coder");ve(this,"length");st(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let a=0;a<this.length;a++)n.push(r);return n}encode(r,n){const a=Ps.dereference(n,"array");Array.isArray(a)||this._throwError("expected array value",a);let i=this.length;i===-1&&(i=a.length,r.writeValue(a.length)),P6(a.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let l=0;l<a.length;l++)o.push(this.coder);return vA(r,o,a)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),Pe(n*Ms<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Ms,length:r.dataLength}));let a=[];for(let i=0;i<n;i++)a.push(new vT(this.coder));return yA(r,a)}}class wT extends Ao{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=Ps.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class wA extends Ao{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Fs(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class NT extends wA{constructor(e){super("bytes",e)}decode(e){return He(super.decode(e))}}class jT extends Ao{constructor(r,n){let a="bytes"+String(r);super(a,a,n,!1);ve(this,"size");st(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let a=Fs(Ps.dereference(n,this.type));return a.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(a)}decode(r){return He(r.readBytes(this.size))}}const AT=new Uint8Array([]);class kT extends Ao{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(AT)}decode(e){return e.readBytes(0),null}}const ST=BigInt(0),CT=BigInt(1),PT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class LT extends Ao{constructor(r,n,a){const i=(n?"int":"uint")+r*8;super(i,i,a,!1);ve(this,"size");ve(this,"signed");st(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let a=Je(Ps.dereference(n,this.type)),i=yc(PT,Ms*8);if(this.signed){let o=yc(i,this.size*8-1);(a>o||a<-(o+CT))&&this._throwError("value out-of-bounds",n),a=I6(a,8*Ms)}else(a<ST||a>yc(i,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(a)}decode(r){let n=yc(r.readValue(),this.size*8);return this.signed&&(n=Jg(n,this.size*8)),n}}class ET extends wA{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,fo(Ps.dereference(r,"string")))}decode(e){return Kg(super.decode(e))}}class Up extends Ao{constructor(r,n){let a=!1;const i=[];r.forEach(l=>{l.dynamic&&(a=!0),i.push(l.type)});const o="tuple("+i.join(",")+")";super("tuple",o,n,a);ve(this,"coders");st(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(a=>{r.push(a.defaultValue())});const n=this.coders.reduce((a,i)=>{const o=i.localName;return o&&(a[o]||(a[o]=0),a[o]++),a},{});return this.coders.forEach((a,i)=>{let o=a.localName;!o||n[o]!==1||(o==="length"&&(o="_length"),r[o]==null&&(r[o]=r[i]))}),Object.freeze(r)}encode(r,n){const a=Ps.dereference(n,"tuple");return vA(r,this.coders,a)}decode(r){return yA(r,this.coders)}}function Lb(t,e){return{address:Rt(t),storageKeys:e.map((r,n)=>(he(er(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function hd(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(he(r.length===2,"invalid slot set",`value[${n}]`,r),Lb(r[0],r[1])):(he(r!=null&&typeof r=="object","invalid address-slot set","value",t),Lb(r.address,r.storageKeys)));he(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((a,i)=>(a[i]=!0,a),{});return Lb(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function NA(t){return{address:Rt(t.address),nonce:Je(t.nonce!=null?t.nonce:0),chainId:Je(t.chainId!=null?t.chainId:0),signature:un.from(t.signature)}}function IT(t){let e;return typeof t=="string"?e=Of.computePublicKey(t,!1):e=t.publicKey,Rt(Rr("0x"+e.substring(4)).substring(26))}function TT(t,e){return IT(Of.recoverPublicKey(t,e))}const Kr=BigInt(0),_T=BigInt(2),BT=BigInt(27),OT=BigInt(28),DT=BigInt(35),RT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Eb=4096*32;function FT(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return yt(t.blobToKzgCommitment(He(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return yt(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return yt(t.blobToKZGCommitment(He(n)));he(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,a)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return yt(t.computeBlobProof(He(n),He(a)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,a);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return yt(t.computeBlobKZGProof(He(n),He(a)));he(!1,"unsupported KZG library","kzg",t)}}}function JN(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Y0(e).substring(4),"0x"+r}function X0(t){return t==="0x"?null:Rt(t)}function qx(t,e){try{return hd(t)}catch(r){he(!1,r.message,e,t)}}function MT(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const a=t[n];if(!Array.isArray(a))throw new Error(`authorization[${n}]: invalid array`);if(a.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!a[1])throw new Error(`authorization[${n}]: null address`);r.push({address:X0(a[1]),nonce:Wt(a[2],"nonce"),chainId:Wt(a[0],"chainId"),signature:un.from({yParity:fd(a[3],"yParity"),r:yo(a[4],32),s:yo(a[5],32)})})}return r}catch(r){he(!1,r.message,e,t)}}function fd(t,e){return t==="0x"?0:bt(t,e)}function Wt(t,e){if(t==="0x")return Kr;const r=Je(t,e);return he(r<=RT,"value exceeds uint size",e,r),r}function St(t,e){const r=Je(t,"value"),n=Hr(r);return he(n.length<=32,"value too large",`tx.${e}`,r),n}function Vx(t){return hd(t).map(e=>[e.address,e.storageKeys])}function UT(t){return t.map(e=>[St(e.chainId,"chainId"),e.address,St(e.nonce,"nonce"),St(e.signature.yParity,"yParity"),Hr(e.signature.r),Hr(e.signature.s)])}function zT(t,e){he(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)he(er(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function HT(t){const e=ym(t);he(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:fd(e[0],"nonce"),gasPrice:Wt(e[1],"gasPrice"),gasLimit:Wt(e[2],"gasLimit"),to:X0(e[3]),value:Wt(e[4],"value"),data:He(e[5]),chainId:Kr};if(e.length===6)return r;const n=Wt(e[6],"v"),a=Wt(e[7],"r"),i=Wt(e[8],"s");if(a===Kr&&i===Kr)r.chainId=n;else{let o=(n-DT)/_T;o<Kr&&(o=Kr),r.chainId=o,he(o!==Kr||n===BT||n===OT,"non-canonical legacy v","v",e[6]),r.signature=un.from({r:yo(e[7],32),s:yo(e[8],32),v:n})}return r}function qT(t,e){const r=[St(t.nonce,"nonce"),St(t.gasPrice||0,"gasPrice"),St(t.gasLimit,"gasLimit"),t.to||"0x",St(t.value,"value"),t.data];let n=Kr;if(t.chainId!=Kr)n=Je(t.chainId,"tx.chainId"),he(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==Kr&&(r.push(Hr(n)),r.push("0x"),r.push("0x")),Rl(r);let a=BigInt(27+e.yParity);return n!==Kr?a=un.getChainIdV(n,e.v):BigInt(e.v)!==a&&he(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Hr(a)),r.push(Hr(e.r)),r.push(Hr(e.s)),Rl(r)}function Gx(t,e){let r;try{if(r=fd(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{he(!1,"invalid yParity","yParity",e[0])}const n=yo(e[1],32),a=yo(e[2],32),i=un.from({r:n,s:a,yParity:r});t.signature=i}function VT(t){const e=ym(yt(t).slice(1));he(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",He(t));const r={type:2,chainId:Wt(e[0],"chainId"),nonce:fd(e[1],"nonce"),maxPriorityFeePerGas:Wt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Wt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Wt(e[4],"gasLimit"),to:X0(e[5]),value:Wt(e[6],"value"),data:He(e[7]),accessList:qx(e[8],"accessList")};return e.length===9||Gx(r,e.slice(9)),r}function GT(t,e){const r=[St(t.chainId,"chainId"),St(t.nonce,"nonce"),St(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),St(t.maxFeePerGas||0,"maxFeePerGas"),St(t.gasLimit,"gasLimit"),t.to||"0x",St(t.value,"value"),t.data,Vx(t.accessList||[])];return e&&(r.push(St(e.yParity,"yParity")),r.push(Hr(e.r)),r.push(Hr(e.s))),yr(["0x02",Rl(r)])}function $T(t){const e=ym(yt(t).slice(1));he(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",He(t));const r={type:1,chainId:Wt(e[0],"chainId"),nonce:fd(e[1],"nonce"),gasPrice:Wt(e[2],"gasPrice"),gasLimit:Wt(e[3],"gasLimit"),to:X0(e[4]),value:Wt(e[5],"value"),data:He(e[6]),accessList:qx(e[7],"accessList")};return e.length===8||Gx(r,e.slice(8)),r}function WT(t,e){const r=[St(t.chainId,"chainId"),St(t.nonce,"nonce"),St(t.gasPrice||0,"gasPrice"),St(t.gasLimit,"gasLimit"),t.to||"0x",St(t.value,"value"),t.data,Vx(t.accessList||[])];return e&&(r.push(St(e.yParity,"recoveryParam")),r.push(Hr(e.r)),r.push(Hr(e.s))),yr(["0x01",Rl(r)])}function QT(t){let e=ym(yt(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const i=e[1],o=e[2],l=e[3];he(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),he(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),he(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),he(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),he(i.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:l[c]});e=e[0]}he(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",He(t));const a={type:3,chainId:Wt(e[0],"chainId"),nonce:fd(e[1],"nonce"),maxPriorityFeePerGas:Wt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Wt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Wt(e[4],"gasLimit"),to:X0(e[5]),value:Wt(e[6],"value"),data:He(e[7]),accessList:qx(e[8],"accessList"),maxFeePerBlobGas:Wt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(a.blobs=n),he(a.to!=null,`invalid address for transaction type: ${r}`,"data",t),he(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<a.blobVersionedHashes.length;i++)he(er(a.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||Gx(a,e.slice(11)),a}function JT(t,e,r){const n=[St(t.chainId,"chainId"),St(t.nonce,"nonce"),St(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),St(t.maxFeePerGas||0,"maxFeePerGas"),St(t.gasLimit,"gasLimit"),t.to||Bf,St(t.value,"value"),t.data,Vx(t.accessList||[]),St(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),zT(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(St(e.yParity,"yParity")),n.push(Hr(e.r)),n.push(Hr(e.s)),r)?yr(["0x03",Rl([n,r.map(a=>a.data),r.map(a=>a.commitment),r.map(a=>a.proof)])]):yr(["0x03",Rl(n)])}function KT(t){const e=ym(yt(t).slice(1));he(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",He(t));const r={type:4,chainId:Wt(e[0],"chainId"),nonce:fd(e[1],"nonce"),maxPriorityFeePerGas:Wt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Wt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Wt(e[4],"gasLimit"),to:X0(e[5]),value:Wt(e[6],"value"),data:He(e[7]),accessList:qx(e[8],"accessList"),authorizationList:MT(e[9],"authorizationList")};return e.length===10||Gx(r,e.slice(10)),r}function YT(t,e){const r=[St(t.chainId,"chainId"),St(t.nonce,"nonce"),St(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),St(t.maxFeePerGas||0,"maxFeePerGas"),St(t.gasLimit,"gasLimit"),t.to||"0x",St(t.value,"value"),t.data,Vx(t.accessList||[]),UT(t.authorizationList||[])];return e&&(r.push(St(e.yParity,"yParity")),r.push(Hr(e.r)),r.push(Hr(e.s))),yr(["0x04",Rl(r)])}var Ca,Qu,Ju,Ku,Yu,Xu,Zu,e0,t0,r0,s0,n0,Oc,sl,oi,nl,a0,i0,og;const ni=class ni{constructor(){ye(this,i0);ye(this,Ca,void 0);ye(this,Qu,void 0);ye(this,Ju,void 0);ye(this,Ku,void 0);ye(this,Yu,void 0);ye(this,Xu,void 0);ye(this,Zu,void 0);ye(this,e0,void 0);ye(this,t0,void 0);ye(this,r0,void 0);ye(this,s0,void 0);ye(this,n0,void 0);ye(this,Oc,void 0);ye(this,sl,void 0);ye(this,oi,void 0);ye(this,nl,void 0);ye(this,a0,void 0);se(this,Ca,null),se(this,Qu,null),se(this,Ku,0),se(this,Yu,Kr),se(this,Xu,null),se(this,Zu,null),se(this,e0,null),se(this,Ju,"0x"),se(this,t0,Kr),se(this,r0,Kr),se(this,s0,null),se(this,n0,null),se(this,Oc,null),se(this,sl,null),se(this,oi,null),se(this,nl,null),se(this,a0,null)}get type(){return L(this,Ca)}set type(e){switch(e){case null:se(this,Ca,null);break;case 0:case"legacy":se(this,Ca,0);break;case 1:case"berlin":case"eip-2930":se(this,Ca,1);break;case 2:case"london":case"eip-1559":se(this,Ca,2);break;case 3:case"cancun":case"eip-4844":se(this,Ca,3);break;case 4:case"pectra":case"eip-7702":se(this,Ca,4);break;default:he(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=L(this,Qu);return e==null&&this.type===3?Bf:e}set to(e){se(this,Qu,e==null?null:Rt(e))}get nonce(){return L(this,Ku)}set nonce(e){se(this,Ku,bt(e,"value"))}get gasLimit(){return L(this,Yu)}set gasLimit(e){se(this,Yu,Je(e))}get gasPrice(){const e=L(this,Xu);return e==null&&(this.type===0||this.type===1)?Kr:e}set gasPrice(e){se(this,Xu,e==null?null:Je(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=L(this,Zu);return e??(this.type===2||this.type===3?Kr:null)}set maxPriorityFeePerGas(e){se(this,Zu,e==null?null:Je(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=L(this,e0);return e??(this.type===2||this.type===3?Kr:null)}set maxFeePerGas(e){se(this,e0,e==null?null:Je(e,"maxFeePerGas"))}get data(){return L(this,Ju)}set data(e){se(this,Ju,He(e))}get value(){return L(this,t0)}set value(e){se(this,t0,Je(e,"value"))}get chainId(){return L(this,r0)}set chainId(e){se(this,r0,Je(e))}get signature(){return L(this,s0)||null}set signature(e){se(this,s0,e==null?null:un.from(e))}get accessList(){const e=L(this,n0)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){se(this,n0,e==null?null:hd(e))}get authorizationList(){const e=L(this,a0)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){se(this,a0,e==null?null:e.map(r=>NA(r)))}get maxFeePerBlobGas(){const e=L(this,Oc);return e==null&&this.type===3?Kr:e}set maxFeePerBlobGas(e){se(this,Oc,e==null?null:Je(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=L(this,sl);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){he(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)he(er(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}se(this,sl,e)}get blobs(){return L(this,nl)==null?null:L(this,nl).map(e=>Object.assign({},e))}set blobs(e){if(e==null){se(this,nl,null);return}const r=[],n=[];for(let a=0;a<e.length;a++){const i=e[a];if(Gv(i)){Pe(L(this,oi),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=yt(i);if(he(o.length<=Eb,"blob is too large",`blobs[${a}]`,i),o.length!==Eb){const u=new Uint8Array(Eb);u.set(o),o=u}const l=L(this,oi).blobToKzgCommitment(o),c=He(L(this,oi).computeBlobKzgProof(o,l));r.push({data:He(o),commitment:He(l),proof:c}),n.push(JN(1,l))}else{const o=He(i.commitment);r.push({data:He(i.data),commitment:o,proof:He(i.proof)}),n.push(JN(1,o))}}se(this,nl,r),se(this,sl,n)}get kzg(){return L(this,oi)}set kzg(e){e==null?se(this,oi,null):se(this,oi,FT(e))}get hash(){return this.signature==null?null:Rr(Te(this,i0,og).call(this,!0,!1))}get unsignedHash(){return Rr(this.unsignedSerialized)}get from(){return this.signature==null?null:TT(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Of.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Te(this,i0,og).call(this,!0,!0)}get unsignedSerialized(){return Te(this,i0,og).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,a=L(this,Oc)!=null||L(this,sl);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Pe(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Pe(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Pe(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):r?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(a&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ni.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ni;if(typeof e=="string"){const n=yt(e);if(n[0]>=127)return ni.from(HT(n));switch(n[0]){case 1:return ni.from($T(n));case 2:return ni.from(VT(n));case 3:return ni.from(QT(n));case 4:return ni.from(KT(n))}Pe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new ni;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=un.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(he(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),he(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(he(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),he(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};Ca=new WeakMap,Qu=new WeakMap,Ju=new WeakMap,Ku=new WeakMap,Yu=new WeakMap,Xu=new WeakMap,Zu=new WeakMap,e0=new WeakMap,t0=new WeakMap,r0=new WeakMap,s0=new WeakMap,n0=new WeakMap,Oc=new WeakMap,sl=new WeakMap,oi=new WeakMap,nl=new WeakMap,a0=new WeakMap,i0=new WeakSet,og=function(e,r){Pe(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return qT(this,n);case 1:return WT(this,n);case 2:return GT(this,n);case 3:return JT(this,n,r?this.blobs:null);case 4:return YT(this,n)}Pe(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Zg=ni;function id(t){return Rr(fo(t))}var XT="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const KN=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),YN=4;function ZT(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),a=1,i=[0,1];for(let U=1;U<n;U++)i.push(a+=r());let o=r(),l=e;e+=o;let c=0,u=0;function f(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const m=31,x=2**m,p=x>>>1,k=p>>1,w=x-1;let N=0;for(let U=0;U<m;U++)N=N<<1|f();let y=[],b=0,A=x;for(;;){let U=Math.floor(((N-b+1)*a-1)/A),V=0,M=n;for(;M-V>1;){let J=V+M>>>1;U<i[J]?M=J:V=J}if(V==0)break;y.push(V);let _=b+Math.floor(A*i[V]/a),$=b+Math.floor(A*i[V+1]/a)-1;for(;!((_^$)&p);)N=N<<1&w|f(),_=_<<1&w,$=$<<1&w|1;for(;_&~$&k;)N=N&p|N<<1&w>>>1|f(),_=_<<1^p,$=($^p)<<1|p|1;b=_,A=1+$-_}let E=n-4;return y.map(U=>{switch(U-E){case 3:return E+65792+(t[l++]<<16|t[l++]<<8|t[l++]);case 2:return E+256+(t[l++]<<8|t[l++]);case 1:return E+t[l++];default:return U-1}})}function e9(t){let e=0;return()=>t[e++]}function jA(t){return e9(ZT(t9(t)))}function t9(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((a,i)=>e[a.charCodeAt(0)]=i);let r=t.length,n=new Uint8Array(6*r>>3);for(let a=0,i=0,o=0,l=0;a<r;a++)l=l<<6|e[t.charCodeAt(a)],o+=6,o>=8&&(n[i++]=l>>(o-=8));return n}function r9(t){return t&1?~t>>1:t>>1}function s9(t,e){let r=Array(t);for(let n=0,a=0;n<t;n++)r[n]=a+=r9(e());return r}function Df(t,e=0){let r=[];for(;;){let n=t(),a=t();if(!a)break;e+=n;for(let i=0;i<a;i++)r.push(e+i);e+=a+1}return r}function AA(t){return Rf(()=>{let e=Df(t);if(e.length)return e})}function kA(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(n9(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(a9(r,t))}return e.flat()}function Rf(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function SA(t,e,r){let n=Array(t).fill().map(()=>[]);for(let a=0;a<e;a++)s9(t,r).forEach((i,o)=>n[o].push(i));return n}function n9(t,e){let r=1+e(),n=e(),a=Rf(e);return SA(a.length,1+t,e).flatMap((o,l)=>{let[c,...u]=o;return Array(a[l]).fill().map((f,m)=>{let x=m*n;return[c+m*r,u.map(p=>p+x)]})})}function a9(t,e){let r=1+e();return SA(r,1+t,e).map(a=>[a[0],a.slice(1)])}function i9(t){let e=[],r=Df(t);return a(n([]),[]),e;function n(i){let o=t(),l=Rf(()=>{let c=Df(t).map(u=>r[u]);if(c.length)return n(c)});return{S:o,B:l,Q:i}}function a({S:i,B:o},l,c){if(!(i&4&&c===l[l.length-1])){i&2&&(c=l[l.length-1]),i&1&&e.push(l);for(let u of o)for(let f of u.Q)a(u,[...l,f],c)}}}function o9(t){return t.toString(16).toUpperCase().padStart(2,"0")}function CA(t){return`{${o9(t)}}`}function l9(t){let e=[];for(let r=0,n=t.length;r<n;){let a=t.codePointAt(r);r+=a<65536?1:2,e.push(a)}return e}function U0(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let a=0;a<r;)n.push(String.fromCodePoint(...t.slice(a,a+=4096)));return n.join("")}function c9(t,e){let r=t.length,n=r-e.length;for(let a=0;n==0&&a<r;a++)n=t[a]-e[a];return n}var d9="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Ff=44032,ex=4352,tx=4449,rx=4519,PA=19,LA=21,z0=28,sx=LA*z0,u9=PA*sx,h9=Ff+u9,f9=ex+PA,m9=tx+LA,p9=rx+z0;function Kh(t){return t>>24&255}function EA(t){return t&16777215}let c5,XN,d5,lg;function g9(){let t=jA(d9);c5=new Map(AA(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),XN=new Set(Df(t)),d5=new Map,lg=new Map;for(let[e,r]of kA(t)){if(!XN.has(e)&&r.length==2){let[n,a]=r,i=lg.get(n);i||(i=new Map,lg.set(n,i)),i.set(a,e)}d5.set(e,r.reverse())}}function IA(t){return t>=Ff&&t<h9}function x9(t,e){if(t>=ex&&t<f9&&e>=tx&&e<m9)return Ff+(t-ex)*sx+(e-tx)*z0;if(IA(t)&&e>rx&&e<p9&&(t-Ff)%z0==0)return t+(e-rx);{let r=lg.get(t);return r&&(r=r.get(e),r)?r:-1}}function TA(t){c5||g9();let e=[],r=[],n=!1;function a(i){let o=c5.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(IA(i)){let o=i-Ff,l=o/sx|0,c=o%sx/z0|0,u=o%z0;a(ex+l),a(tx+c),u>0&&a(rx+u)}else{let o=d5.get(i);o?r.push(...o):a(i)}if(!r.length)break;i=r.pop()}if(n&&e.length>1){let i=Kh(e[0]);for(let o=1;o<e.length;o++){let l=Kh(e[o]);if(l==0||i<=l){i=l;continue}let c=o-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(i=Kh(e[--c]),i<=l))break}i=Kh(e[o])}}return e}function b9(t){let e=[],r=[],n=-1,a=0;for(let i of t){let o=Kh(i),l=EA(i);if(n==-1)o==0?n=l:e.push(l);else if(a>0&&a>=o)o==0?(e.push(n,...r),r.length=0,n=l):r.push(l),a=o;else{let c=x9(n,l);c>=0?n=c:a==0&&o==0?(e.push(n),n=l):(r.push(l),a=o)}}return n>=0&&e.push(n,...r),e}function _A(t){return TA(t).map(EA)}function v9(t){return b9(TA(t))}const ZN=45,BA=".",OA=65039,DA=1,nx=t=>Array.from(t);function Mf(t,e){return t.P.has(e)||t.Q.has(e)}class y9 extends Array{get is_emoji(){return!0}}let u5,RA,Nc,h5,FA,Iu,Ib,Yd,cc,e3,f5;function ty(){if(u5)return;let t=jA(XT);const e=()=>Df(t),r=()=>new Set(e()),n=(f,m)=>m.forEach(x=>f.add(x));u5=new Map(kA(t)),RA=r(),Nc=e(),h5=new Set(e().map(f=>Nc[f])),Nc=new Set(Nc),FA=r(),r();let a=AA(t),i=t();const o=()=>{let f=new Set;return e().forEach(m=>n(f,a[m])),n(f,e()),f};Iu=Rf(f=>{let m=Rf(t).map(x=>x+96);if(m.length){let x=f>=i;m[0]-=32,m=U0(m),x&&(m=`Restricted[${m}]`);let p=o(),k=o(),w=!t();return{N:m,P:p,Q:k,M:w,R:x}}}),Ib=r(),Yd=new Map;let l=e().concat(nx(Ib)).sort((f,m)=>f-m);l.forEach((f,m)=>{let x=t(),p=l[m]=x?l[m-x]:{V:[],M:new Map};p.V.push(f),Ib.has(f)||Yd.set(f,p)});for(let{V:f,M:m}of new Set(Yd.values())){let x=[];for(let k of f){let w=Iu.filter(y=>Mf(y,k)),N=x.find(({G:y})=>w.some(b=>y.has(b)));N||(N={G:new Set,V:[]},x.push(N)),N.V.push(k),n(N.G,w)}let p=x.flatMap(k=>nx(k.G));for(let{G:k,V:w}of x){let N=new Set(p.filter(y=>!k.has(y)));for(let y of w)m.set(y,N)}}cc=new Set;let c=new Set;const u=f=>cc.has(f)?c.add(f):cc.add(f);for(let f of Iu){for(let m of f.P)u(m);for(let m of f.Q)u(m)}for(let f of cc)!Yd.has(f)&&!c.has(f)&&Yd.set(f,DA);n(cc,_A(cc)),e3=i9(t).map(f=>y9.from(f)).sort(c9),f5=new Map;for(let f of e3){let m=[f5];for(let x of f){let p=m.map(k=>{let w=k.get(x);return w||(w=new Map,k.set(x,w)),w});x===OA?m.push(...p):m=p}for(let x of m)x.V=f}}function ry(t){return(MA(t)?"":`${sy($x([t]))} `)+CA(t)}function sy(t){return`"${t}"‎`}function w9(t){if(t.length>=4&&t[2]==ZN&&t[3]==ZN)throw new Error(`invalid label extension: "${U0(t.slice(0,4))}"`)}function N9(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function j9(t){let e=t[0],r=KN.get(e);if(r)throw df(`leading ${r}`);let n=t.length,a=-1;for(let i=1;i<n;i++){e=t[i];let o=KN.get(e);if(o){if(a==i)throw df(`${r} + ${o}`);a=i+1,r=o}}if(a==n)throw df(`trailing ${r}`)}function $x(t,e=1/0,r=CA){let n=[];A9(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let a=0,i=t.length;for(let o=0;o<i;o++){let l=t[o];MA(l)&&(n.push(U0(t.slice(a,o))),n.push(r(l)),a=o+1)}return n.push(U0(t.slice(a,i))),n.join("")}function A9(t){return ty(),Nc.has(t)}function MA(t){return ty(),FA.has(t)}function k9(t){return L9(S9(t,v9,T9))}function S9(t,e,r){if(!t)return[];ty();let n=0;return t.split(BA).map(a=>{let i=l9(a),o={input:i,offset:n};n+=i.length+1;try{let l=o.tokens=I9(i,e,r),c=l.length,u;if(!c)throw new Error("empty label");let f=o.output=l.flat();if(N9(f),!(o.emoji=c>1||l[0].is_emoji)&&f.every(x=>x<128))w9(f),u="ASCII";else{let x=l.flatMap(p=>p.is_emoji?[]:p);if(!x.length)u="Emoji";else{if(Nc.has(f[0]))throw df("leading combining mark");for(let w=1;w<c;w++){let N=l[w];if(!N.is_emoji&&Nc.has(N[0]))throw df(`emoji + combining mark: "${U0(l[w-1])} + ${$x([N[0]])}"`)}j9(f);let p=nx(new Set(x)),[k]=P9(p);E9(k,x),C9(k,p),u=k.N}}o.type=u}catch(l){o.error=l}return o})}function C9(t,e){let r,n=[];for(let a of e){let i=Yd.get(a);if(i===DA)return;if(i){let o=i.M.get(a);if(r=r?r.filter(l=>o.has(l)):nx(o),!r.length)return}else n.push(a)}if(r){for(let a of r)if(n.every(i=>Mf(a,i)))throw new Error(`whole-script confusable: ${t.N}/${a.N}`)}}function P9(t){let e=Iu;for(let r of t){let n=e.filter(a=>Mf(a,r));if(!n.length)throw Iu.some(a=>Mf(a,r))?zA(e[0],r):UA(r);if(e=n,n.length==1)break}return e}function L9(t){return t.map(({input:e,error:r,output:n})=>{if(r){let a=r.message;throw new Error(t.length==1?a:`Invalid label ${sy($x(e,63))}: ${a}`)}return U0(n)}).join(BA)}function UA(t){return new Error(`disallowed character: ${ry(t)}`)}function zA(t,e){let r=ry(e),n=Iu.find(a=>a.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function df(t){return new Error(`illegal placement: ${t}`)}function E9(t,e){for(let r of e)if(!Mf(t,r))throw zA(t,r);if(t.M){let r=_A(e);for(let n=1,a=r.length;n<a;n++)if(h5.has(r[n])){let i=n+1;for(let o;i<a&&h5.has(o=r[i]);i++)for(let l=n;l<i;l++)if(r[l]==o)throw new Error(`duplicate non-spacing marks: ${ry(o)}`);if(i-n>YN)throw new Error(`excessive non-spacing marks: ${sy($x(r.slice(n-1,i)))} (${i-n}/${YN})`);n=i}}}function I9(t,e,r){let n=[],a=[];for(t=t.slice().reverse();t.length;){let i=_9(t);if(i)a.length&&(n.push(e(a)),a=[]),n.push(r(i));else{let o=t.pop();if(cc.has(o))a.push(o);else{let l=u5.get(o);if(l)a.push(...l);else if(!RA.has(o))throw UA(o)}}}return a.length&&n.push(e(a)),n}function T9(t){return t.filter(e=>e!=OA)}function _9(t,e){let r=f5,n,a=t.length;for(;a&&(r=r.get(t[--a]),!!r);){let{V:i}=r;i&&(n=i,e&&e.push(...t.slice(a).reverse()),t.length=a)}return n}const HA=new Uint8Array(32);HA.fill(0);function t3(t){return he(t.length!==0,"invalid ENS name; empty component","comp",t),t}function qA(t){const e=fo(B9(t)),r=[];if(t.length===0)return r;let n=0;for(let a=0;a<e.length;a++)e[a]===46&&(r.push(t3(e.slice(n,a))),n=a+1);return he(n<e.length,"invalid ENS name; empty component","name",t),r.push(t3(e.slice(n))),r}function B9(t){try{if(t.length===0)throw new Error("empty label");return k9(t)}catch(e){he(!1,`invalid ENS name (${e.message})`,"name",t)}}function m5(t){he(typeof t=="string","invalid ENS name; not a string","name",t),he(t.length,"invalid ENS name (empty label)","name",t);let e=HA;const r=qA(t);for(;r.length;)e=Rr(yr([e,Rr(r.pop())]));return He(e)}function O9(t,e){const r=e??63;return he(r<=255,"DNS encoded label cannot exceed 255","length",r),He(yr(qA(t).map(n=>{he(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const a=new Uint8Array(n.length+1);return a.set(n,1),a[0]=a.length-1,a})))+"00"}const VA=new Uint8Array(32);VA.fill(0);const D9=BigInt(-1),GA=BigInt(0),$A=BigInt(1),R9=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function F9(t){const e=yt(t),r=e.length%32;return r?yr([e,VA.slice(r)]):He(e)}const M9=Ol($A,32),U9=Ol(GA,32),r3={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Tb=["name","version","chainId","verifyingContract","salt"];function s3(t){return function(e){return he(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const z9={name:s3("name"),version:s3("version"),chainId:function(t){const e=Je(t,"domain.chainId");return he(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Ta(e)},verifyingContract:function(t){try{return Rt(t).toLowerCase()}catch{}he(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=yt(t,"domain.salt");return he(e.length===32,'invalid domain value "salt"',"domain.salt",t),He(e)}};function _b(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);he(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const a=yc(R9,r?n-1:n),i=r?(a+$A)*D9:GA;return function(o){const l=Je(o,"value");return he(l>=i&&l<=a,`value out-of-bounds for ${t}`,"value",l),Ol(r?I6(l,256):l,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return he(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const a=yt(n);return he(a.length===r,`invalid length for ${t}`,"value",n),F9(n)}}}switch(t){case"address":return function(e){return yo(Rt(e),32)};case"bool":return function(e){return e?M9:U9};case"bytes":return function(e){return Rr(e)};case"string":return function(e){return id(e)}}return null}function n3(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function zp(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Zf,Xi,o0,fx,WA;const Hn=class Hn{constructor(e){ye(this,fx);ve(this,"primaryType");ye(this,Zf,void 0);ye(this,Xi,void 0);ye(this,o0,void 0);se(this,Xi,new Map),se(this,o0,new Map);const r=new Map,n=new Map,a=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:u,type:f})=>{let{base:m,index:x}=zp(f);return m==="int"&&!e.int&&(m="int256"),m==="uint"&&!e.uint&&(m="uint256"),{name:u,type:m+(x||"")}}),r.set(c,new Set),n.set(c,[]),a.set(c,new Set)}),se(this,Zf,JSON.stringify(i));for(const c in i){const u=new Set;for(const f of i[c]){he(!u.has(f.name),`duplicate variable name ${JSON.stringify(f.name)} in ${JSON.stringify(c)}`,"types",e),u.add(f.name);const m=zp(f.type).base;he(m!==c,`circular type reference to ${JSON.stringify(m)}`,"types",e),!_b(m)&&(he(n.has(m),`unknown type ${JSON.stringify(m)}`,"types",e),n.get(m).push(c),r.get(c).add(m))}}const o=Array.from(n.keys()).filter(c=>n.get(c).length===0);he(o.length!==0,"missing primary type","types",e),he(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),st(this,{primaryType:o[0]});function l(c,u){he(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const f of r.get(c))if(n.has(f)){l(f,u);for(const m of u)a.get(m).add(f)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of a){const f=Array.from(u);f.sort(),L(this,Xi).set(c,n3(c,i[c])+f.map(m=>n3(m,i[m])).join(""))}}get types(){return JSON.parse(L(this,Zf))}getEncoder(e){let r=L(this,o0).get(e);return r||(r=Te(this,fx,WA).call(this,e),L(this,o0).set(e,r)),r}encodeType(e){const r=L(this,Xi).get(e);return he(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Rr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(_b(e))return n(e,r);const a=zp(e).array;if(a)return he(a.count===-1||a.count===r.length,`array length mismatch; expected length ${a.count}`,"value",r),r.map(o=>this._visit(a.prefix,o,n));const i=this.types[e];if(i)return i.reduce((o,{name:l,type:c})=>(o[l]=this._visit(c,r[l],n),o),{});he(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Hn(e)}static getPrimaryType(e){return Hn.from(e).primaryType}static hashStruct(e,r,n){return Hn.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const a=r3[n];he(a,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:a})}return r.sort((n,a)=>Tb.indexOf(n.name)-Tb.indexOf(a.name)),Hn.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return yr(["0x1901",Hn.hashDomain(e),Hn.from(r).hash(n)])}static hash(e,r,n){return Rr(Hn.encode(e,r,n))}static async resolveNames(e,r,n,a){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const i={};e.verifyingContract&&!er(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Hn.from(r);o.visit(n,(l,c)=>(l==="address"&&!er(c,20)&&(i[c]="0x"),c));for(const l in i)i[l]=await a(l);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(l,c)=>l==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,r,n){Hn.hashDomain(e);const a={},i=[];Tb.forEach(c=>{const u=e[c];u!=null&&(a[c]=z9[c](u),i.push({name:c,type:r3[c]}))});const o=Hn.from(r);r=o.types;const l=Object.assign({},r);return he(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),l.EIP712Domain=i,o.encode(n),{types:l,domain:a,primaryType:o.primaryType,message:o.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return He(yt(u));if(c.match(/^u?int/))return Je(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return he(typeof u=="string","invalid string","value",u),u}he(!1,"unsupported type","type",c)})}}};Zf=new WeakMap,Xi=new WeakMap,o0=new WeakMap,fx=new WeakSet,WA=function(e){{const a=_b(e);if(a)return a}const r=zp(e).array;if(r){const a=r.prefix,i=this.getEncoder(a);return o=>{he(r.count===-1||r.count===o.length,`array length mismatch; expected length ${r.count}`,"value",o);let l=o.map(i);return L(this,Xi).has(a)&&(l=l.map(Rr)),Rr(yr(l))}}const n=this.types[e];if(n){const a=id(L(this,Xi).get(e));return i=>{const o=n.map(({name:l,type:c})=>{const u=this.getEncoder(c)(i[l]);return L(this,Xi).has(c)?Rr(u):u});return o.unshift(a),yr(o)}}he(!1,`unknown type: ${e}`,"type",e)};let ax=Hn;function zs(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const H9="external public payable override",q9=zs(H9.split(" ")),QA="constant external internal payable private public pure view override",V9=zs(QA.split(" ")),JA="constructor error event fallback function receive struct",KA=zs(JA.split(" ")),YA="calldata memory storage payable indexed",G9=zs(YA.split(" ")),$9="tuple returns",W9=[JA,YA,$9,QA].join(" "),Q9=zs(W9.split(" ")),J9={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},K9=new RegExp("^(\\s*)"),Y9=new RegExp("^([0-9]+)"),X9=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),XA=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ZA=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var ss,Pa,em,p5;const mx=class mx{constructor(e){ye(this,em);ye(this,ss,void 0);ye(this,Pa,void 0);se(this,ss,0),se(this,Pa,e.slice())}get offset(){return L(this,ss)}get length(){return L(this,Pa).length-L(this,ss)}clone(){return new mx(L(this,Pa))}reset(){se(this,ss,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=Te(this,em,p5).call(this,L(this,ss)+1,e.match+1);return se(this,ss,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;L(this,ss)<e.match-1;){const n=this.peek().linkNext;r.push(Te(this,em,p5).call(this,L(this,ss)+1,n)),se(this,ss,n)}return se(this,ss,e.match+1),r}peek(){if(L(this,ss)>=L(this,Pa).length)throw new Error("out-of-bounds");return L(this,Pa)[L(this,ss)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return Lh(this,ss)._++,e}toString(){const e=[];for(let r=L(this,ss);r<L(this,Pa).length;r++){const n=L(this,Pa)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};ss=new WeakMap,Pa=new WeakMap,em=new WeakSet,p5=function(e=0,r=0){return new mx(L(this,Pa).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Ma=mx;function Vl(t){const e=[],r=o=>{const l=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${l} at ${i}: ${o}`)};let n=[],a=[],i=0;for(;i<t.length;){let o=t.substring(i),l=o.match(K9);l&&(i+=l[1].length,o=t.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let u=J9[o[0]]||"";if(u){if(c.type=u,c.text=o[0],i++,u==="OPEN_PAREN")n.push(e.length-1),a.push(e.length-1);else if(u=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=a.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=a.pop(),e[c.linkBack].linkNext=e.length-1,a.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const m=e.pop().text;f=m+f,e[e.length-1].value=bt(m)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(l=o.match(X9),l){if(c.text=l[1],i+=c.text.length,Q9.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(ZA)){c.type="TYPE";continue}c.type="ID";continue}if(l=o.match(Y9),l){c.text=l[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Ma(e.map(o=>Object.freeze(o)))}function a3(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function Wx(t,e){if(e.peekKeyword(KA)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function wo(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function ek(t){let e=wo(t,V9);return a3(e,zs("constant payable nonpayable".split(" "))),a3(e,zs("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function mo(t,e){return t.popParams().map(r=>ds.from(r,e))}function tk(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Je(t.pop().text);throw new Error("invalid gas")}return null}function od(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Z9=new RegExp(/^(.*)\[([0-9]*)\]$/);function i3(t){const e=t.match(ZA);if(he(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);he(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);he(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const cr={},hn=Symbol.for("_ethers_internal"),o3="_ParamTypeInternal",l3="_ErrorInternal",c3="_EventInternal",d3="_ConstructorInternal",u3="_FallbackInternal",h3="_FunctionInternal",f3="_StructInternal";var l0,cg;const qn=class qn{constructor(e,r,n,a,i,o,l,c){ye(this,l0);ve(this,"name");ve(this,"type");ve(this,"baseType");ve(this,"indexed");ve(this,"components");ve(this,"arrayLength");ve(this,"arrayChildren");if(vm(e,cr,"ParamType"),Object.defineProperty(this,hn,{value:o3}),o&&(o=Object.freeze(o.slice())),a==="array"){if(l==null||c==null)throw new Error("")}else if(l!=null||c!=null)throw new Error("");if(a==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");st(this,{name:r,type:n,baseType:a,indexed:i,components:o,arrayLength:l,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const a={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(a.indexed=this.indexed),this.isTuple()&&(a.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(a)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(a=>n.arrayChildren.walk(a,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((a,i)=>n.components[i].walk(a,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],a=[e];return Te(this,l0,cg).call(this,n,e,r,i=>{a[0]=i}),n.length&&await Promise.all(n),a[0]}static from(e,r){if(qn.isParamType(e))return e;if(typeof e=="string")try{return qn.from(Vl(e),r)}catch{he(!1,"invalid param type","obj",e)}else if(e instanceof Ma){let l="",c="",u=null;wo(e,zs(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(w=>qn.from(w)),l=`tuple(${u.map(w=>w.format()).join(",")})`):(l=i3(e.popType("TYPE")),c=l);let f=null,m=null;for(;e.length&&e.peekType("BRACKET");){const w=e.pop();f=new qn(cr,"",l,c,null,u,m,f),m=w.value,l+=w.text,c="array",u=null}let x=null;if(wo(e,G9).has("indexed")){if(!r)throw new Error("");x=!0}const k=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new qn(cr,k,l,c,x,u,m,f)}const n=e.name;he(!n||typeof n=="string"&&n.match(XA),"invalid name","obj.name",n);let a=e.indexed;a!=null&&(he(r,"parameter cannot be indexed","obj.indexed",e.indexed),a=!!a);let i=e.type,o=i.match(Z9);if(o){const l=parseInt(o[2]||"-1"),c=qn.from({type:o[1],components:e.components});return new qn(cr,n||"",i,"array",a,null,l,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const l=e.components!=null?e.components.map(u=>qn.from(u)):null;return new qn(cr,n||"",i,"tuple",a,l,null,null)}return i=i3(e.type),new qn(cr,n||"",i,i,a,null,null,null)}static isParamType(e){return e&&e[hn]===o3}};l0=new WeakSet,cg=function(e,r,n,a){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,l=r.slice();l.forEach((c,u)=>{var f;Te(f=o,l0,cg).call(f,e,c,n,m=>{l[u]=m})}),a(l);return}if(this.isTuple()){const o=this.components;let l;if(Array.isArray(r))l=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");l=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((c,u)=>{var f;Te(f=o[u],l0,cg).call(f,e,c,n,m=>{l[u]=m})}),a(l);return}const i=n(this.type,r);i.then?e.push(async function(){a(await i)}()):a(i)};let ds=qn;class ld{constructor(e,r,n){ve(this,"type");ve(this,"inputs");vm(e,cr,"Fragment"),n=Object.freeze(n.slice()),st(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{ld.from(JSON.parse(e))}catch{}return ld.from(Vl(e))}if(e instanceof Ma)switch(e.peekKeyword(KA)){case"constructor":return co.from(e);case"error":return rn.from(e);case"event":return gi.from(e);case"fallback":case"receive":return $i.from(e);case"function":return xi.from(e);case"struct":return Yc.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return co.from(e);case"error":return rn.from(e);case"event":return gi.from(e);case"fallback":case"receive":return $i.from(e);case"function":return xi.from(e);case"struct":return Yc.from(e)}Pe(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}he(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return co.isFragment(e)}static isError(e){return rn.isFragment(e)}static isEvent(e){return gi.isFragment(e)}static isFunction(e){return xi.isFragment(e)}static isStruct(e){return Yc.isFragment(e)}}class Qx extends ld{constructor(r,n,a,i){super(r,n,i);ve(this,"name");he(typeof a=="string"&&a.match(XA),"invalid identifier","name",a),i=Object.freeze(i.slice()),st(this,{name:a})}}function Uf(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class rn extends Qx{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,hn,{value:l3})}get selector(){return id(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+Uf(e,this.inputs)),r.join(" ")}static from(e){if(rn.isFragment(e))return e;if(typeof e=="string")return rn.from(Vl(e));if(e instanceof Ma){const r=Wx("error",e),n=mo(e);return od(e),new rn(cr,r,n)}return new rn(cr,e.name,e.inputs?e.inputs.map(ds.from):[])}static isFragment(e){return e&&e[hn]===l3}}class gi extends Qx{constructor(r,n,a,i){super(r,"event",n,a);ve(this,"anonymous");Object.defineProperty(this,hn,{value:c3}),st(this,{anonymous:i})}get topicHash(){return id(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+Uf(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(i=>ds.from(i)),new gi(cr,r,n,!1).topicHash}static from(r){if(gi.isFragment(r))return r;if(typeof r=="string")try{return gi.from(Vl(r))}catch{he(!1,"invalid event fragment","obj",r)}else if(r instanceof Ma){const n=Wx("event",r),a=mo(r,!0),i=!!wo(r,zs(["anonymous"])).has("anonymous");return od(r),new gi(cr,n,a,i)}return new gi(cr,r.name,r.inputs?r.inputs.map(n=>ds.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[hn]===c3}}class co extends ld{constructor(r,n,a,i,o){super(r,n,a);ve(this,"payable");ve(this,"gas");Object.defineProperty(this,hn,{value:d3}),st(this,{payable:i,gas:o})}format(r){if(Pe(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(r)))});const n=[`constructor${Uf(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(co.isFragment(r))return r;if(typeof r=="string")try{return co.from(Vl(r))}catch{he(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Ma){wo(r,zs(["constructor"]));const n=mo(r),a=!!wo(r,q9).has("payable"),i=tk(r);return od(r),new co(cr,"constructor",n,a,i)}return new co(cr,"constructor",r.inputs?r.inputs.map(ds.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[hn]===d3}}class $i extends ld{constructor(r,n,a){super(r,"fallback",n);ve(this,"payable");Object.defineProperty(this,hn,{value:u3}),st(this,{payable:a})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const a=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:a})}return`${n}()${this.payable?" payable":""}`}static from(r){if($i.isFragment(r))return r;if(typeof r=="string")try{return $i.from(Vl(r))}catch{he(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Ma){const n=r.toString(),a=r.peekKeyword(zs(["fallback","receive"]));if(he(a,"type must be fallback or receive","obj",n),r.popKeyword(zs(["fallback","receive"]))==="receive"){const c=mo(r);return he(c.length===0,"receive cannot have arguments","obj.inputs",c),wo(r,zs(["payable"])),od(r),new $i(cr,[],!0)}let o=mo(r);o.length?he(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[ds.from("bytes")];const l=ek(r);if(he(l==="nonpayable"||l==="payable","fallback cannot be constants","obj.stateMutability",l),wo(r,zs(["returns"])).has("returns")){const c=mo(r);he(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return od(r),new $i(cr,o,l==="payable")}if(r.type==="receive")return new $i(cr,[],!0);if(r.type==="fallback"){const n=[ds.from("bytes")],a=r.stateMutability==="payable";return new $i(cr,n,a)}he(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[hn]===u3}}class xi extends Qx{constructor(r,n,a,i,o,l){super(r,"function",n,i);ve(this,"constant");ve(this,"outputs");ve(this,"stateMutability");ve(this,"payable");ve(this,"gas");Object.defineProperty(this,hn,{value:h3}),o=Object.freeze(o.slice()),st(this,{constant:a==="view"||a==="pure",gas:l,outputs:o,payable:a==="payable",stateMutability:a})}get selector(){return id(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(r))),outputs:this.outputs.map(a=>JSON.parse(a.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+Uf(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(Uf(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(i=>ds.from(i)),new xi(cr,r,"view",n,[],null).selector}static from(r){if(xi.isFragment(r))return r;if(typeof r=="string")try{return xi.from(Vl(r))}catch{he(!1,"invalid function fragment","obj",r)}else if(r instanceof Ma){const a=Wx("function",r),i=mo(r),o=ek(r);let l=[];wo(r,zs(["returns"])).has("returns")&&(l=mo(r));const c=tk(r);return od(r),new xi(cr,a,o,i,l,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new xi(cr,r.name,n,r.inputs?r.inputs.map(ds.from):[],r.outputs?r.outputs.map(ds.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[hn]===h3}}class Yc extends Qx{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,hn,{value:f3})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Yc.from(Vl(e))}catch{he(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ma){const r=Wx("struct",e),n=mo(e);return od(e),new Yc(cr,r,n)}return new Yc(cr,e.name,e.inputs?e.inputs.map(ds.from):[])}static isFragment(e){return e&&e[hn]===f3}}const Ua=new Map;Ua.set(0,"GENERIC_PANIC");Ua.set(1,"ASSERT_FALSE");Ua.set(17,"OVERFLOW");Ua.set(18,"DIVIDE_BY_ZERO");Ua.set(33,"ENUM_RANGE_ERROR");Ua.set(34,"BAD_STORAGE_DATA");Ua.set(49,"STACK_UNDERFLOW");Ua.set(50,"ARRAY_RANGE_ERROR");Ua.set(65,"OUT_OF_MEMORY");Ua.set(81,"UNINITIALIZED_FUNCTION_CALL");const e_=new RegExp(/^bytes([0-9]*)$/),t_=new RegExp(/^(u?int)([0-9]*)$/);let Bb=null,m3=1024;function r_(t,e,r,n){let a="missing revert data",i=null;const o=null;let l=null;if(r){a="execution reverted";const u=yt(r);if(r=He(r),u.length===0)a+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)a+=" (could not decode reason; invalid data length)";else if(He(u.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],u.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[i]},a+=`: ${JSON.stringify(i)}`}catch{a+=" (could not decode reason; invalid string data)"}else if(He(u.slice(0,4))==="0x4e487b71")try{const f=Number(n.decode(["uint256"],u.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[f]},i=`Panic due to ${Ua.get(f)||"UNKNOWN"}(${f})`,a+=`: ${i}`}catch{a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const c={to:e.to?Rt(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Rt(e.from)),ar(a,"CALL_EXCEPTION",{action:t,data:r,reason:i,transaction:c,invocation:o,revert:l})}var al,Xd;const px=class px{constructor(){ye(this,al)}getDefaultValue(e){const r=e.map(a=>Te(this,al,Xd).call(this,ds.from(a)));return new Up(r,"_").defaultValue()}encode(e,r){P6(r.length,e.length,"types/values length mismatch");const n=e.map(o=>Te(this,al,Xd).call(this,ds.from(o))),a=new Up(n,"_"),i=new t5;return a.encode(i,r),i.data}decode(e,r,n){const a=e.map(o=>Te(this,al,Xd).call(this,ds.from(o)));return new Up(a,"_").decode(new r5(r,n,m3))}static _setDefaultMaxInflation(e){he(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),m3=e}static defaultAbiCoder(){return Bb==null&&(Bb=new px),Bb}static getBuiltinCallException(e,r,n){return r_(e,r,n,px.defaultAbiCoder())}};al=new WeakSet,Xd=function(e){if(e.isArray())return new yT(Te(this,al,Xd).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Up(e.components.map(n=>Te(this,al,Xd).call(this,n)),e.name);switch(e.baseType){case"address":return new bT(e.name);case"bool":return new wT(e.name);case"string":return new ET(e.name);case"bytes":return new NT(e.name);case"":return new kT(e.name)}let r=e.type.match(t_);if(r){let n=parseInt(r[2]||"256");return he(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new LT(n/8,r[1]==="int",e.name)}if(r=e.type.match(e_),r){let n=parseInt(r[1]);return he(n!==0&&n<=32,"invalid bytes length","param",e),new jT(n,e.name)}he(!1,"invalid type","type",e.type)};let zf=px;class s_{constructor(e,r,n){ve(this,"fragment");ve(this,"name");ve(this,"signature");ve(this,"topic");ve(this,"args");const a=e.name,i=e.format();st(this,{fragment:e,name:a,signature:i,topic:r,args:n})}}class n_{constructor(e,r,n,a){ve(this,"fragment");ve(this,"name");ve(this,"args");ve(this,"signature");ve(this,"selector");ve(this,"value");const i=e.name,o=e.format();st(this,{fragment:e,name:i,args:n,signature:o,selector:r,value:a})}}class a_{constructor(e,r,n){ve(this,"fragment");ve(this,"name");ve(this,"args");ve(this,"signature");ve(this,"selector");const a=e.name,i=e.format();st(this,{fragment:e,name:a,args:n,signature:i,selector:r})}}class p3{constructor(e){ve(this,"hash");ve(this,"_isIndexed");st(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const g3={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},x3={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&g3[t.toString()]&&(e=g3[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var li,ci,di,js,c0,dg,d0,ug;const pc=class pc{constructor(e){ye(this,c0);ye(this,d0);ve(this,"fragments");ve(this,"deploy");ve(this,"fallback");ve(this,"receive");ye(this,li,void 0);ye(this,ci,void 0);ye(this,di,void 0);ye(this,js,void 0);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,se(this,di,new Map),se(this,li,new Map),se(this,ci,new Map);const n=[];for(const o of r)try{n.push(ld.from(o))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,l.message)}st(this,{fragments:Object.freeze(n)});let a=null,i=!1;se(this,js,this.getAbiCoder()),this.fragments.forEach((o,l)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}st(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(he(!a||o.payable!==a.payable,"conflicting fallback fragments",`fragments[${l}]`,o),a=o,i=a.payable);return;case"function":c=L(this,di);break;case"event":c=L(this,ci);break;case"error":c=L(this,li);break;default:return}const u=o.format();c.has(u)||c.set(u,o)}),this.deploy||st(this,{deploy:co.from("constructor()")}),st(this,{fallback:a,receive:i})}format(e){const r=e?"minimal":"full";return this.fragments.map(a=>a.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return zf.defaultAbiCoder()}getFunctionName(e){const r=Te(this,c0,dg).call(this,e,null,!1);return he(r,"no matching function","key",e),r.name}hasFunction(e){return!!Te(this,c0,dg).call(this,e,null,!1)}getFunction(e,r){return Te(this,c0,dg).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(L(this,di).keys());r.sort((n,a)=>n.localeCompare(a));for(let n=0;n<r.length;n++){const a=r[n];e(L(this,di).get(a),n)}}getEventName(e){const r=Te(this,d0,ug).call(this,e,null,!1);return he(r,"no matching event","key",e),r.name}hasEvent(e){return!!Te(this,d0,ug).call(this,e,null,!1)}getEvent(e,r){return Te(this,d0,ug).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(L(this,ci).keys());r.sort((n,a)=>n.localeCompare(a));for(let n=0;n<r.length;n++){const a=r[n];e(L(this,ci).get(a),n)}}getError(e,r){if(er(e)){const a=e.toLowerCase();if(x3[a])return rn.from(x3[a].signature);for(const i of L(this,li).values())if(a===i.selector)return i;return null}if(e.indexOf("(")===-1){const a=[];for(const[i,o]of L(this,li))i.split("(")[0]===e&&a.push(o);if(a.length===0)return e==="Error"?rn.from("error Error(string)"):e==="Panic"?rn.from("error Panic(uint256)"):null;if(a.length>1){const i=a.map(o=>JSON.stringify(o.format())).join(", ");he(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return a[0]}if(e=rn.from(e).format(),e==="Error(string)")return rn.from("error Error(string)");if(e==="Panic(uint256)")return rn.from("error Panic(uint256)");const n=L(this,li).get(e);return n||null}forEachError(e){const r=Array.from(L(this,li).keys());r.sort((n,a)=>n.localeCompare(a));for(let n=0;n<r.length;n++){const a=r[n];e(L(this,li).get(a),n)}}_decodeParams(e,r){return L(this,js).decode(e,r)}_encodeParams(e,r){return L(this,js).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);he(n,"unknown error","fragment",e),e=n}return he(br(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,br(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);he(n,"unknown error","fragment",e),e=n}return yr([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return he(br(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,br(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return yr([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const i=this.getFunction(e);he(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const a=Fs(r);if(a.length%32===0)try{return L(this,js).decode(e.outputs,a)}catch{n="could not decode result data"}Pe(!1,n,"BAD_DATA",{value:He(a),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=yt(e,"data"),a=zf.getBuiltinCallException("call",r,n),i="execution reverted (unknown custom error)";if(a.message.startsWith(i)){const l=He(n.slice(0,4)),c=this.getError(l);if(c)try{const u=L(this,js).decode(c.inputs,n.slice(4));a.revert={name:c.name,signature:c.format(),args:u},a.reason=a.revert.signature,a.message=`execution reverted: ${a.reason}`}catch{a.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(r);return o&&(a.invocation={method:o.name,signature:o.signature,args:o.args}),a}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);he(n,"unknown function","fragment",e),e=n}return He(L(this,js).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const i=this.getEvent(e);he(i,"unknown event","eventFragment",e),e=i}Pe(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const a=(i,o)=>i.type==="string"?id(o):i.type==="bytes"?Rr(He(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Ol(o):i.type.match(/^bytes/)?o=yE(o,32):i.type==="address"&&L(this,js).encode(["address"],[o]),yo(He(o),32));for(r.forEach((i,o)=>{const l=e.inputs[o];if(!l.indexed){he(i==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,i);return}i==null?n.push(null):l.baseType==="array"||l.baseType==="tuple"?he(!1,"filtering with tuples or arrays not supported","contract."+l.name,i):Array.isArray(i)?n.push(i.map(c=>a(l,c))):n.push(a(l,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const o=this.getEvent(e);he(o,"unknown event","eventFragment",e),e=o}const n=[],a=[],i=[];return e.anonymous||n.push(e.topicHash),he(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((o,l)=>{const c=r[l];if(o.indexed)if(o.type==="string")n.push(id(c));else if(o.type==="bytes")n.push(Rr(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(L(this,js).encode([o.type],[c]))}else a.push(o),i.push(c)}),{data:L(this,js).encode(a,i),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const p=this.getEvent(e);he(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){const p=e.topicHash;he(er(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const a=[],i=[],o=[];e.inputs.forEach((p,k)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(a.push(ds.from({type:"bytes32",name:p.name})),o.push(!0)):(a.push(p),o.push(!1)):(i.push(p),o.push(!1))});const l=n!=null?L(this,js).decode(a,yr(n)):null,c=L(this,js).decode(i,r,!0),u=[],f=[];let m=0,x=0;return e.inputs.forEach((p,k)=>{let w=null;if(p.indexed)if(l==null)w=new p3(null);else if(o[k])w=new p3(l[x++]);else try{w=l[x++]}catch(N){w=N}else try{w=c[m++]}catch(N){w=N}u.push(w),f.push(p.name||null)}),O0.fromItems(u,f)}parseTransaction(e){const r=yt(e.data,"tx.data"),n=Je(e.value!=null?e.value:0,"tx.value"),a=this.getFunction(He(r.slice(0,4)));if(!a)return null;const i=L(this,js).decode(a.inputs,r.slice(4));return new n_(a,a.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new s_(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=He(e),n=this.getError(br(r,0,4));if(!n)return null;const a=L(this,js).decode(n.inputs,br(r,4));return new a_(n,n.selector,a)}static from(e){return e instanceof pc?e:typeof e=="string"?new pc(JSON.parse(e)):typeof e.formatJson=="function"?new pc(e.formatJson()):typeof e.format=="function"?new pc(e.format("json")):new pc(e)}};li=new WeakMap,ci=new WeakMap,di=new WeakMap,js=new WeakMap,c0=new WeakSet,dg=function(e,r,n){if(er(e)){const i=e.toLowerCase();for(const o of L(this,di).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,l]of L(this,di))o.split("(")[0]===e&&i.push(l);if(r){const o=r.length>0?r[r.length-1]:null;let l=r.length,c=!0;Ps.isTyped(o)&&o.type==="overrides"&&(c=!1,l--);for(let u=i.length-1;u>=0;u--){const f=i[u].inputs.length;f!==l&&(!c||f!==l-1)&&i.splice(u,1)}for(let u=i.length-1;u>=0;u--){const f=i[u].inputs;for(let m=0;m<r.length;m++)if(Ps.isTyped(r[m])){if(m>=f.length){if(r[m].type==="overrides")continue;i.splice(u,1);break}if(r[m].type!==f[m].baseType){i.splice(u,1);break}}}}if(i.length===1&&r&&r.length!==i[0].inputs.length){const o=r[r.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(l=>JSON.stringify(l.format())).join(", ");he(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const a=L(this,di).get(xi.from(e).format());return a||null},d0=new WeakSet,ug=function(e,r,n){if(er(e)){const i=e.toLowerCase();for(const o of L(this,ci).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,l]of L(this,ci))o.split("(")[0]===e&&i.push(l);if(r){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<r.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const l=i[o].inputs;for(let c=0;c<r.length;c++)if(Ps.isTyped(r[c])&&r[c].type!==l[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(l=>JSON.stringify(l.format())).join(", ");he(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const a=L(this,ci).get(gi.from(e).format());return a||null};let g5=pc;const rk=BigInt(0);function Tu(t){return t??null}function kr(t){return t==null?null:t.toString()}class b3{constructor(e,r,n){ve(this,"gasPrice");ve(this,"maxFeePerGas");ve(this,"maxPriorityFeePerGas");st(this,{gasPrice:Tu(e),maxFeePerGas:Tu(r),maxPriorityFeePerGas:Tu(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:kr(e),maxFeePerGas:kr(r),maxPriorityFeePerGas:kr(n)}}}function ix(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=He(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const a of r)!(a in t)||t[a]==null||(e[a]=Je(t[a],`request.${a}`));const n="type,nonce".split(/,/);for(const a of n)!(a in t)||t[a]==null||(e[a]=bt(t[a],`request.${a}`));return t.accessList&&(e.accessList=hd(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(a=>Gv(a)?He(a):Object.assign({},a))),e}var Zi;class i_{constructor(e,r){ve(this,"provider");ve(this,"number");ve(this,"hash");ve(this,"timestamp");ve(this,"parentHash");ve(this,"parentBeaconBlockRoot");ve(this,"nonce");ve(this,"difficulty");ve(this,"gasLimit");ve(this,"gasUsed");ve(this,"stateRoot");ve(this,"receiptsRoot");ve(this,"blobGasUsed");ve(this,"excessBlobGas");ve(this,"miner");ve(this,"prevRandao");ve(this,"extraData");ve(this,"baseFeePerGas");ye(this,Zi,void 0);se(this,Zi,e.transactions.map(n=>typeof n!="string"?new Hf(n,r):n)),st(this,{provider:r,hash:Tu(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Tu(e.prevRandao),extraData:e.extraData,baseFeePerGas:Tu(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return L(this,Zi).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=L(this,Zi).slice();return e.length===0?[]:(Pe(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:a,gasUsed:i,hash:o,miner:l,prevRandao:c,nonce:u,number:f,parentHash:m,parentBeaconBlockRoot:x,stateRoot:p,receiptsRoot:k,timestamp:w,transactions:N}=this;return{_type:"Block",baseFeePerGas:kr(e),difficulty:kr(r),extraData:n,gasLimit:kr(a),gasUsed:kr(i),blobGasUsed:kr(this.blobGasUsed),excessBlobGas:kr(this.excessBlobGas),hash:o,miner:l,prevRandao:c,nonce:u,number:f,parentHash:m,timestamp:w,parentBeaconBlockRoot:x,stateRoot:p,receiptsRoot:k,transactions:N}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return L(this,Zi).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=L(this,Zi)[e];else{const n=e.toLowerCase();for(const a of L(this,Zi))if(typeof a=="string"){if(a!==n)continue;r=a;break}else{if(a.hash!==n)continue;r=a;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;he(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return o_(this)}}Zi=new WeakMap;class Nm{constructor(e,r){ve(this,"provider");ve(this,"transactionHash");ve(this,"blockHash");ve(this,"blockNumber");ve(this,"removed");ve(this,"address");ve(this,"data");ve(this,"topics");ve(this,"index");ve(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());st(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:a,index:i,removed:o,topics:l,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:a,index:i,removed:o,topics:l,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Pe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Pe(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Pe(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return l_(this)}}var tm;class sk{constructor(e,r){ve(this,"provider");ve(this,"to");ve(this,"from");ve(this,"contractAddress");ve(this,"hash");ve(this,"index");ve(this,"blockHash");ve(this,"blockNumber");ve(this,"logsBloom");ve(this,"gasUsed");ve(this,"blobGasUsed");ve(this,"cumulativeGasUsed");ve(this,"gasPrice");ve(this,"blobGasPrice");ve(this,"type");ve(this,"status");ve(this,"root");ye(this,tm,void 0);se(this,tm,Object.freeze(e.logs.map(a=>new Nm(a,r))));let n=rk;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),st(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return L(this,tm)}toJSON(){const{to:e,from:r,contractAddress:n,hash:a,index:i,blockHash:o,blockNumber:l,logsBloom:c,logs:u,status:f,root:m}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:l,contractAddress:n,cumulativeGasUsed:kr(this.cumulativeGasUsed),from:r,gasPrice:kr(this.gasPrice),blobGasUsed:kr(this.blobGasUsed),blobGasPrice:kr(this.blobGasPrice),gasUsed:kr(this.gasUsed),hash:a,index:i,logs:u,logsBloom:c,root:m,status:f,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return ak(this)}reorderedEvent(e){return Pe(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),nk(this,e)}}tm=new WeakMap;var il;const gy=class gy{constructor(e,r){ve(this,"provider");ve(this,"blockNumber");ve(this,"blockHash");ve(this,"index");ve(this,"hash");ve(this,"type");ve(this,"to");ve(this,"from");ve(this,"nonce");ve(this,"gasLimit");ve(this,"gasPrice");ve(this,"maxPriorityFeePerGas");ve(this,"maxFeePerGas");ve(this,"maxFeePerBlobGas");ve(this,"data");ve(this,"value");ve(this,"chainId");ve(this,"signature");ve(this,"accessList");ve(this,"blobVersionedHashes");ve(this,"authorizationList");ye(this,il,void 0);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,se(this,il,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:a,type:i,to:o,from:l,nonce:c,data:u,signature:f,accessList:m,blobVersionedHashes:x}=this;return{_type:"TransactionResponse",accessList:m,blockNumber:e,blockHash:r,blobVersionedHashes:x,chainId:kr(this.chainId),data:u,from:l,gasLimit:kr(this.gasLimit),gasPrice:kr(this.gasPrice),hash:a,maxFeePerGas:kr(this.maxFeePerGas),maxPriorityFeePerGas:kr(this.maxPriorityFeePerGas),maxFeePerBlobGas:kr(this.maxFeePerBlobGas),nonce:c,signature:f,to:o,index:n,type:i,value:kr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Rs({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,a=r??0;let i=L(this,il),o=-1,l=i===-1;const c=async()=>{if(l)return null;const{blockNumber:x,nonce:p}=await Rs({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=x;return}if(l)return null;const k=await this.getTransaction();if(!(k&&k.blockNumber!=null))for(o===-1&&(o=i-3,o<L(this,il)&&(o=L(this,il)));o<=x;){if(l)return null;const w=await this.provider.getBlock(o,!0);if(w==null)return;for(const N of w)if(N===this.hash)return;for(let N=0;N<w.length;N++){const y=await w.getTransaction(N);if(y.from===this.from&&y.nonce===this.nonce){if(l)return null;const b=await this.provider.getTransactionReceipt(y.hash);if(b==null||x-b.blockNumber+1<n)return;let A="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?A="repriced":y.data==="0x"&&y.from===y.to&&y.value===rk&&(A="cancelled"),Pe(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:A==="replaced"||A==="cancelled",reason:A,replacement:y.replaceableTransaction(i),hash:y.hash,receipt:b})}}o++}},u=x=>{if(x==null||x.status!==0)return x;Pe(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:x.to,from:x.from,data:""},receipt:x})},f=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(f);if(f){if(n===1||await f.confirmations()>=n)return u(f)}else if(await c(),n===0)return null;return await new Promise((x,p)=>{const k=[],w=()=>{k.forEach(y=>y())};if(k.push(()=>{l=!0}),a>0){const y=setTimeout(()=>{w(),p(ar("wait for transaction timeout","TIMEOUT"))},a);k.push(()=>{clearTimeout(y)})}const N=async y=>{if(await y.confirmations()>=n){w();try{x(u(y))}catch(b){p(b)}}};if(k.push(()=>{this.provider.off(this.hash,N)}),this.provider.on(this.hash,N),i>=0){const y=async()=>{try{await c()}catch(b){if(ls(b,"TRANSACTION_REPLACED")){w(),p(b);return}}l||this.provider.once("block",y)};k.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Pe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ak(this)}reorderedEvent(e){return Pe(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Pe(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),nk(this,e)}replaceableTransaction(e){he(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new gy(this,this.provider);return se(r,il,e),r}};il=new WeakMap;let Hf=gy;function o_(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function nk(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function ak(t){return{orphan:"drop-transaction",tx:t}}function l_(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class ny extends Nm{constructor(r,n,a){super(r,r.provider);ve(this,"interface");ve(this,"fragment");ve(this,"args");const i=n.decodeEventLog(a,r.data,r.topics);st(this,{args:i,fragment:a,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class ik extends Nm{constructor(r,n){super(r,r.provider);ve(this,"error");st(this,{error:n})}}var u0;class c_ extends sk{constructor(r,n,a){super(a,n);ye(this,u0,void 0);se(this,u0,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?L(this,u0).getEvent(r.topics[0]):null;if(n)try{return new ny(r,L(this,u0),n)}catch(a){return new ik(r,a)}return r})}}u0=new WeakMap;var rm;class ay extends Hf{constructor(r,n,a){super(a,n);ye(this,rm,void 0);se(this,rm,r)}async wait(r,n){const a=await super.wait(r,n);return a==null?null:new c_(L(this,rm),this.provider,a)}}rm=new WeakMap;class ok extends T6{constructor(r,n,a,i){super(r,n,a);ve(this,"log");st(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class d_ extends ok{constructor(e,r,n,a,i){super(e,r,n,new ny(i,e.interface,a));const o=e.interface.decodeEventLog(a,this.log.data,this.log.topics);st(this,{args:o,fragment:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const v3=BigInt(0);function lk(t){return t&&typeof t.call=="function"}function ck(t){return t&&typeof t.estimateGas=="function"}function Jx(t){return t&&typeof t.resolveName=="function"}function dk(t){return t&&typeof t.sendTransaction=="function"}function uk(t){if(t!=null){if(Jx(t))return t;if(t.provider)return t.provider}}var sm;class u_{constructor(e,r,n){ye(this,sm,void 0);ve(this,"fragment");if(st(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const a=cd(e.runner,"resolveName"),i=Jx(a)?a:null;se(this,sm,async function(){const o=await Promise.all(r.inputs.map((l,c)=>n[c]==null?null:l.walkAsync(n[c],(f,m)=>f==="address"?Array.isArray(m)?Promise.all(m.map(x=>Us(x,i))):Us(m,i):m)));return e.interface.encodeFilterTopics(r,o)}())}getTopicFilter(){return L(this,sm)}}sm=new WeakMap;function cd(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function jc(t){return t==null?null:t.provider||null}async function hk(t,e){const r=Ps.dereference(t,"overrides");he(typeof r=="object","invalid overrides parameter","overrides",t);const n=ix(r);return he(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),he(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function h_(t,e,r){const n=cd(t,"resolveName"),a=Jx(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(r[o],(l,c)=>(c=Ps.dereference(c,l),l==="address"?Us(c,a):c))))}function f_(t){const e=async function(o){const l=await hk(o,["data"]);l.to=await t.getAddress(),l.from&&(l.from=await Us(l.from,uk(t.runner)));const c=t.interface,u=Je(l.value||v3,"overrides.value")===v3,f=(l.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!f&&!u&&he(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),he(c.fallback||f,"cannot send data to receive-only contract","overrides.data",l.data);const m=c.receive||c.fallback&&c.fallback.payable;return he(m||u,"cannot send value to non-payable fallback","overrides.value",l.value),he(c.fallback||f,"cannot send data to receive-only contract","overrides.data",l.data),l},r=async function(o){const l=cd(t.runner,"call");Pe(lk(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await l.call(c)}catch(u){throw Vv(u)&&u.data?t.interface.makeError(u.data,c):u}},n=async function(o){const l=t.runner;Pe(dk(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await l.sendTransaction(await e(o)),u=jc(t.runner);return new ay(t.interface,u,c)},a=async function(o){const l=cd(t.runner,"estimateGas");return Pe(ck(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await e(o))},i=async o=>await n(o);return st(i,{_contract:t,estimateGas:a,populateTransaction:e,send:n,staticCall:r}),i}function m_(t,e){const r=function(...u){const f=t.interface.getFunction(e,u);return Pe(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),f},n=async function(...u){const f=r(...u);let m={};if(f.inputs.length+1===u.length&&(m=await hk(u.pop()),m.from&&(m.from=await Us(m.from,uk(t.runner)))),f.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const x=await h_(t.runner,f.inputs,u);return Object.assign({},m,await Rs({to:t.getAddress(),data:t.interface.encodeFunctionData(f,x)}))},a=async function(...u){const f=await l(...u);return f.length===1?f[0]:f},i=async function(...u){const f=t.runner;Pe(dk(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const m=await f.sendTransaction(await n(...u)),x=jc(t.runner);return new ay(t.interface,x,m)},o=async function(...u){const f=cd(t.runner,"estimateGas");return Pe(ck(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await n(...u))},l=async function(...u){const f=cd(t.runner,"call");Pe(lk(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const m=await n(...u);let x="0x";try{x=await f.call(m)}catch(k){throw Vv(k)&&k.data?t.interface.makeError(k.data,m):k}const p=r(...u);return t.interface.decodeFunctionResult(p,x)},c=async(...u)=>r(...u).constant?await a(...u):await i(...u);return st(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:o,populateTransaction:n,send:i,staticCall:a,staticCallResult:l}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return Pe(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function p_(t,e){const r=function(...a){const i=t.interface.getEvent(e,a);return Pe(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:a}}),i},n=function(...a){return new u_(t,r(...a),a)};return st(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const a=t.interface.getEvent(e);return Pe(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),a}}),n}const ox=Symbol.for("_ethersInternal_contract"),fk=new WeakMap;function g_(t,e){fk.set(t[ox],e)}function yn(t){return fk.get(t[ox])}function x_(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function iy(t,e){let r,n=null;if(Array.isArray(e)){const i=function(o){if(er(o,32))return o;const l=t.interface.getEvent(o);return he(l,"unknown fragment","name",o),l.topicHash};r=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?r=[null]:typeof e=="string"?er(e,32)?r=[e]:(n=t.interface.getEvent(e),he(n,"unknown fragment","event",e),r=[n.topicHash]):x_(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):he(!1,"unknown event name","event",e);r=r.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(l=>l.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const a=r.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:a,topics:r}}async function Yh(t,e){const{subs:r}=yn(t);return r.get((await iy(t,e)).tag)||null}async function y3(t,e,r){const n=jc(t.runner);Pe(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:a,tag:i,topics:o}=await iy(t,r),{addr:l,subs:c}=yn(t);let u=c.get(i);if(!u){const m={address:l||t,topics:o},x=N=>{let y=a;if(y==null)try{y=t.interface.getEvent(N.topics[0])}catch{}if(y){const b=y,A=a?t.interface.decodeEventLog(a,N.data,N.topics):[];b5(t,r,A,E=>new d_(t,E,r,b,N))}else b5(t,r,[],b=>new ok(t,b,r,N))};let p=[];u={tag:i,listeners:[],start:()=>{p.length||p.push(n.on(m,x))},stop:async()=>{if(p.length==0)return;let N=p;p=[],await Promise.all(N),n.off(m,x)}},c.set(i,u)}return u}let x5=Promise.resolve();async function b_(t,e,r,n){await x5;const a=await Yh(t,e);if(!a)return!1;const i=a.listeners.length;return a.listeners=a.listeners.filter(({listener:o,once:l})=>{const c=Array.from(r);n&&c.push(n(l?null:o));try{o.call(t,...c)}catch{}return!l}),a.listeners.length===0&&(a.stop(),yn(t).subs.delete(a.tag)),i>0}async function b5(t,e,r,n){try{await x5}catch{}const a=b_(t,e,r,n);return x5=a,await a}const Hp=["then"];var yO;const hf=class hf{constructor(e,r,n,a){ve(this,"target");ve(this,"interface");ve(this,"runner");ve(this,"filters");ve(this,yO);ve(this,"fallback");he(typeof e=="string"||bA(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=g5.from(r);st(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,ox,{value:{}});let o,l=null,c=null;if(a){const m=jc(n);c=new ay(this.interface,m,a)}let u=new Map;if(typeof e=="string")if(er(e))l=e,o=Promise.resolve(e);else{const m=cd(n,"resolveName");if(!Jx(m))throw ar("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=m.resolveName(e).then(x=>{if(x==null)throw ar("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return yn(this).addr=x,x})}else o=e.getAddress().then(m=>{if(m==null)throw new Error("TODO");return yn(this).addr=m,m});g_(this,{addrPromise:o,addr:l,deployTx:c,subs:u});const f=new Proxy({},{get:(m,x,p)=>{if(typeof x=="symbol"||Hp.indexOf(x)>=0)return Reflect.get(m,x,p);try{return this.getEvent(x)}catch(k){if(!ls(k,"INVALID_ARGUMENT")||k.argument!=="key")throw k}},has:(m,x)=>Hp.indexOf(x)>=0?Reflect.has(m,x):Reflect.has(m,x)||this.interface.hasEvent(String(x))});return st(this,{filters:f}),st(this,{fallback:i.receive||i.fallback?f_(this):null}),new Proxy(this,{get:(m,x,p)=>{if(typeof x=="symbol"||x in m||Hp.indexOf(x)>=0)return Reflect.get(m,x,p);try{return m.getFunction(x)}catch(k){if(!ls(k,"INVALID_ARGUMENT")||k.argument!=="key")throw k}},has:(m,x)=>typeof x=="symbol"||x in m||Hp.indexOf(x)>=0?Reflect.has(m,x):m.interface.hasFunction(x)})}connect(e){return new hf(this.target,this.interface,e)}attach(e){return new hf(e,this.interface,this.runner)}async getAddress(){return await yn(this).addrPromise}async getDeployedCode(){const e=jc(this.runner);Pe(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=jc(this.runner);return Pe(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((a,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return a(this);n.once("block",o)}catch(l){i(l)}};o()})}deploymentTransaction(){return yn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),m_(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),p_(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:a,addrPromise:i}=yn(this),o=a||await i,{fragment:l,topics:c}=await iy(this,e),u={address:o,topics:c,fromBlock:r,toBlock:n},f=jc(this.runner);return Pe(f,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await f.getLogs(u)).map(m=>{let x=l;if(x==null)try{x=this.interface.getEvent(m.topics[0])}catch{}if(x)try{return new ny(m,this.interface,x)}catch(p){return new ik(m,p)}return new Nm(m,f)})}async on(e,r){const n=await y3(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await y3(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await b5(this,e,r,null)}async listenerCount(e){if(e){const a=await Yh(this,e);return a?a.listeners.length:0}const{subs:r}=yn(this);let n=0;for(const{listeners:a}of r.values())n+=a.length;return n}async listeners(e){if(e){const a=await Yh(this,e);return a?a.listeners.map(({listener:i})=>i):[]}const{subs:r}=yn(this);let n=[];for(const{listeners:a}of r.values())n=n.concat(a.map(({listener:i})=>i));return n}async off(e,r){const n=await Yh(this,e);if(!n)return this;if(r){const a=n.listeners.map(({listener:i})=>i).indexOf(r);a>=0&&n.listeners.splice(a,1)}return(r==null||n.listeners.length===0)&&(n.stop(),yn(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await Yh(this,e);if(!r)return this;r.stop(),yn(this).subs.delete(r.tag)}else{const{subs:r}=yn(this);for(const{tag:n,stop:a}of r.values())a(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends hf{constructor(a,i=null){super(a,e,i)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};yO=ox;let v5=hf;function v_(){return v5}class _u extends v_(){}function Ob(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):he(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class y_{constructor(e){ve(this,"name");st(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const mk=new RegExp("^(ipfs)://(.*)$","i"),w3=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),mk,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var ol,Dc,ll,Zd,gx,pk;const vu=class vu{constructor(e,r,n){ye(this,ll);ve(this,"provider");ve(this,"address");ve(this,"name");ye(this,ol,void 0);ye(this,Dc,void 0);st(this,{provider:e,address:r,name:n}),se(this,ol,null),se(this,Dc,new _u(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return L(this,ol)==null&&se(this,ol,(async()=>{try{return await L(this,Dc).supportsInterface("0x9061b923")}catch(e){if(ls(e,"CALL_EXCEPTION"))return!1;throw se(this,ol,null),e}})()),await L(this,ol)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await Te(this,ll,Zd).call(this,"addr(bytes32)");return i==null||i===Bf?null:i}catch(i){if(ls(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await Te(this,ll,Zd).call(this,"addr(bytes32,uint)",[i]);if(er(o,20))return Rt(o)}let r=null;for(const i of this.provider.plugins)if(i instanceof y_&&i.supportsCoinType(e)){r=i;break}if(r==null)return null;const n=await Te(this,ll,Zd).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const a=await r.decodeAddress(e,n);if(a!=null)return a;Pe(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await Te(this,ll,Zd).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await Te(this,ll,Zd).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const a=r[1]==="e3010170"?"ipfs":"ipns",i=parseInt(r[4],16);if(r[5].length===i*2)return`${a}://${NE("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;Pe(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<w3.length;n++){const a=r.match(w3[n]);if(a==null)continue;const i=a[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const o=Ob(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:r});const l=await this.getAddress();if(l==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(a[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:a[2]||""}),{url:null,linkage:e};const u=c[1],f=new _u(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const w=await f.ownerOf(u);if(l!==w)return e.push({type:"!owner",value:w}),{url:null,linkage:e};e.push({type:"owner",value:w})}else if(i==="erc1155"){const w=await f.balanceOf(l,u);if(!w)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:w.toString()})}let m=await f[o](u);if(m==null||m==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:m}),i==="erc1155"&&(m=m.replace("{id}",Ol(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:m})),m.match(/^ipfs:/i)&&(m=Ob(m)),e.push({type:"metadata-url",value:m});let x={};const p=await new Dl(m).send();p.assertOk();try{x=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const y=p.body;return y&&e.push({type:"!metadata",value:He(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!x)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(x)});let k=x.image;if(typeof k!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!k.match(/^(https:\/\/|data:)/i)){if(k.match(mk)==null)return e.push({type:"!imageUrl-ipfs",value:k}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:k}),k=Ob(k)}return e.push({type:"url",value:k}),{linkage:e,url:k}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return Pe(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var a;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const i=await Te(a=vu,gx,pk).call(a,e,n);if(i!=null){const o=new vu(e,i,r);return n!==r&&!await o.supportsWildcard()?null:o}n=n.split(".").slice(1).join(".")}}};ol=new WeakMap,Dc=new WeakMap,ll=new WeakSet,Zd=async function(e,r){r=(r||[]).slice();const n=L(this,Dc).interface;r.unshift(m5(this.name));let a=null;await this.supportsWildcard()&&(a=n.getFunction(e),Pe(a,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[O9(this.name,255),n.encodeFunctionData(a,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const i=await L(this,Dc)[e](...r);return a?n.decodeFunctionResult(a,i)[0]:i}catch(i){if(!ls(i,"CALL_EXCEPTION"))throw i}return null},gx=new WeakSet,pk=async function(e,r){const n=await vu.getEnsAddress(e);try{const i=await new _u(n,["function resolver(bytes32) view returns (address)"],e).resolver(m5(r),{enableCcipRead:!0});return i===Bf?null:i}catch(a){throw a}return null},ye(vu,gx);let lx=vu;const N3=BigInt(0);function kt(t,e){return function(r){return r==null?e:t(r)}}function qf(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function jm(t,e){return r=>{const n={};for(const a in t){let i=a;if(e&&a in e&&!(i in r)){for(const o of e[a])if(o in r){i=o;break}}try{const o=t[a](r[i]);o!==void 0&&(n[a]=o)}catch(o){const l=o instanceof Error?o.message:"not-an-error";Pe(!1,`invalid value for value.${a} (${l})`,"BAD_DATA",{value:r})}}return n}}function w_(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}he(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function H0(t){return he(er(t,!0),"invalid data","value",t),t}function os(t){return he(er(t,32),"invalid hash","value",t),t}const N_=jm({address:Rt,blockHash:os,blockNumber:bt,data:H0,index:bt,removed:kt(w_,!1),topics:qf(os),transactionHash:os,transactionIndex:bt},{index:["logIndex"]});function j_(t){return N_(t)}const A_=jm({hash:kt(os),parentHash:os,parentBeaconBlockRoot:kt(os,null),number:bt,timestamp:bt,nonce:kt(H0),difficulty:Je,gasLimit:Je,gasUsed:Je,stateRoot:kt(os,null),receiptsRoot:kt(os,null),blobGasUsed:kt(Je,null),excessBlobGas:kt(Je,null),miner:kt(Rt),prevRandao:kt(os,null),extraData:H0,baseFeePerGas:kt(Je)},{prevRandao:["mixHash"]});function k_(t){const e=A_(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:gk(r)),e}const S_=jm({transactionIndex:bt,blockNumber:bt,transactionHash:os,address:Rt,topics:qf(os),data:H0,index:bt,blockHash:os},{index:["logIndex"]});function C_(t){return S_(t)}const P_=jm({to:kt(Rt,null),from:kt(Rt,null),contractAddress:kt(Rt,null),index:bt,root:kt(He),gasUsed:Je,blobGasUsed:kt(Je,null),logsBloom:kt(H0),blockHash:os,hash:os,logs:qf(C_),blockNumber:bt,cumulativeGasUsed:Je,effectiveGasPrice:kt(Je),blobGasPrice:kt(Je,null),status:kt(bt),type:kt(bt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function L_(t){return P_(t)}function gk(t){t.to&&Je(t.to)===N3&&(t.to="0x0000000000000000000000000000000000000000");const e=jm({hash:os,index:kt(bt,void 0),type:r=>r==="0x"||r==null?0:bt(r),accessList:kt(hd,null),blobVersionedHashes:kt(qf(os,!0),null),authorizationList:kt(qf(r=>{let n;if(r.signature)n=r.signature;else{let a=r.yParity;a==="0x1b"?a=0:a==="0x1c"&&(a=1),n=Object.assign({},r,{yParity:a})}return{address:Rt(r.address),chainId:Je(r.chainId),nonce:Je(r.nonce),signature:un.from(n)}},!1),null),blockHash:kt(os,null),blockNumber:kt(bt,null),transactionIndex:kt(bt,null),from:Rt,gasPrice:kt(Je),maxPriorityFeePerGas:kt(Je),maxFeePerGas:kt(Je),maxFeePerBlobGas:kt(Je,null),gasLimit:Je,to:kt(Rt,null),value:Je,nonce:bt,data:H0,creates:kt(Rt,null),chainId:kt(Je,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=xT(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=un.from(t.signature):e.signature=un.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&Je(e.blockHash)===N3&&(e.blockHash=null),e}const E_="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Am{constructor(e){ve(this,"name");st(this,{name:e})}clone(){return new Am(this.name)}}class Kx extends Am{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);ve(this,"effectiveBlock");ve(this,"txBase");ve(this,"txCreate");ve(this,"txDataZero");ve(this,"txDataNonzero");ve(this,"txAccessListStorageKey");ve(this,"txAccessListAddress");const a={effectiveBlock:r};function i(o,l){let c=(n||{})[o];c==null&&(c=l),he(typeof c=="number",`invalud value for ${o}`,"costs",n),a[o]=c}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),st(this,a)}clone(){return new Kx(this.effectiveBlock,this)}}class Yx extends Am{constructor(r,n){super("org.ethers.plugins.network.Ens");ve(this,"address");ve(this,"targetNetwork");st(this,{address:r||E_,targetNetwork:n??1})}clone(){return new Yx(this.address,this.targetNetwork)}}var nm,am;class I_ extends Am{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");ye(this,nm,void 0);ye(this,am,void 0);se(this,nm,r),se(this,am,n)}get url(){return L(this,nm)}get processFunc(){return L(this,am)}clone(){return this}}nm=new WeakMap,am=new WeakMap;const Db=new Map;var h0,f0,cl;const yu=class yu{constructor(e,r){ye(this,h0,void 0);ye(this,f0,void 0);ye(this,cl,void 0);se(this,h0,e),se(this,f0,Je(r)),se(this,cl,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return L(this,h0)}set name(e){se(this,h0,e)}get chainId(){return L(this,f0)}set chainId(e){se(this,f0,Je(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Je(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Je(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Je(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(L(this,cl).values())}attachPlugin(e){if(L(this,cl).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return L(this,cl).set(e.name,e.clone()),this}getPlugin(e){return L(this,cl).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new yu(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new Kx;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let a=2;a<e.data.length;a+=2)e.data.substring(a,a+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const a=hd(e.accessList);for(const i in a)n+=r.txAccessListAddress+r.txAccessListStorageKey*a[i].storageKeys.length}return n}static from(e){if(T_(),e==null)return yu.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=Db.get(e);if(r)return r();if(typeof e=="bigint")return new yu("unknown",e);he(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){he(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new yu(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new Yx(e.ensAddress,e.ensNetwork)),r}he(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=Db.get(e);n&&he(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Db.set(e,r)}};h0=new WeakMap,f0=new WeakMap,cl=new WeakMap;let bi=yu;function j3(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let a=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||a++,n[1]=a.toString()}return BigInt(n[0]+n[1])}function A3(t){return new I_(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let a;try{const[i,o]=await Promise.all([n.send(),e()]);a=i;const l=a.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:j3(l.maxFee,9),maxPriorityFeePerGas:j3(l.maxPriorityFee,9)}}catch(i){Pe(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:a,error:i})}})}let k3=!1;function T_(){if(k3)return;k3=!0;function t(e,r,n){const a=function(){const i=new bi(e,r);return n.ensNetwork!=null&&i.attachPlugin(new Yx(null,n.ensNetwork)),i.attachPlugin(new Kx),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};bi.register(e,a),bi.register(r,a),n.altNames&&n.altNames.forEach(i=>{bi.register(i,a)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[A3("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[A3("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function y5(t){return JSON.parse(JSON.stringify(t))}var eo,Vn,dl,ui,m0,hg;class __{constructor(e){ye(this,m0);ye(this,eo,void 0);ye(this,Vn,void 0);ye(this,dl,void 0);ye(this,ui,void 0);se(this,eo,e),se(this,Vn,null),se(this,dl,4e3),se(this,ui,-2)}get pollingInterval(){return L(this,dl)}set pollingInterval(e){se(this,dl,e)}start(){L(this,Vn)||(se(this,Vn,L(this,eo)._setTimeout(Te(this,m0,hg).bind(this),L(this,dl))),Te(this,m0,hg).call(this))}stop(){L(this,Vn)&&(L(this,eo)._clearTimeout(L(this,Vn)),se(this,Vn,null))}pause(e){this.stop(),e&&se(this,ui,-2)}resume(){this.start()}}eo=new WeakMap,Vn=new WeakMap,dl=new WeakMap,ui=new WeakMap,m0=new WeakSet,hg=async function(){try{const e=await L(this,eo).getBlockNumber();if(L(this,ui)===-2){se(this,ui,e);return}if(e!==L(this,ui)){for(let r=L(this,ui)+1;r<=e;r++){if(L(this,Vn)==null)return;await L(this,eo).emit("block",r)}se(this,ui,e)}}catch{}L(this,Vn)!=null&&se(this,Vn,L(this,eo)._setTimeout(Te(this,m0,hg).bind(this),L(this,dl)))};var Rc,Fc,ul;class oy{constructor(e){ye(this,Rc,void 0);ye(this,Fc,void 0);ye(this,ul,void 0);se(this,Rc,e),se(this,ul,!1),se(this,Fc,r=>{this._poll(r,L(this,Rc))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){L(this,ul)||(se(this,ul,!0),L(this,Fc).call(this,-2),L(this,Rc).on("block",L(this,Fc)))}stop(){L(this,ul)&&(se(this,ul,!1),L(this,Rc).off("block",L(this,Fc)))}pause(e){this.stop()}resume(){this.start()}}Rc=new WeakMap,Fc=new WeakMap,ul=new WeakMap;var p0,to;class B_ extends oy{constructor(r,n){super(r);ye(this,p0,void 0);ye(this,to,void 0);se(this,p0,n),se(this,to,-2)}pause(r){r&&se(this,to,-2),super.pause(r)}async _poll(r,n){const a=await n.getBlock(L(this,p0));a!=null&&(L(this,to)===-2?se(this,to,a.number):a.number>L(this,to)&&(n.emit(L(this,p0),a.number),se(this,to,a.number)))}}p0=new WeakMap,to=new WeakMap;var xx;class O_ extends oy{constructor(r,n){super(r);ye(this,xx,void 0);se(this,xx,y5(n))}async _poll(r,n){throw new Error("@TODO")}}xx=new WeakMap;var g0;class D_ extends oy{constructor(r,n){super(r);ye(this,g0,void 0);se(this,g0,n)}async _poll(r,n){const a=await n.getTransactionReceipt(L(this,g0));a&&n.emit(L(this,g0),a)}}g0=new WeakMap;var ro,x0,b0,hl,Gn,bx,xk;class ly{constructor(e,r){ye(this,bx);ye(this,ro,void 0);ye(this,x0,void 0);ye(this,b0,void 0);ye(this,hl,void 0);ye(this,Gn,void 0);se(this,ro,e),se(this,x0,y5(r)),se(this,b0,Te(this,bx,xk).bind(this)),se(this,hl,!1),se(this,Gn,-2)}start(){L(this,hl)||(se(this,hl,!0),L(this,Gn)===-2&&L(this,ro).getBlockNumber().then(e=>{se(this,Gn,e)}),L(this,ro).on("block",L(this,b0)))}stop(){L(this,hl)&&(se(this,hl,!1),L(this,ro).off("block",L(this,b0)))}pause(e){this.stop(),e&&se(this,Gn,-2)}resume(){this.start()}}ro=new WeakMap,x0=new WeakMap,b0=new WeakMap,hl=new WeakMap,Gn=new WeakMap,bx=new WeakSet,xk=async function(e){if(L(this,Gn)===-2)return;const r=y5(L(this,x0));r.fromBlock=L(this,Gn)+1,r.toBlock=e;const n=await L(this,ro).getLogs(r);if(n.length===0){L(this,Gn)<e-60&&se(this,Gn,e-60);return}for(const a of n)L(this,ro).emit(L(this,x0),a),se(this,Gn,a.blockNumber)};const R_=BigInt(2),F_=10;function qp(t){return t&&typeof t.then=="function"}function fg(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const a=Object.keys(n);return a.sort(),a.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}class bk{constructor(e){ve(this,"name");st(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function M_(t){return JSON.parse(JSON.stringify(t))}function w5(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Rb(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(er(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:fg("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:fg("orphan",r),filter:M_(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(a=>a==null?null:Array.isArray(a)?w5(a.map(i=>i.toLowerCase())):a.toLowerCase())};if(r.address){const a=[],i=[],o=l=>{er(l)?a.push(l):i.push((async()=>{a.push(await Us(l,e))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),i.length&&await Promise.all(i),n.address=w5(a.map(l=>l.toLowerCase()))}return{filter:n,tag:fg("event",n),type:"event"}}he(!1,"unknown ProviderEvent","event",t)}function Fb(){return new Date().getTime()}const U_={cacheTimeout:250,pollingInterval:4e3};var As,fl,ks,v0,An,Mc,ml,so,im,$n,y0,w0,Bs,vn,om,N5,lm,j5,Uc,Xh,cm,A5,zc,Zh,N0,mg;class z_{constructor(e,r){ye(this,Bs);ye(this,om);ye(this,lm);ye(this,Uc);ye(this,cm);ye(this,zc);ye(this,N0);ye(this,As,void 0);ye(this,fl,void 0);ye(this,ks,void 0);ye(this,v0,void 0);ye(this,An,void 0);ye(this,Mc,void 0);ye(this,ml,void 0);ye(this,so,void 0);ye(this,im,void 0);ye(this,$n,void 0);ye(this,y0,void 0);ye(this,w0,void 0);if(se(this,w0,Object.assign({},U_,r||{})),e==="any")se(this,Mc,!0),se(this,An,null);else if(e){const n=bi.from(e);se(this,Mc,!1),se(this,An,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else se(this,Mc,!1),se(this,An,null);se(this,so,-1),se(this,ml,new Map),se(this,As,new Map),se(this,fl,new Map),se(this,ks,null),se(this,v0,!1),se(this,im,1),se(this,$n,new Map),se(this,y0,!1)}get pollingInterval(){return L(this,w0).pollingInterval}get provider(){return this}get plugins(){return Array.from(L(this,fl).values())}attachPlugin(e){if(L(this,fl).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return L(this,fl).set(e.name,e.connect(this)),this}getPlugin(e){return L(this,fl).get(e)||null}get disableCcipRead(){return L(this,y0)}set disableCcipRead(e){se(this,y0,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const a=e.to.toLowerCase(),i=r.toLowerCase(),o=[];for(let l=0;l<n.length;l++){const c=n[l],u=c.replace("{sender}",a).replace("{data}",i),f=new Dl(u);c.indexOf("{data}")===-1&&(f.body={data:i,sender:a}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:l,urls:n});let m="unknown error",x;try{x=await f.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:{error:p}});continue}try{const p=x.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:p}),p.data;p.message&&(m=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:p})}catch{}Pe(x.statusCode<400||x.statusCode>=500,`response not found during CCIP fetch: ${m}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:m}}),o.push(m)}Pe(!1,`error encountered during CCIP fetch: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,r){return new i_(k_(e),this)}_wrapLog(e,r){return new Nm(j_(e),this)}_wrapTransactionReceipt(e,r){return new sk(L_(e),this)}_wrapTransactionResponse(e,r){return new Hf(gk(e),this)}_detectNetwork(){Pe(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Pe(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=bt(await Te(this,Bs,vn).call(this,{method:"getBlockNumber"}),"%response");return L(this,so)>=0&&se(this,so,e),e}_getAddress(e){return Us(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(er(e))return er(e,32)?e:Ta(e);if(typeof e=="bigint"&&(e=bt(e,"blockTag")),typeof e=="number")return e>=0?Ta(e):L(this,so)>=0?Ta(L(this,so)+e):this.getBlockNumber().then(r=>Ta(r+e));he(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?w5(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,a=(c,u,f)=>{let m;switch(c.length){case 0:break;case 1:m=c[0];break;default:c.sort(),m=c}if(n&&(u!=null||f!=null))throw new Error("invalid filter");const x={};return m&&(x.address=m),r.length&&(x.topics=r),u&&(x.fromBlock=u),f&&(x.toBlock=f),n&&(x.blockHash=n),x};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let l;return"toBlock"in e&&(l=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(i),o,l]).then(c=>a(c[0],c[1],c[2])):a(i,o,l)}_getTransactionRequest(e){const r=ix(e),n=[];if(["to","from"].forEach(a=>{if(r[a]==null)return;const i=Us(r[a],this);qp(i)?n.push(async function(){r[a]=await i}()):r[a]=i}),r.blockTag!=null){const a=this._getBlockTag(r.blockTag);qp(a)?n.push(async function(){r.blockTag=await a}()):r.blockTag=a}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(L(this,An)==null){const a=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw L(this,An)===a&&se(this,An,null),i}})();return se(this,An,a),(await a).clone()}const e=L(this,An),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(L(this,Mc)?(this.emit("network",n,r),L(this,An)===e&&se(this,An,Promise.resolve(n))):Pe(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:a,gasPrice:i,priorityFee:o}=await Rs({_block:Te(this,cm,A5).call(this,"latest",!1),gasPrice:(async()=>{try{const f=await Te(this,Bs,vn).call(this,{method:"getGasPrice"});return Je(f,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const f=await Te(this,Bs,vn).call(this,{method:"getPriorityFee"});return Je(f,"%response")}catch{}return null})()});let l=null,c=null;const u=this._wrapBlock(a,e);return u&&u.baseFeePerGas&&(c=o??BigInt("1000000000"),l=u.baseFeePerGas*R_+c),new b3(i,l,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const a=new Dl(n.url),i=await n.processFunc(r,this,a);return new b3(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return qp(r)&&(r=await r),Je(await Te(this,Bs,vn).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Rs({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Te(this,lm,j5).call(this,Te(this,om,N5).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return Je(await Te(this,Uc,Xh).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return bt(await Te(this,Uc,Xh).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return He(await Te(this,Uc,Xh).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const a=Je(r,"position");return He(await Te(this,Uc,Xh).call(this,{method:"getStorage",position:a},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:a}=await Rs({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Zg.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,a).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:a}=await Rs({network:this.getNetwork(),params:Te(this,cm,A5).call(this,e,!!r)});return a==null?null:this._wrapBlock(a,n)}async getTransaction(e){const{network:r,params:n}=await Rs({network:this.getNetwork(),params:Te(this,Bs,vn).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Rs({network:this.getNetwork(),params:Te(this,Bs,vn).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const a=await Te(this,Bs,vn).call(this,{method:"getTransaction",hash:e});if(a==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=a.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Rs({network:this.getNetwork(),result:Te(this,Bs,vn).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:He(r)}async getLogs(e){let r=this._getFilter(e);qp(r)&&(r=await r);const{network:n,params:a}=await Rs({network:this.getNetwork(),params:Te(this,Bs,vn).call(this,{method:"getLogs",filter:r})});return a.map(i=>this._wrapLog(i,n))}_getProvider(e){Pe(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await lx.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Rt(e);const r=m5(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await lx.getEnsAddress(this),i=await new _u(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(i==null||i===Bf)return null;const l=await new _u(i,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(l)!==e?null:l}catch(n){if(ls(n,"BAD_DATA")&&n.value==="0x"||ls(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const a=r??1;return a===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let l=null;const c=async u=>{try{const f=await this.getTransactionReceipt(e);if(f!=null&&u-f.blockNumber+1>=a){i(f),l&&(clearTimeout(l),l=null);return}}catch(f){console.log("EEE",f)}this.once("block",c)};n!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",c),o(ar("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){Pe(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=L(this,$n).get(e);r&&(r.timer&&clearTimeout(r.timer),L(this,$n).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=Lh(this,im)._++,a=()=>{L(this,$n).delete(n),e()};if(this.paused)L(this,$n).set(n,{timer:null,func:a,time:r});else{const i=setTimeout(a,r);L(this,$n).set(n,{timer:i,func:a,time:Fb()})}return n}_forEachSubscriber(e){for(const r of L(this,As).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new bk(e.type);case"block":{const r=new __(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new B_(this,e.type);case"event":return new ly(this,e.filter);case"transaction":return new D_(this,e.hash);case"orphan":return new O_(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of L(this,As).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),L(this,ks)!=null&&r.pause(L(this,ks));break}}async on(e,r){const n=await Te(this,N0,mg).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,L(this,ks)!=null&&n.subscriber.pause(L(this,ks))),this}async once(e,r){const n=await Te(this,N0,mg).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,L(this,ks)!=null&&n.subscriber.pause(L(this,ks))),this}async emit(e,...r){const n=await Te(this,zc,Zh).call(this,e,r);if(!n||n.listeners.length===0)return!1;const a=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{const l=new T6(this,o?null:i,e);try{i.call(this,...r,l)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),L(this,As).delete(n.tag)),a>0}async listenerCount(e){if(e){const n=await Te(this,zc,Zh).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of L(this,As).values())r+=n.length;return r}async listeners(e){if(e){const n=await Te(this,zc,Zh).call(this,e);return n?n.listeners.map(({listener:a})=>a):[]}let r=[];for(const{listeners:n}of L(this,As).values())r=r.concat(n.map(({listener:a})=>a));return r}async off(e,r){const n=await Te(this,zc,Zh).call(this,e);if(!n)return this;if(r){const a=n.listeners.map(({listener:i})=>i).indexOf(r);a>=0&&n.listeners.splice(a,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),L(this,As).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:a}=await Te(this,N0,mg).call(this,e);n&&a.stop(),L(this,As).delete(r)}else for(const[r,{started:n,subscriber:a}]of L(this,As))n&&a.stop(),L(this,As).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return L(this,v0)}destroy(){this.removeAllListeners();for(const e of L(this,$n).keys())this._clearTimeout(e);se(this,v0,!0)}get paused(){return L(this,ks)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(se(this,so,-1),L(this,ks)!=null){if(L(this,ks)==!!e)return;Pe(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),se(this,ks,!!e);for(const r of L(this,$n).values())r.timer&&clearTimeout(r.timer),r.time=Fb()-r.time}resume(){if(L(this,ks)!=null){this._forEachSubscriber(e=>e.resume()),se(this,ks,null);for(const e of L(this,$n).values()){let r=e.time;r<0&&(r=0),e.time=Fb(),setTimeout(e.func,r)}}}}As=new WeakMap,fl=new WeakMap,ks=new WeakMap,v0=new WeakMap,An=new WeakMap,Mc=new WeakMap,ml=new WeakMap,so=new WeakMap,im=new WeakMap,$n=new WeakMap,y0=new WeakMap,w0=new WeakMap,Bs=new WeakSet,vn=async function(e){const r=L(this,w0).cacheTimeout;if(r<0)return await this._perform(e);const n=fg(e.method,e);let a=L(this,ml).get(n);return a||(a=this._perform(e),L(this,ml).set(n,a),setTimeout(()=>{L(this,ml).get(n)===a&&L(this,ml).delete(n)},r)),await a},om=new WeakSet,N5=async function(e,r,n){Pe(n<F_,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const a=ix(e);try{return He(await this._perform({method:"call",transaction:a,blockTag:r}))}catch(i){if(!this.disableCcipRead&&Vv(i)&&i.data&&n>=0&&r==="latest"&&a.to!=null&&br(i.data,0,4)==="0x556f1830"){const o=i.data,l=await Us(a.to,this);let c;try{c=$_(br(i.data,4))}catch(m){Pe(!1,m.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:a,info:{data:o}})}Pe(c.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:a,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(a,c.calldata,c.urls);Pe(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:a,info:{data:i.data,errorArgs:c.errorArgs}});const f={to:l,data:yr([c.selector,G_([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:f});try{const m=await Te(this,om,N5).call(this,f,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},f),result:m}),m}catch(m){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},f),error:m}),m}}throw i}},lm=new WeakSet,j5=async function(e){const{value:r}=await Rs({network:this.getNetwork(),value:e});return r},Uc=new WeakSet,Xh=async function(e,r,n){let a=this._getAddress(r),i=this._getBlockTag(n);return(typeof a!="string"||typeof i!="string")&&([a,i]=await Promise.all([a,i])),await Te(this,lm,j5).call(this,Te(this,Bs,vn).call(this,Object.assign(e,{address:a,blockTag:i})))},cm=new WeakSet,A5=async function(e,r){if(er(e,32))return await Te(this,Bs,vn).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await Te(this,Bs,vn).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},zc=new WeakSet,Zh=async function(e,r){let n=await Rb(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await Rb({orphan:"drop-log",log:r[0]},this)),L(this,As).get(n.tag)||null},N0=new WeakSet,mg=async function(e){const r=await Rb(e,this),n=r.tag;let a=L(this,As).get(n);return a||(a={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},L(this,As).set(n,a)),a};function H_(t,e){try{const r=k5(t,e);if(r)return Kg(r)}catch{}return null}function k5(t,e){if(t==="0x")return null;try{const r=bt(br(t,e,e+32)),n=bt(br(t,r,r+32));return br(t,r+32,r+32+n)}catch{}return null}function S3(t){const e=Hr(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function q_(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const V_=new Uint8Array([]);function G_(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(V_),r+=32;for(let n=0;n<t.length;n++){const a=yt(t[n]);e[n]=S3(r),e.push(S3(a.length)),e.push(q_(a)),r+=32+Math.ceil(a.length/32)*32}return yr(e)}const C3="0x0000000000000000000000000000000000000000000000000000000000000000";function $_(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Pe(Lu(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=br(t,0,32);Pe(br(r,0,12)===br(C3,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=br(r,12);try{const n=[],a=bt(br(t,32,64)),i=bt(br(t,a,a+32)),o=br(t,a+32);for(let l=0;l<i;l++){const c=H_(o,l*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{Pe(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=k5(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{Pe(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Pe(br(t,100,128)===br(C3,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=br(t,96,100);try{const n=k5(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{Pe(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function ac(t,e){if(t.provider)return t.provider;Pe(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function P3(t,e){let r=ix(e);if(r.to!=null&&(r.to=Us(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),Us(n,t)]).then(([a,i])=>(he(a.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),a))}else r.from=t.getAddress();return await Rs(r)}class W_{constructor(e){ve(this,"provider");st(this,{provider:e||null})}async getNonce(e){return ac(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await P3(this,e)}async populateTransaction(e){const r=ac(this,"populateTransaction"),n=await P3(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const a=await this.provider.getNetwork();if(n.chainId!=null){const o=Je(n.chainId);he(o===a.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=a.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?he(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&he(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await r.getFeeData();Pe(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await r.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const l=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=l,n.maxPriorityFeePerGas=l}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Pe(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):Pe(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Rs(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await ac(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return ac(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ac(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ac(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=ac(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const a=Zg.from(n);return await r.broadcastTransaction(await this.signTransaction(a))}authorize(e){Pe(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function Q_(t){return JSON.parse(JSON.stringify(t))}var Os,hi,Hc,pl,qc,j0,dm,S5,um,C5;class vk{constructor(e){ye(this,dm);ye(this,um);ye(this,Os,void 0);ye(this,hi,void 0);ye(this,Hc,void 0);ye(this,pl,void 0);ye(this,qc,void 0);ye(this,j0,void 0);se(this,Os,e),se(this,hi,null),se(this,Hc,Te(this,dm,S5).bind(this)),se(this,pl,!1),se(this,qc,null),se(this,j0,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){L(this,pl)||(se(this,pl,!0),Te(this,dm,S5).call(this,-2))}stop(){L(this,pl)&&(se(this,pl,!1),se(this,j0,!0),Te(this,um,C5).call(this),L(this,Os).off("block",L(this,Hc)))}pause(e){e&&Te(this,um,C5).call(this),L(this,Os).off("block",L(this,Hc))}resume(){this.start()}}Os=new WeakMap,hi=new WeakMap,Hc=new WeakMap,pl=new WeakMap,qc=new WeakMap,j0=new WeakMap,dm=new WeakSet,S5=async function(e){try{L(this,hi)==null&&se(this,hi,this._subscribe(L(this,Os)));let r=null;try{r=await L(this,hi)}catch(i){if(!ls(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(r==null){se(this,hi,null),L(this,Os)._recoverSubscriber(this,this._recover(L(this,Os)));return}const n=await L(this,Os).getNetwork();if(L(this,qc)||se(this,qc,n),L(this,qc).chainId!==n.chainId)throw new Error("chaid changed");if(L(this,j0))return;const a=await L(this,Os).send("eth_getFilterChanges",[r]);await this._emitResults(L(this,Os),a)}catch(r){console.log("@TODO",r)}L(this,Os).once("block",L(this,Hc))},um=new WeakSet,C5=function(){const e=L(this,hi);e&&(se(this,hi,null),e.then(r=>{L(this,Os).destroyed||L(this,Os).send("eth_uninstallFilter",[r])}))};var Vc;class J_ extends vk{constructor(r,n){super(r);ye(this,Vc,void 0);se(this,Vc,Q_(n))}_recover(r){return new ly(r,L(this,Vc))}async _subscribe(r){return await r.send("eth_newFilter",[L(this,Vc)])}async _emitResults(r,n){for(const a of n)r.emit(L(this,Vc),r._wrapLog(a,r._network))}}Vc=new WeakMap;class K_ extends vk{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const Y_="bigint,boolean,function,number,string,symbol".split(/,/g);function pg(t){if(t==null||Y_.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(pg);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function X_(t){return new Promise(e=>{setTimeout(e,t)})}function Qd(t){return t&&t.toLowerCase()}function L3(t){return t&&typeof t.pollingInterval=="number"}const yk={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Mb extends W_{constructor(r,n){super(r);ve(this,"address");n=Rt(n),st(this,{address:n})}connect(r){Pe(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=pg(r),a=[];if(n.from){const o=n.from;a.push((async()=>{const l=await Us(o,this.provider);he(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=l})())}else n.from=this.address;if(n.gasLimit==null&&a.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const o=n.to;a.push((async()=>{n.to=await Us(o,this.provider)})())}a.length&&await Promise.all(a);const i=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),a=await this.sendUncheckedTransaction(r);return await new Promise((i,o)=>{const l=[1e3,100];let c=0;const u=async()=>{try{const f=await this.provider.getTransaction(a);if(f!=null){i(f.replaceableTransaction(n));return}}catch(f){if(ls(f,"CANCELLED")||ls(f,"BAD_DATA")||ls(f,"NETWORK_ERROR")||ls(f,"UNSUPPORTED_OPERATION")){f.info==null&&(f.info={}),f.info.sendTransactionHash=a,o(f);return}if(ls(f,"INVALID_ARGUMENT")&&(c++,f.info==null&&(f.info={}),f.info.sendTransactionHash=a,c>10)){o(f);return}this.provider.emit("error",ar("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:f}))}this.provider._setTimeout(()=>{u()},l.pop()||4e3)};u()})}async signTransaction(r){const n=pg(r);if(n.from){const i=await Us(n.from,this.provider);he(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=i}else n.from=this.address;const a=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[a])}async signMessage(r){const n=typeof r=="string"?fo(r):r;return await this.provider.send("personal_sign",[He(n),this.address.toLowerCase()])}async signTypedData(r,n,a){const i=pg(a),o=await ax.resolveNames(r,n,i,async l=>{const c=await Us(l);return he(c!=null,"TypedData does not support null address","value",l),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ax.getPayload(o.domain,n,o.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?fo(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),He(n)])}}var Gc,A0,no,fi,La,Wn,Zs,hm,P5;class Z_ extends z_{constructor(r,n){super(r,n);ye(this,hm);ye(this,Gc,void 0);ye(this,A0,void 0);ye(this,no,void 0);ye(this,fi,void 0);ye(this,La,void 0);ye(this,Wn,void 0);ye(this,Zs,void 0);se(this,A0,1),se(this,Gc,Object.assign({},yk,n||{})),se(this,no,[]),se(this,fi,null),se(this,Wn,null),se(this,Zs,null);{let i=null;const o=new Promise(l=>{i=l});se(this,La,{promise:o,resolve:i})}const a=this._getOption("staticNetwork");typeof a=="boolean"?(he(!a||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),a&&r!=null&&se(this,Wn,bi.from(r))):a&&(he(r==null||a.matches(r),"staticNetwork MUST match network object","options",n),se(this,Wn,a))}_getOption(r){return L(this,Gc)[r]}get _network(){return Pe(L(this,Wn),"network is not available yet","NETWORK_ERROR"),L(this,Wn)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let a=r.transaction;if(a&&a.type!=null&&Je(a.type)&&a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},a,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(L(this,Wn))return L(this,Wn)}else return r;return L(this,Zs)?await L(this,Zs):this.ready?(se(this,Zs,(async()=>{try{const n=bi.from(Je(await this.send("eth_chainId",[])));return se(this,Zs,null),n}catch(n){throw se(this,Zs,null),n}})()),await L(this,Zs)):(se(this,Zs,(async()=>{const n={id:Lh(this,A0)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let a;try{a=(await this._send(n))[0],se(this,Zs,null)}catch(i){throw se(this,Zs,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:a}),"result"in a)return bi.from(Je(a.result));throw this.getRpcError(n,a)})()),await L(this,Zs))}_start(){L(this,La)==null||L(this,La).resolve==null||(L(this,La).resolve(),se(this,La,null),(async()=>{for(;L(this,Wn)==null&&!this.destroyed;)try{se(this,Wn,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",ar("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await X_(1e3)}Te(this,hm,P5).call(this)})())}async _waitUntilReady(){if(L(this,La)!=null)return await L(this,La).promise}_getSubscriber(r){return r.type==="pending"?new K_(this):r.type==="event"?this._getOption("polling")?new ly(this,r.filter):new J_(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new bk("orphan"):super._getSubscriber(r)}get ready(){return L(this,La)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(a=>{if(r[a]==null)return;let i=a;a==="gasLimit"&&(i="gas"),n[i]=Ta(Je(r[a],`tx.${a}`))}),["from","to","data"].forEach(a=>{r[a]!=null&&(n[a]=He(r[a]))}),r.accessList&&(n.accessList=hd(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(a=>a.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(a=>{const i=NA(a);return{address:i.address,nonce:Ta(i.nonce),chainId:Ta(i.chainId),yParity:Ta(i.signature.yParity),r:Ta(i.signature.r),s:Ta(i.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Qd(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Qd(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[Qd(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Qd(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(Qd):r.filter.address=Qd(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:a}=r,{error:i}=n;if(a==="eth_estimateGas"&&i.message){const c=i.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return ar("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:i}});if(c.match(/nonce/i)&&c.match(/too low/i))return ar("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:i}})}if(a==="eth_call"||a==="eth_estimateGas"){const c=L5(i),u=zf.getBuiltinCallException(a==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return u.info={error:i,payload:r},u}const o=JSON.stringify(tB(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return ar("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[a]||"unknown",reason:"rejected",info:{payload:r,error:i}});if(a==="eth_sendRawTransaction"||a==="eth_sendTransaction"){const c=r.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return ar("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return ar("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return ar("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:i}});if(o.match(/only replay-protected/i))return ar("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:a,info:{transaction:c,info:{error:i}}})}let l=!!o.match(/the method .* does not exist/i);return l||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(l=!0),l?ar("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:i,payload:r}}):ar("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(ar("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const a=Lh(this,A0)._++,i=new Promise((o,l)=>{L(this,no).push({resolve:o,reject:l,payload:{method:r,params:n,id:a,jsonrpc:"2.0"}})});return Te(this,hm,P5).call(this),i}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const i=await n;if(r>=i.length)throw new Error("no such account");return new Mb(this,i[r])}const{accounts:a}=await Rs({network:this.getNetwork(),accounts:n});r=Rt(r);for(const i of a)if(Rt(i)===r)return new Mb(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new Mb(this,n))}destroy(){L(this,fi)&&(clearTimeout(L(this,fi)),se(this,fi,null));for(const{payload:r,reject:n}of L(this,no))n(ar("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));se(this,no,[]),super.destroy()}}Gc=new WeakMap,A0=new WeakMap,no=new WeakMap,fi=new WeakMap,La=new WeakMap,Wn=new WeakMap,Zs=new WeakMap,hm=new WeakSet,P5=function(){if(L(this,fi))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");se(this,fi,setTimeout(()=>{se(this,fi,null);const n=L(this,no);for(se(this,no,[]);n.length;){const a=[n.shift()];for(;n.length&&a.length!==L(this,Gc).batchMaxCount;)if(a.push(n.shift()),JSON.stringify(a.map(o=>o.payload)).length>L(this,Gc).batchMaxSize){n.unshift(a.pop());break}(async()=>{const i=a.length===1?a[0].payload:a.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:l,reject:c,payload:u}of a){if(this.destroyed){c(ar("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const f=o.filter(m=>m.id===u.id)[0];if(f==null){const m=ar("missing response for request","BAD_DATA",{value:o,info:{payload:u}});this.emit("error",m),c(m);continue}if("error"in f){c(this.getRpcError(u,f));continue}l(f.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:l}of a)l(o)}})()}},r))};var gl;class eB extends Z_{constructor(r,n){super(r,n);ye(this,gl,void 0);let a=this._getOption("pollingInterval");a==null&&(a=yk.pollingInterval),se(this,gl,a)}_getSubscriber(r){const n=super._getSubscriber(r);return L3(n)&&(n.pollingInterval=L(this,gl)),n}get pollingInterval(){return L(this,gl)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");se(this,gl,r),this._forEachSubscriber(n=>{L3(n)&&(n.pollingInterval=L(this,gl))})}}gl=new WeakMap;function L5(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&er(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=L5(t[e]);if(r)return r}return null}if(typeof t=="string")try{return L5(JSON.parse(t))}catch{}return null}function E5(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)E5(t[r],e);if(typeof t=="string")try{return E5(JSON.parse(t),e)}catch{}}}function tB(t){const e=[];return E5(t,e),e}var k0,S0;const gc=class gc extends eB{constructor(r,n,a){const i=Object.assign({},a??{},{batchMaxCount:1});he(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,i);ye(this,k0,void 0);ye(this,S0,void 0);se(this,S0,null),a&&a.providerInfo&&se(this,S0,a.providerInfo),se(this,k0,async(o,l)=>{const c={method:o,params:l};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const f=new Error(u.message);throw f.code=u.code,f.data=u.data,f.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:f}),f}})}get providerInfo(){return L(this,S0)}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){he(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await L(this,k0).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(a=>a.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await L(this,k0).call(this,"eth_requestAccounts",[])}catch(n){const a=n.payload;throw this.getRpcError(a,{id:a.id,error:n})}return await super.getSigner(r)}static async discover(r){if(r==null&&(r={}),r.provider)return new gc(r.provider);const n=r.window?r.window:typeof window<"u"?window:null;if(n==null)return null;const a=r.anyProvider;if(a&&n.ethereum)return new gc(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const i=r.timeout?r.timeout:300;return i===0?null:await new Promise((o,l)=>{let c=[];const u=x=>{c.push(x.detail),a&&f()},f=()=>{if(clearTimeout(m),c.length)if(r&&r.filter){const x=r.filter(c.map(p=>Object.assign({},p.info)));if(x==null)o(null);else if(x instanceof gc)o(x);else{let p=null;if(x.uuid&&(p=c.filter(w=>x.uuid===w.info.uuid)[0]),p){const{provider:k,info:w}=p;o(new gc(k,void 0,{providerInfo:w}))}else l(ar("filter returned unknown info","UNSUPPORTED_OPERATION",{value:x}))}}else{const{provider:x,info:p}=c[0];o(new gc(x,void 0,{providerInfo:p}))}else o(null);n.removeEventListener("eip6963:announceProvider",u)},m=setTimeout(()=>{f()},i);n.addEventListener("eip6963:announceProvider",u),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};k0=new WeakMap,S0=new WeakMap;let Ko=gc;class rB{constructor(){this.provider=null,this.signer=null,this.contract=null,this.account=null,this.isConnected=!1,this.chainId=null,this.SEPOLIA_CHAIN_ID="0xaa36a7",this.SEPOLIA_RPC_URL="https://sepolia.infura.io/v3/",this.init()}async init(){if(typeof window<"u"&&window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0&&await this.connectWallet(),window.ethereum.on("accountsChanged",this.handleAccountsChanged.bind(this)),window.ethereum.on("chainChanged",this.handleChainChanged.bind(this))}catch(e){console.error("Failed to initialize wallet service:",e)}}async connectWallet(){try{if(!window.ethereum)throw new Error("MetaMask is not installed. Please install MetaMask to continue.");const e=await window.ethereum.request({method:"eth_requestAccounts"});if(e.length===0)throw new Error("No accounts found. Please make sure MetaMask is unlocked.");this.provider=new Ko(window.ethereum),this.signer=await this.provider.getSigner(),this.account=e[0],this.isConnected=!0;const r=await this.provider.getNetwork();return this.chainId="0x"+r.chainId.toString(16),this.chainId!==this.SEPOLIA_CHAIN_ID&&await this.switchToSepolia(),await this.loadContract(),{success:!0,account:this.account,chainId:this.chainId}}catch(e){throw console.error("Failed to connect wallet:",e),e}}async switchToSepolia(){try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:this.SEPOLIA_CHAIN_ID}]})}catch(e){if(e.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:this.SEPOLIA_CHAIN_ID,chainName:"Sepolia Testnet",nativeCurrency:{name:"SepoliaETH",symbol:"SEP",decimals:18},rpcUrls:["https://sepolia.infura.io/v3/"],blockExplorerUrls:["https://sepolia.etherscan.io/"]}]})}catch{throw new Error("Failed to add Sepolia network to MetaMask")}else throw new Error("Failed to switch to Sepolia network")}}async loadContract(){try{const e={}.VITE_API_BASE_URL||"https://ayurherb-backend.onrender.com",r=await fetch(`${e}/api/blockchain/contract-info`);if(!r.ok)throw new Error("Contract not deployed. Please deploy the contract first.");const n=await r.json();return this.signer&&(this.contract=new _u(n.address,n.abi,this.signer)),n}catch(e){throw console.error("Failed to load contract:",e),e}}async submitCollection(e){try{if(!this.isConnected)throw new Error("Wallet not connected");if(!this.contract)throw new Error("Contract not loaded");const n=await this.contract.submitCollection.estimateGas(e.herbName,e.quantity,e.batchId,e.location,e.notes||"")*120n/100n,a=await this.contract.submitCollection(e.herbName,e.quantity,e.batchId,e.location,e.notes||"",{gasLimit:n}),i=await a.wait();let o=null;for(const l of i.logs)try{const c=this.contract.interface.parseLog(l);if(c.name==="CollectionSubmitted"){o=c.args.collectionId.toString();break}}catch{}return{success:!0,transactionHash:a.hash,collectionId:o,blockNumber:i.blockNumber,gasUsed:i.gasUsed.toString(),explorerUrl:`https://sepolia.etherscan.io/tx/${a.hash}`}}catch(r){throw console.error("Failed to submit collection:",r),r.code==="ACTION_REJECTED"?new Error("Transaction was rejected by user"):r.code==="INSUFFICIENT_FUNDS"?new Error("Insufficient funds for transaction"):r.message.includes("gas")?new Error("Transaction failed due to gas issues"):r}}async getCollectorCollections(e=null){try{const r=e||this.account;if(!r)throw new Error("No collector address provided");const n={}.VITE_API_BASE_URL||"https://ayurherb-backend.onrender.com",a=await fetch(`${n}/api/collections/collector/${r}`);if(!a.ok)throw new Error("Failed to fetch collections");return(await a.json()).data}catch(r){throw console.error("Failed to get collector collections:",r),r}}async getCollection(e){try{const r={}.VITE_API_BASE_URL||"https://ayurherb-backend.onrender.com",n=await fetch(`${r}/api/collections/${e}`);if(!n.ok)throw new Error("Failed to fetch collection");return(await n.json()).data}catch(r){throw console.error("Failed to get collection:",r),r}}disconnectWallet(){this.provider=null,this.signer=null,this.contract=null,this.account=null,this.isConnected=!1,this.chainId=null}handleAccountsChanged(e){e.length===0?this.disconnectWallet():(this.account=e[0],this.loadContract())}async handleChainChanged(e){this.chainId=e,console.log("Network changed to:",e);try{this.isConnected&&window.ethereum&&(this.provider=new Ko(window.ethereum),this.signer=await this.provider.getSigner(),this.account&&await this.loadContract(),console.log("✅ Successfully handled network change without page reload"))}catch(r){console.error("Failed to handle chain change:",r)}}getAccount(){return this.account}getIsConnected(){return this.isConnected}getChainId(){return this.chainId}isOnSepolia(){return this.chainId===this.SEPOLIA_CHAIN_ID}formatAddress(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:""}async getBalance(){try{if(!this.provider||!this.account)return"0";const e=await this.provider.getBalance(this.account);return CN(e)}catch(e){return console.error("Failed to get balance:",e),"0"}}async submitToBlockchain(e){try{if(console.log("🔄 Starting submitToBlockchain..."),!window.ethereum)throw new Error("MetaMask is not installed. Please install MetaMask to continue.");if(console.log("✅ MetaMask detected"),console.log("Current connection status:",this.isConnected),console.log("Current signer status:",!!this.signer),!this.isConnected||!this.signer||!this.account){console.log("🔄 Forcing wallet connection...");try{await this.connectWallet(),console.log("✅ Wallet connected successfully")}catch(a){throw console.error("❌ Failed to connect wallet:",a),new Error("Failed to connect wallet: "+a.message)}}this.provider||(console.log("🔄 Initializing provider..."),this.provider=new Ko(window.ethereum)),this.signer||(console.log("🔄 Initializing signer..."),this.signer=await this.provider.getSigner(),this.account=await this.signer.getAddress(),this.isConnected=!0),console.log("✅ Provider and signer ready"),console.log("Account:",this.account),this.isOnSepolia()||(console.log("🔄 Switching to Sepolia..."),await this.switchToSepolia(),this.provider=new Ko(window.ethereum),this.signer=await this.provider.getSigner(),console.log("✅ Switched to Sepolia")),console.log("🔄 Preparing MetaMask transaction...");const r=await this.signer.sendTransaction({to:"0x000000000000000000000000000000000000dEaD",value:Mh("0.000001"),gasLimit:21e3});console.log("✅ Transaction sent successfully:",r.hash),console.log("📝 Processing step will be recorded with transaction:",r.hash);const n=await r.wait();return{success:!0,transactionHash:r.hash,blockNumber:n.blockNumber,gasUsed:n.gasUsed.toString(),contractAddress:"Burn Address (0x...dEaD)",network:"Sepolia Testnet",explorerUrl:`https://sepolia.etherscan.io/tx/${r.hash}`,processingData:{batchId:e.batchId,stepType:e.stepType,temperature:e.temperature,duration:e.duration,notes:e.notes,timestamp:e.timestamp}}}catch(r){throw console.error("❌ Failed to submit processing step to blockchain:",r),console.error("Error details:",{code:r.code,message:r.message,stack:r.stack}),r.code==="ACTION_REJECTED"||r.code===4001?new Error("Transaction was rejected by user"):r.code==="INSUFFICIENT_FUNDS"?new Error("Insufficient funds for transaction"):r.message.includes("gas")?new Error("Transaction failed due to gas issues"):r.message.includes("network")?new Error("Please switch to Sepolia testnet in MetaMask"):r.message.includes("signer")?new Error("Wallet connection issue. Please reconnect your wallet."):new Error(`Blockchain transaction failed: ${r.message}`)}}async submitLabTest(e){try{if(console.log("🔄 Starting submitLabTest to blockchain..."),!window.ethereum)throw new Error("MetaMask is not installed. Please install MetaMask to continue.");if(console.log("✅ MetaMask detected"),console.log("Lab test data:",e),!this.isConnected||!this.signer||!this.account){console.log("🔄 Forcing wallet connection...");try{await this.connectWallet(),console.log("✅ Wallet connected successfully")}catch(m){throw console.error("❌ Failed to connect wallet:",m),new Error("Failed to connect wallet: "+m.message)}}this.provider||(console.log("🔄 Initializing provider..."),this.provider=new Ko(window.ethereum)),this.signer||(console.log("🔄 Initializing signer..."),this.signer=await this.provider.getSigner(),this.account=await this.signer.getAddress(),this.isConnected=!0),console.log("✅ Provider and signer ready"),console.log("Account:",this.account);const r=await this.provider.getBalance(this.account),n=CN(r);if(console.log("Account balance:",n,"ETH"),r<Mh("0.001"))throw new Error("Insufficient funds. You need at least 0.001 ETH for transaction fees. Please add some Sepolia ETH to your wallet.");this.isOnSepolia()||(console.log("🔄 Switching to Sepolia..."),await this.switchToSepolia(),this.provider=new Ko(window.ethereum),this.signer=await this.provider.getSigner(),console.log("✅ Switched to Sepolia"));const a=JSON.stringify({type:"LAB_TEST",batchId:e.batchId,testType:e.testType,resultValue:e.resultValue,unit:e.unit,status:e.status,tester:e.tester,notes:e.notes?e.notes.substring(0,200):"",certificateHash:e.certificateHash,timestamp:new Date().toISOString(),labAddress:this.account});console.log("🔄 Preparing MetaMask transaction with lab test data..."),console.log("Lab test JSON size:",a.length,"characters");const o=new TextEncoder().encode(a),l="0x"+Array.from(o,m=>m.toString(16).padStart(2,"0")).join("");console.log("Transaction data size:",l.length,"hex characters");let c;try{const m=await this.provider.estimateGas({to:this.account,value:Mh("0"),data:l});c=m*150n/100n,console.log("Gas estimate:",m.toString(),"Gas limit with buffer:",c.toString())}catch(m){console.warn("Gas estimation failed, using default:",m),c=200000n}let u;try{u=await this.signer.sendTransaction({to:this.account,value:Mh("0"),data:l,gasLimit:c})}catch(m){console.warn("Data transaction failed, trying simple transaction:",m),u=await this.signer.sendTransaction({to:this.account,value:Mh("0.000001"),gasLimit:21e3})}console.log("✅ Lab test transaction sent successfully:",u.hash),console.log("📝 Lab test data embedded in transaction input");const f=await u.wait();return{success:!0,transactionHash:u.hash,blockNumber:f.blockNumber,gasUsed:f.gasUsed.toString(),contractAddress:"Self Transaction (Data Storage)",network:"Sepolia Testnet",explorerUrl:`https://sepolia.etherscan.io/tx/${u.hash}`,labTestData:{batchId:e.batchId,testType:e.testType,resultValue:e.resultValue,status:e.status,tester:e.tester,notes:e.notes,timestamp:new Date().toISOString()}}}catch(r){throw console.error("❌ Failed to submit lab test to blockchain:",r),console.error("Error details:",{code:r.code,message:r.message,stack:r.stack}),r.code==="ACTION_REJECTED"||r.code===4001?new Error("Transaction was rejected by user"):r.code==="INSUFFICIENT_FUNDS"?new Error("Insufficient funds for transaction"):r.message.includes("gas")?new Error("Transaction failed due to gas issues"):r.message.includes("network")?new Error("Please switch to Sepolia testnet in MetaMask"):r.message.includes("signer")?new Error("Wallet connection issue. Please reconnect your wallet."):new Error(`Lab test blockchain transaction failed: ${r.message}`)}}}const Ns=new rB,wk=ie.createContext(),km=()=>{const t=ie.useContext(wk);if(!t)throw new Error("useWallet must be used within a WalletProvider");return t},sB=({children:t})=>{const[e,r]=ie.useState(null),[n,a]=ie.useState(!1),[i,o]=ie.useState(!1),[l,c]=ie.useState(null),[u,f]=ie.useState("0"),[m,x]=ie.useState(null);ie.useEffect(()=>{if((async()=>{try{if(Ns.getIsConnected()){r(Ns.getAccount()),a(!0),c(Ns.getChainId());const J=await Ns.getBalance();f(J)}}catch(J){console.error("Failed to initialize wallet:",J)}})(),window.ethereum){const J=S=>{S.length===0?k():(r(S[0]),w())},P=S=>{c(S)};return window.ethereum.on("accountsChanged",J),window.ethereum.on("chainChanged",P),()=>{window.ethereum.removeListener("accountsChanged",J),window.ethereum.removeListener("chainChanged",P)}}},[]);const p=async()=>{o(!0),x(null);try{const $=await Ns.connectWallet();if($.success){r($.account),a(!0),c($.chainId);const J=await Ns.getBalance();return f(J),$}}catch($){throw x($.message),$}finally{o(!1)}},k=()=>{Ns.disconnectWallet(),r(null),a(!1),c(null),f("0"),x(null)},w=async()=>{try{const $=await Ns.getBalance();f($)}catch($){console.error("Failed to update balance:",$)}},_={account:e,isConnected:n,isConnecting:i,chainId:l,balance:u,error:m,connectWallet:p,disconnectWallet:k,submitCollection:async $=>{try{x(null);const J=await Ns.submitCollection($);return setTimeout(w,2e3),J}catch(J){throw x(J.message),J}},submitToBlockchain:async $=>{try{x(null);const J=await Ns.submitToBlockchain($);return setTimeout(w,2e3),J}catch(J){throw x(J.message),J}},getCollectorCollections:async($=null)=>{try{return await Ns.getCollectorCollections($)}catch(J){throw x(J.message),J}},getCollection:async $=>{try{return await Ns.getCollection($)}catch(J){throw x(J.message),J}},switchToSepolia:async()=>{try{await Ns.switchToSepolia()}catch($){throw x($.message),$}},updateBalance:w,clearError:()=>{x(null)},formatAddress:$=>Ns.formatAddress($),isOnSepolia:()=>Ns.isOnSepolia()};return s.jsx(wk.Provider,{value:_,children:t})},Xx=({showToast:t})=>{const{account:e,isConnected:r,isConnecting:n,balance:a,error:i,connectWallet:o,disconnectWallet:l,formatAddress:c,isOnSepolia:u,switchToSepolia:f,clearError:m}=km(),[x,p]=ie.useState(!1),[k,w]=ie.useState(!1),N=async()=>{try{await o(),t==null||t("Wallet connected successfully!","success")}catch(U){t==null||t(`Failed to connect wallet: ${U.message}`,"error")}},y=()=>{l(),p(!1),t==null||t("Wallet disconnected","info")},b=async()=>{try{await f(),t==null||t("Switched to Sepolia testnet","success")}catch(U){t==null||t(`Failed to switch network: ${U.message}`,"error")}},A=async()=>{if(e){w(!0);try{await navigator.clipboard.writeText(e),t==null||t("Address copied to clipboard","success")}catch{t==null||t("Failed to copy address","error")}setTimeout(()=>w(!1),1e3)}},E=()=>{e&&window.open(`https://sepolia.etherscan.io/address/${e}`,"_blank")};return r?s.jsxs("div",{className:"relative z-50",children:[!u()&&s.jsx("div",{className:"absolute -top-16 left-0 right-0 mb-2 p-3 bg-yellow-500/20 border border-yellow-500/30 rounded-xl text-yellow-300 text-sm backdrop-blur-sm z-50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pu,{className:"w-4 h-4"}),"Wrong network",s.jsx("button",{onClick:b,className:"ml-auto text-yellow-200 hover:text-white transition-colors underline font-medium",children:"Switch to Sepolia"})]})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>p(!x),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-emerald-600/20 to-teal-600/20 border-2 border-emerald-500/30 hover:border-emerald-500/50 rounded-xl text-white font-semibold transition-all duration-300 hover:scale-105 backdrop-blur-sm group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center",children:s.jsx(ea,{className:"w-4 h-4 text-white"})}),u()&&s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-gray-900",children:s.jsx(rt,{className:"w-2 h-2 text-white"})})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm font-semibold",children:c(e)}),s.jsxs("div",{className:"text-xs text-gray-400",children:[parseFloat(a).toFixed(4)," SEP"]})]})]}),s.jsx(IP,{className:`w-4 h-4 transition-transform duration-300 ${x?"rotate-180":""}`})]}),x&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>p(!1)}),s.jsxs("div",{className:"absolute top-full right-0 mt-3 w-80 bg-gradient-to-br from-gray-900/98 to-gray-800/98 backdrop-blur-xl border-2 border-white/20 rounded-2xl shadow-2xl z-50 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center",children:s.jsx(ea,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-bold",children:"Wallet Connected"}),s.jsx("div",{className:"text-gray-400 text-sm",children:u()?"Sepolia Testnet":"Wrong Network"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Address"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"text-white text-sm font-mono bg-white/10 px-2 py-1 rounded",children:c(e)}),s.jsx("button",{onClick:A,className:"p-1 hover:bg-white/10 rounded transition-colors",title:"Copy address",children:k?s.jsx(rt,{className:"w-4 h-4 text-green-400"}):s.jsx(B0,{className:"w-4 h-4 text-gray-400 hover:text-white"})}),s.jsx("button",{onClick:E,className:"p-1 hover:bg-white/10 rounded transition-colors",title:"View on Etherscan",children:s.jsx(y6,{className:"w-4 h-4 text-gray-400 hover:text-white"})})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Balance"}),s.jsxs("div",{className:"text-white font-bold",children:[parseFloat(a).toFixed(6)," SEP"]})]})]})]}),s.jsxs("div",{className:"p-4 space-y-2",children:[!u()&&s.jsxs("button",{onClick:b,className:"w-full px-4 py-3 bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-500/30 rounded-xl text-yellow-300 font-medium transition-all duration-300 flex items-center gap-2",children:[s.jsx(Pu,{className:"w-4 h-4"}),"Switch to Sepolia"]}),s.jsx("button",{onClick:y,className:"w-full px-4 py-3 bg-red-600/20 hover:bg-red-600/30 border border-red-500/30 rounded-xl text-red-300 font-medium transition-all duration-300",children:"Disconnect Wallet"})]})]})]})]})]}):s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:N,disabled:n,className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 rounded-xl text-white font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 shadow-lg hover:shadow-emerald-500/30",children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Connecting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ea,{className:"w-5 h-5"}),"Connect Wallet"]})}),i&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-red-500/20 border border-red-500/30 rounded-xl text-red-300 text-sm backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pu,{className:"w-4 h-4"}),i]}),s.jsx("button",{onClick:m,className:"mt-2 text-xs text-red-200 hover:text-white transition-colors",children:"Dismiss"})]})]})},nB=({user:t,showToast:e})=>{var U;const{account:r,isConnected:n,submitCollection:a,isOnSepolia:i}=km(),{addCollection:o}=K0(),[l,c]=ie.useState({herbName:"",quantity:"",batchId:"",collectorId:"",location:"",notes:""}),[u,f]=ie.useState(!1),[m,x]=ie.useState(null),[p,k]=ie.useState(!1),[w,N]=ie.useState(null);mm.useEffect(()=>{(async()=>{if(!navigator.geolocation){N("Geolocation is not supported by this browser");return}k(!0),N(null);try{const M=await new Promise((J,P)=>{navigator.geolocation.getCurrentPosition(J,P,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),{latitude:_,longitude:$}=M.coords;try{const J=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${_}&lon=${$}&zoom=10&addressdetails=1`,{headers:{"User-Agent":"AyurHerb-App"}});if(J.ok){const P=await J.json();if(P&&P.display_name){const S=P.address;let W="";if(S){const R=[];(S.city||S.town||S.village)&&R.push(S.city||S.town||S.village),S.state&&R.push(S.state),S.country&&R.push(S.country),W=R.join(", ")||P.display_name}else W=P.display_name;c(R=>({...R,location:W})),e("Location detected automatically","success")}else c(S=>({...S,location:`${_.toFixed(6)}, ${$.toFixed(6)}`})),e("Location coordinates detected","info")}else c(P=>({...P,location:`${_.toFixed(6)}, ${$.toFixed(6)}`})),e("Location coordinates detected","info")}catch{c(P=>({...P,location:`${_.toFixed(6)}, ${$.toFixed(6)}`})),e("Location coordinates detected","info")}}catch(M){let _="Failed to get location";switch(M.code){case M.PERMISSION_DENIED:_="Location access denied by user";break;case M.POSITION_UNAVAILABLE:_="Location information unavailable";break;case M.TIMEOUT:_="Location request timed out";break;default:_="An unknown error occurred while getting location";break}N(_),e(_,"error")}finally{k(!1)}})()},[e]);const y=V=>{const{name:M,value:_}=V.target;c($=>({...$,[M]:_}))},b=()=>{const V=[];return l.herbName.trim()||V.push("Herb Name is required"),l.quantity.trim()||V.push("Quantity is required"),l.batchId.trim()||V.push("Batch ID is required"),l.collectorId.trim()||V.push("Collector ID is required"),l.location.trim()||V.push("Location is required"),V},A=async V=>{if(V.preventDefault(),!n){e("Please connect your wallet first","error");return}if(!i()){e("Please switch to Sepolia testnet","error");return}const M=b();if(M.length>0){e(`Please fill in all required fields: ${M.join(", ")}`,"error");return}f(!0),x(null);try{e("Submitting to blockchain...","info");const _=await a(l);x(_);const $=o({...l,transactionHash:_.transactionHash,blockchainId:_.collectionId,collectorAddress:r,status:"Verified on Blockchain"});e("Collection submitted to blockchain successfully!","success"),c({herbName:"",quantity:"",batchId:"",collectorId:"",location:"",notes:""})}catch(_){console.error("Submission error:",_),e(`Failed to submit collection: ${_.message}`,"error")}finally{f(!1)}},E=()=>{c({herbName:"",quantity:"",batchId:"",collectorId:"",location:"",notes:""}),e("Form cleared","info")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 text-white p-6 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-emerald-500/5 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute top-40 right-20 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute bottom-20 left-1/3 w-80 h-80 bg-purple-500/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"4s"}}),s.jsxs("div",{className:"relative mb-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-12",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-400/30 to-teal-500/30 rounded-2xl blur-lg animate-pulse"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Zr,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent mb-2",children:"Collection Reports"}),s.jsx("p",{className:"text-xl text-gray-400 font-light",children:"Submit new herb collection data"})]})]}),s.jsx("div",{className:"flex items-start gap-4 relative z-50",children:s.jsx(Xx,{showToast:e})})]}),s.jsxs("div",{className:"relative mb-16",children:[s.jsx("div",{className:"flex justify-center mb-12",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-full blur-xl animate-pulse"}),s.jsxs("div",{className:"relative inline-flex items-center gap-6 px-12 py-6 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 border-2 border-emerald-500/40 rounded-full backdrop-blur-sm",children:[s.jsx("div",{className:"w-4 h-4 bg-emerald-400 rounded-full animate-ping"}),s.jsx("span",{className:"text-emerald-300 font-bold text-2xl",children:"Blockchain Verified"}),s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-400 to-emerald-500 rounded-full flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white text-lg font-bold",children:"✓"})})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-20",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-2xl animate-pulse"}),s.jsx("h3",{className:"relative text-5xl font-black bg-gradient-to-r from-white via-emerald-200 via-blue-200 to-purple-200 bg-clip-text text-transparent",children:"How it works"})]}),s.jsx("p",{className:"text-2xl text-gray-300 font-light max-w-3xl mx-auto leading-relaxed",children:"Simple and secure steps to submit your herb collection data to the blockchain"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"hidden lg:block absolute top-24 left-1/2 transform -translate-x-1/2 w-full max-w-4xl",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-full"}),s.jsx("div",{className:"absolute top-0 left-0 h-2 bg-gradient-to-r from-emerald-500 via-blue-500 to-purple-500 rounded-full animate-pulse shadow-lg"}),s.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 w-4 h-4 bg-emerald-500 rounded-full shadow-lg animate-pulse"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-blue-500 rounded-full shadow-lg animate-pulse",style:{animationDelay:"0.5s"}}),s.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 w-4 h-4 bg-purple-500 rounded-full shadow-lg animate-pulse",style:{animationDelay:"1s"}})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-16 relative",children:[s.jsx("div",{className:"group relative",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative mb-10",children:[s.jsx("div",{className:"absolute -inset-6 bg-gradient-to-r from-emerald-400/30 to-emerald-600/30 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700 animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500 via-emerald-600 to-teal-600 rounded-full flex items-center justify-center mx-auto shadow-2xl group-hover:shadow-emerald-500/50 transition-all duration-500 group-hover:scale-125 group-hover:rotate-12 border-4 border-emerald-400/30",children:s.jsx("span",{className:"text-white text-3xl font-black",children:"1"})}),s.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-16 h-1.5 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-500 shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-emerald-400 rounded-full opacity-0 group-hover:opacity-100 animate-bounce transition-all duration-500",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"absolute bottom-2 left-2 w-1.5 h-1.5 bg-teal-400 rounded-full opacity-0 group-hover:opacity-100 animate-bounce transition-all duration-500",style:{animationDelay:"0.3s"}})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-3xl font-bold text-white mb-6 group-hover:text-emerald-300 transition-all duration-300 group-hover:scale-105",children:"Fill Details"}),s.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-emerald-500 to-teal-500 mx-auto mb-6 group-hover:w-24 transition-all duration-300"}),s.jsx("p",{className:"text-xl text-gray-300 leading-relaxed group-hover:text-white transition-colors duration-300 max-w-sm mx-auto font-medium",children:"Complete the collection form with detailed herb information and specifications"})]})]})}),s.jsx("div",{className:"group relative",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative mb-10",children:[s.jsx("div",{className:"absolute -inset-6 bg-gradient-to-r from-blue-400/30 to-blue-600/30 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700 animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-full flex items-center justify-center mx-auto shadow-2xl group-hover:shadow-blue-500/50 transition-all duration-500 group-hover:scale-125 group-hover:rotate-12 border-4 border-blue-400/30",children:s.jsx("span",{className:"text-white text-3xl font-black",children:"2"})}),s.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-16 h-1.5 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-500 shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-blue-400 rounded-full opacity-0 group-hover:opacity-100 animate-bounce transition-all duration-500",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"absolute bottom-2 left-2 w-1.5 h-1.5 bg-indigo-400 rounded-full opacity-0 group-hover:opacity-100 animate-bounce transition-all duration-500",style:{animationDelay:"0.3s"}})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-3xl font-bold text-white mb-6 group-hover:text-blue-300 transition-all duration-300 group-hover:scale-105",children:"Auto Location"}),s.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-indigo-500 mx-auto mb-6 group-hover:w-24 transition-all duration-300"}),s.jsx("p",{className:"text-xl text-gray-300 leading-relaxed group-hover:text-white transition-colors duration-300 max-w-sm mx-auto font-medium",children:"Your precise location is automatically detected and verified for authenticity"})]})]})}),s.jsx("div",{className:"group relative",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative mb-10",children:[s.jsx("div",{className:"absolute -inset-6 bg-gradient-to-r from-purple-400/30 to-purple-600/30 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-all duration-700 animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-purple-500 via-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto shadow-2xl group-hover:shadow-purple-500/50 transition-all duration-500 group-hover:scale-125 group-hover:rotate-12 border-4 border-purple-400/30",children:s.jsx("span",{className:"text-white text-3xl font-black",children:"3"})}),s.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 w-16 h-1.5 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-500 shadow-lg"}),s.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-purple-400 rounded-full opacity-0 group-hover:opacity-100 animate-bounce transition-all duration-500",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"absolute bottom-2 left-2 w-1.5 h-1.5 bg-pink-400 rounded-full opacity-0 group-hover:opacity-100 animate-bounce transition-all duration-500",style:{animationDelay:"0.3s"}})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-3xl font-bold text-white mb-6 group-hover:text-purple-300 transition-all duration-300 group-hover:scale-105",children:"Blockchain Record"}),s.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-purple-500 to-pink-500 mx-auto mb-6 group-hover:w-24 transition-all duration-300"}),s.jsx("p",{className:"text-xl text-gray-300 leading-relaxed group-hover:text-white transition-colors duration-300 max-w-sm mx-auto font-medium",children:"Data is securely recorded on the blockchain for permanent transparency and trust"})]})]})})]})]})]})]})]}),s.jsxs("div",{className:"relative max-w-3xl mx-auto",children:[s.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-emerald-500/10 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl animate-pulse",style:{animationDelay:"1s"}}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-500/30 via-blue-500/30 to-purple-500/30 rounded-3xl blur-2xl animate-pulse"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/15 via-white/10 to-white/5 backdrop-blur-2xl border-2 border-white/30 rounded-3xl p-10 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-10",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(Ra,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-black bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:"New Collection Report"}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Fill in the details to submit your herb collection"})]})]}),s.jsx("button",{onClick:E,className:"p-3 hover:bg-white/10 rounded-xl transition-all duration-300 hover:scale-110 group",children:s.jsx(J0,{className:"w-6 h-6 text-gray-400 group-hover:text-white transition-colors duration-300"})})]}),s.jsxs("form",{onSubmit:A,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-semibold text-white mb-3",children:["Herb Name ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("input",{type:"text",name:"herbName",value:l.herbName,onChange:y,placeholder:"Enter herb name (e.g., Allovera, Brahmi, Ashwagandha)",required:!0,className:`w-full px-6 py-4 bg-white/10 border-2 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all duration-300 hover:border-white/30 backdrop-blur-sm ${l.herbName.trim()?"border-white/20":"border-red-500/50"}`})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-semibold text-white mb-3",children:["Quantity ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("input",{type:"text",name:"quantity",value:l.quantity,onChange:y,placeholder:"e.g., 25kg",required:!0,className:`w-full px-6 py-4 bg-white/10 border-2 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all duration-300 hover:border-white/30 backdrop-blur-sm ${l.quantity.trim()?"border-white/20":"border-red-500/50"}`})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-semibold text-white mb-3",children:["Batch ID ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("input",{type:"text",name:"batchId",value:l.batchId,onChange:y,placeholder:"e.g., BAT-2024-001",required:!0,className:`w-full px-6 py-4 bg-white/10 border-2 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all duration-300 hover:border-white/30 backdrop-blur-sm ${l.batchId.trim()?"border-white/20":"border-red-500/50"}`})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-semibold text-white mb-3",children:["Collector ID ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("input",{type:"text",name:"collectorId",value:l.collectorId,onChange:y,placeholder:"1",required:!0,className:`w-full px-6 py-4 bg-white/10 border-2 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all duration-300 hover:border-white/30 backdrop-blur-sm ${l.collectorId.trim()?"border-white/20":"border-red-500/50"}`})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-base font-semibold text-white mb-3",children:["Location ",s.jsx("span",{className:"text-red-400",children:"*"}),p&&s.jsx("span",{className:"ml-2 text-sm text-emerald-400",children:"(Detecting automatically...)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",name:"location",value:l.location,onChange:y,placeholder:p?"Detecting location...":"e.g., Kerala, India",required:!0,disabled:p,className:`w-full px-6 py-4 bg-white/10 border-2 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all duration-300 hover:border-white/30 backdrop-blur-sm ${p?"opacity-50 cursor-not-allowed":""} ${l.location.trim()?"border-white/20":"border-red-500/50"}`}),p&&s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"w-5 h-5 border-2 border-emerald-400/30 border-t-emerald-400 rounded-full animate-spin"})})]}),w&&s.jsx("div",{className:"mt-2 text-sm text-red-400",children:w})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-semibold text-white mb-3",children:"Notes (Optional)"}),s.jsx("textarea",{name:"notes",value:l.notes,onChange:y,placeholder:"Additional notes about the collection...",rows:4,className:"w-full px-6 py-4 bg-white/10 border-2 border-white/20 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all duration-300 hover:border-white/30 backdrop-blur-sm resize-none"})]}),!n&&s.jsx("div",{className:"mb-6 p-4 bg-yellow-500/20 border-2 border-yellow-500/30 rounded-2xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ea,{className:"w-5 h-5 text-yellow-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-yellow-300 font-semibold",children:"Wallet Required"}),s.jsx("div",{className:"text-yellow-400 text-sm",children:"Connect your wallet to submit collections to the blockchain"})]})]})}),n&&!i()&&s.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border-2 border-red-500/30 rounded-2xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ea,{className:"w-5 h-5 text-red-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-red-300 font-semibold",children:"Wrong Network"}),s.jsx("div",{className:"text-red-400 text-sm",children:"Please switch to Sepolia testnet to submit collections"})]})]})}),m&&s.jsx("div",{className:"mb-6 p-4 bg-green-500/20 border-2 border-green-500/30 rounded-2xl",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(Ra,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-green-300 font-semibold",children:"Collection Submitted Successfully!"}),s.jsx("div",{className:"text-green-400 text-sm",children:"Your collection has been recorded on the blockchain"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Collection ID:"}),s.jsx("div",{className:"text-white font-mono",children:m.collectionId})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-400",children:"Transaction:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("code",{className:"text-white font-mono text-xs",children:[(U=m.transactionHash)==null?void 0:U.slice(0,10),"..."]}),s.jsx("button",{onClick:()=>window.open(m.explorerUrl,"_blank"),className:"p-1 hover:bg-white/10 rounded transition-colors",children:s.jsx(y6,{className:"w-3 h-3 text-gray-400 hover:text-white"})})]})]})]})]})}),s.jsxs("div",{className:"flex gap-6 pt-8",children:[s.jsx("button",{type:"button",onClick:E,className:"flex-1 px-8 py-4 bg-white/10 hover:bg-white/20 border-2 border-white/20 hover:border-white/30 rounded-2xl text-white font-semibold transition-all duration-300 hover:scale-105 backdrop-blur-sm",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:u||!n||!i()||b().length>0,className:"flex-1 px-8 py-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 rounded-2xl text-white font-semibold transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 hover:scale-105 shadow-lg hover:shadow-emerald-500/25",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Submitting to Blockchain..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ra,{className:"w-5 h-5"}),n?"Submit to Blockchain":"Connect Wallet First"]})})]})]})]})]})]})]})},aB=({user:t,showToast:e})=>{const[r,n]=ie.useState("profile"),[a,i]=ie.useState(!1),[o,l]=ie.useState(""),[c,u]=ie.useState(!1);ie.useState({emailNotifications:!0,pushNotifications:!0,smsAlerts:!1,darkMode:!0,autoSync:!0,language:"English",twoFactor:!1,biometric:!1,autoBackup:!0,analytics:!0,performance:"balanced",theme:"dark",soundEffects:!0,hapticFeedback:!0});const f=()=>{e("Settings saved successfully!","success")},m=p=>{u(!0),setTimeout(()=>{n(p),u(!1)},150)};ie.useEffect(()=>{const p=setInterval(()=>{u(!0),setTimeout(()=>u(!1),100)},5e3);return()=>clearInterval(p)},[]);const x=[{id:"profile",label:"Profile",icon:Si,color:"from-blue-500 to-cyan-500",description:"Personal information and account details",badge:null},{id:"notifications",label:"Notifications",icon:G2,color:"from-emerald-500 to-primary-500",description:"Manage alerts and communication preferences",badge:"3"},{id:"security",label:"Security",icon:Bt,color:"from-yellow-500 to-orange-500",description:"Password, authentication and privacy settings",badge:null},{id:"blockchain",label:"Blockchain",icon:ea,color:"from-purple-500 to-pink-500",description:"Wallet connections and blockchain preferences",badge:"New"},{id:"analytics",label:"Analytics",icon:Cu,color:"from-indigo-500 to-purple-500",description:"Data insights and performance metrics",badge:null},{id:"system",label:"System",icon:Zr,color:"from-slate-500 to-gray-500",description:"Application preferences and data management",badge:null}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-800 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500/30 via-purple-500/30 to-emerald-500/30 rounded-3xl blur-2xl animate-pulse"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-2xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary-500 via-purple-500 to-emerald-500 rounded-3xl blur-lg opacity-60 group-hover:opacity-80 transition-all duration-300 animate-pulse"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-primary-500 via-purple-600 to-emerald-600 rounded-3xl flex items-center justify-center shadow-2xl transform group-hover:scale-105 transition-all duration-300",children:s.jsx(vo,{className:`w-10 h-10 text-white ${c?"animate-spin":""}`})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-white via-primary-200 to-emerald-300 bg-clip-text text-transparent mb-3",children:"Advanced Settings"}),s.jsx("p",{className:"text-xl text-gray-300 font-light mb-4",children:"Complete control over your AyurHerb experience"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full backdrop-blur-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Auto-sync Active"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 rounded-full backdrop-blur-sm",children:[s.jsx(Bt,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"Secure Connection"})]}),s.jsxs("div",{className:"text-gray-400 text-sm flex items-center gap-2",children:[s.jsx(zt,{className:"w-4 h-4"}),"Last sync: ",new Date().toLocaleTimeString()]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(an,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search settings...",value:o,onChange:p=>l(p.target.value),className:"w-64 py-3 pl-12 pr-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/50 backdrop-blur-sm transition-all duration-200"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"p-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl transition-all duration-200 group",children:s.jsx(Wg,{className:"w-5 h-5 text-white group-hover:rotate-180 transition-transform duration-300"})}),s.jsx("button",{className:"p-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl transition-all duration-200 group",children:s.jsx(BL,{className:"w-5 h-5 text-white group-hover:scale-110 transition-transform duration-200"})}),s.jsxs("button",{onClick:f,className:"px-6 py-3 bg-gradient-to-r from-primary-500 to-emerald-500 hover:from-primary-600 hover:to-emerald-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[s.jsx(Hv,{className:"w-5 h-5"}),"Save All"]})]})]})]})})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:x.map(p=>{const k=p.icon;return s.jsxs("button",{onClick:()=>m(p.id),className:`relative group p-6 rounded-2xl border transition-all duration-300 transform hover:scale-105 ${r===p.id?`bg-gradient-to-br ${p.color} border-white/30 shadow-2xl scale-105`:"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[p.badge&&s.jsx("div",{className:"absolute -top-2 -right-2 px-2 py-1 bg-red-500 text-white text-xs font-bold rounded-full animate-bounce",children:p.badge}),s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-all duration-300 ${r===p.id?"bg-white/20":"bg-white/10 group-hover:bg-white/20"}`,children:s.jsx(k,{className:`w-6 h-6 transition-all duration-300 ${r===p.id?"text-white":"text-gray-400 group-hover:text-white"}`})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:`font-semibold mb-2 transition-all duration-300 ${r===p.id?"text-white":"text-gray-300 group-hover:text-white"}`,children:p.label}),s.jsx("p",{className:`text-sm transition-all duration-300 ${r===p.id?"text-white/80":"text-gray-500 group-hover:text-gray-400"}`,children:p.description})]}),r===p.id&&s.jsx("div",{className:"absolute bottom-2 right-2 w-3 h-3 bg-white rounded-full animate-pulse"})]},p.id)})})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-slate-500/20 via-gray-500/20 to-slate-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:`relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-2xl border border-white/20 rounded-3xl p-8 shadow-2xl transition-all duration-500 ${c?"scale-[0.99] opacity-90":"scale-100 opacity-100"}`,children:[r==="profile"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center",children:s.jsx(Si,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Profile Information"}),s.jsx("p",{className:"text-gray-400",children:"Manage your personal details and account information"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-primary-500 to-emerald-500 rounded-full flex items-center justify-center text-4xl font-bold text-white shadow-2xl",children:((t==null?void 0:t.name)||"U").charAt(0)}),s.jsx("button",{className:"absolute bottom-2 right-2 w-10 h-10 bg-blue-500 hover:bg-blue-600 rounded-full flex items-center justify-center text-white transition-all duration-200",children:s.jsx(qv,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Click to upload new profile picture"})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Full Name"}),s.jsx("input",{type:"text",defaultValue:(t==null?void 0:t.name)||"Junaid",className:"w-full py-3 px-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/50 backdrop-blur-sm transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",defaultValue:(t==null?void 0:t.email)||"junaid@ayurherb.com",className:"w-full py-3 pl-12 pr-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/50 backdrop-blur-sm transition-all duration-200"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Role"}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 border border-white/10 rounded-xl",children:[s.jsx(Bt,{className:"w-5 h-5 text-primary-400"}),s.jsx("span",{className:"text-white font-medium",children:(t==null?void 0:t.role)||"Administrator"}),s.jsx("span",{className:"px-2 py-1 bg-primary-500/20 text-primary-400 text-xs rounded-full ml-auto",children:"Active"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(fN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"tel",placeholder:"+1 (555) 123-4567",className:"w-full py-3 pl-12 pr-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/50 backdrop-blur-sm transition-all duration-200"})]})]})]})]})]}),r==="notifications"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-primary-500 rounded-xl flex items-center justify-center",children:s.jsx(G2,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Notification Preferences"}),s.jsx("p",{className:"text-gray-400",children:"Control how and when you receive notifications"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(Tf,{className:"w-5 h-5 text-blue-400"}),"Email Notifications"]}),[{label:"System Updates",desc:"Important system announcements",enabled:!0},{label:"Security Alerts",desc:"Login attempts and security issues",enabled:!0},{label:"Weekly Reports",desc:"Weekly summary of activities",enabled:!1},{label:"Marketing",desc:"Product updates and promotions",enabled:!1}].map((p,k)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:p.label}),s.jsx("p",{className:"text-gray-400 text-sm",children:p.desc})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",defaultChecked:p.enabled,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-500"})]})]},k))]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(fN,{className:"w-5 h-5 text-emerald-400"}),"Push & SMS Alerts"]}),[{label:"Push Notifications",desc:"Browser and mobile notifications",enabled:!0},{label:"SMS Alerts",desc:"Critical alerts via text message",enabled:!1},{label:"Emergency Alerts",desc:"Urgent system notifications",enabled:!0},{label:"Batch Updates",desc:"Supply chain status changes",enabled:!0}].map((p,k)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:p.label}),s.jsx("p",{className:"text-gray-400 text-sm",children:p.desc})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",defaultChecked:p.enabled,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]},k))]})]})]}),r==="security"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl flex items-center justify-center",children:s.jsx(Bt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Security Settings"}),s.jsx("p",{className:"text-gray-400",children:"Protect your account with advanced security features"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(nL,{className:"w-5 h-5 text-yellow-400"}),"Password & Authentication"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(zv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:a?"text":"password",placeholder:"Enter current password",className:"w-full py-3 pl-12 pr-12 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:border-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 backdrop-blur-sm transition-all duration-200"}),s.jsx("button",{onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:a?s.jsx(w6,{className:"w-5 h-5"}):s.jsx(ki,{className:"w-5 h-5"})})]})]}),s.jsx("button",{className:"w-full py-3 px-4 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold rounded-xl transition-all duration-200",children:"Change Password"}),s.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(LP,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"text-emerald-400 font-medium",children:"Two-Factor Authentication"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Add an extra layer of security to your account"}),s.jsx("button",{className:"w-full py-2 px-4 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/30 text-emerald-300 rounded-lg transition-all duration-200",children:"Enable 2FA"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(pi,{className:"w-5 h-5 text-red-400"}),"Security Actions"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Active Sessions"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Manage devices that are currently logged in"}),s.jsx("button",{className:"w-full py-2 px-4 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 text-blue-300 rounded-lg transition-all duration-200",children:"View All Sessions"})]}),s.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Pu,{className:"w-5 h-5 text-red-400"}),s.jsx("span",{className:"text-red-400 font-medium",children:"Danger Zone"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Irreversible actions that affect your account"}),s.jsx("button",{className:"w-full py-2 px-4 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-300 rounded-lg transition-all duration-200",children:"Revoke All Sessions"})]}),s.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Login History"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Review recent login attempts"}),s.jsx("button",{className:"w-full py-2 px-4 bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/30 text-gray-300 rounded-lg transition-all duration-200",children:"View Login History"})]})]})]})]})]}),r==="system"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center",children:s.jsx(Zr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"System Preferences"}),s.jsx("p",{className:"text-gray-400",children:"Customize your application experience and data handling"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(AL,{className:"w-5 h-5 text-blue-400"}),"Appearance"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wL,{className:"w-5 h-5 text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Dark Mode"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Use dark theme across the application"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Language"}),s.jsxs("div",{className:"relative",children:[s.jsx(iL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsxs("select",{className:"w-full py-3 pl-12 pr-4 bg-white/10 border border-white/20 rounded-xl text-white focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-sm transition-all duration-200",children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"hi",children:"Hindi"}),s.jsx("option",{value:"ta",children:"Tamil"}),s.jsx("option",{value:"te",children:"Telugu"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(rE,{className:"w-5 h-5 text-emerald-400"}),"Data & Synchronization"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:"Auto-sync Data"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Automatically sync data across devices"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),s.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Data Export"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Download your data for backup or migration"}),s.jsxs("button",{className:"w-full py-2 px-4 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 text-blue-300 rounded-lg transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(Qc,{className:"w-4 h-4"}),"Export Data"]})]}),s.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(S6,{className:"w-5 h-5 text-red-400"}),s.jsx("span",{className:"text-red-400 font-medium",children:"Clear Cache"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Clear application cache and temporary files"}),s.jsx("button",{className:"w-full py-2 px-4 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 text-red-300 rounded-lg transition-all duration-200",children:"Clear All Cache"})]})]})]})]})]}),r==="blockchain"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:s.jsx(ea,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Blockchain Settings"}),s.jsx("p",{className:"text-gray-400",children:"Manage wallet connections and blockchain preferences"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(ea,{className:"w-5 h-5 text-purple-400"}),"Wallet Management"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"M"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"MetaMask"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Connected • Sepolia Testnet"})]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-green-400 text-sm",children:"Active"})]})]}),s.jsx("button",{className:"w-full py-2 px-4 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/30 text-purple-300 rounded-lg transition-all duration-200",children:"Manage Connection"})]}),s.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Network Preferences"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Auto-switch Networks"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-500"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Gas Optimization"}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-500"})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(yl,{className:"w-5 h-5 text-pink-400"}),"Transaction Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsx("h4",{className:"text-white font-medium mb-4",children:"Gas Price Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-medium",children:"Standard"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"~30 seconds"})]}),s.jsx("input",{type:"radio",name:"gasPrice",defaultChecked:!0,className:"text-purple-500"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-medium",children:"Fast"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"~15 seconds"})]}),s.jsx("input",{type:"radio",name:"gasPrice",className:"text-purple-500"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-medium",children:"Instant"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"~5 seconds"})]}),s.jsx("input",{type:"radio",name:"gasPrice",className:"text-purple-500"})]})]})]}),s.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(uL,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-blue-400 font-medium",children:"Transaction History"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"View all your blockchain transactions"}),s.jsx("button",{className:"w-full py-2 px-4 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 text-blue-300 rounded-lg transition-all duration-200",children:"View on Etherscan"})]})]})]})]})]}),r==="analytics"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center",children:s.jsx(Cu,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Analytics & Insights"}),s.jsx("p",{className:"text-gray-400",children:"Monitor your activity and performance metrics"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx($o,{className:"w-5 h-5 text-indigo-400"}),"Data Collection"]}),s.jsx("div",{className:"space-y-4",children:[{label:"Usage Analytics",desc:"Track feature usage and performance",enabled:!0},{label:"Error Reporting",desc:"Automatic crash and error reporting",enabled:!0},{label:"Performance Metrics",desc:"Monitor app performance and speed",enabled:!1},{label:"User Behavior",desc:"Analyze user interaction patterns",enabled:!1}].map((p,k)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:p.label}),s.jsx("p",{className:"text-gray-400 text-sm",children:p.desc})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",defaultChecked:p.enabled,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-500"})]})]},k))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(Ba,{className:"w-5 h-5 text-purple-400"}),"Reports & Insights"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-indigo-500/10 to-purple-500/10 border border-indigo-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Cu,{className:"w-5 h-5 text-indigo-400"}),s.jsx("span",{className:"text-indigo-400 font-medium",children:"Weekly Report"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Get detailed weekly activity reports"}),s.jsx("button",{className:"w-full py-2 px-4 bg-indigo-500/20 hover:bg-indigo-500/30 border border-indigo-500/30 text-indigo-300 rounded-lg transition-all duration-200",children:"Generate Report"})]}),s.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Export Options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full py-2 px-4 bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/30 text-gray-300 rounded-lg transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(Qc,{className:"w-4 h-4"}),"Export CSV"]}),s.jsxs("button",{className:"w-full py-2 px-4 bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/30 text-gray-300 rounded-lg transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(Qc,{className:"w-4 h-4"}),"Export PDF"]})]})]}),s.jsxs("div",{className:"p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(qL,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"text-emerald-400 font-medium",children:"Performance Score"})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-green-400 h-2 rounded-full",style:{width:"85%"}})}),s.jsx("span",{className:"text-emerald-400 font-bold",children:"85%"})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Excellent performance this week!"})]})]})]})]})]})]})]})]})})},Nk=()=>{const{collections:t}=K0(),e=Ci(),r=({collection:n})=>{const[a,i]=ie.useState([]),[o,l]=ie.useState(!1);ie.useEffect(()=>{const u=localStorage.getItem("ayurherb_processing_steps"),f=u?JSON.parse(u):{},m=n.batchId||n.id,x=f[m]||[];i(x),l(x.length>0)},[n]);const c=()=>{e(`/add-processing/${n.batchId||n.id}`)};return s.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-xl border border-slate-600/50 rounded-xl p-6 hover:border-slate-500/70 transition-all duration-300 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center",children:s.jsx(as,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:n.herbName}),s.jsxs("p",{className:"text-sm text-slate-400",children:[n.quantity," • ",n.location]})]}),o?s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(Bt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-semibold",children:"Processed"})]}):s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-500/20 border border-green-500/30 rounded-full",children:[s.jsx(rt,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-green-300 text-sm font-semibold",children:"Submitted"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"w-4 h-4 text-cyan-400"}),s.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"COLLECTOR ID"})]}),s.jsx("p",{className:"text-white font-bold text-sm",children:n.collectorId||"COL 2024"})]}),s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zr,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"BATCH ID"})]}),s.jsx("p",{className:"text-white font-bold text-sm",children:n.batchId||"BAT 2024 001"})]}),s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(pt,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"COLLECTOR"})]}),s.jsx("p",{className:"text-white font-bold text-sm",children:"Junaid"})]}),s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(rt,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"STATUS"})]}),s.jsx("p",{className:"text-green-400 font-bold text-sm",children:"Verified"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zn,{className:"w-4 h-4 text-orange-400"}),s.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"LOCATION"})]}),s.jsx("p",{className:"text-white font-semibold text-sm",children:n.location})]}),s.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ni,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-gray-400 text-xs font-medium",children:"SUBMISSION DATE"})]}),s.jsx("p",{className:"text-white font-semibold text-sm",children:n.timestamp})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[o&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(Bt,{className:"w-4 h-4 text-blue-400"}),s.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[a.length," Step",a.length!==1?"s":""," Completed"]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(Zr,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"On-Chain"})]})]}),s.jsx("div",{className:"flex justify-end",children:o?s.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-500 to-green-500 text-white font-semibold rounded-xl shadow-lg cursor-default",children:[s.jsx(rt,{className:"w-5 h-5"}),"Processing Complete"]}):s.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-emerald-500 hover:from-blue-600 hover:to-emerald-600 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[s.jsx(Ra,{className:"w-5 h-5"}),"Add Processing"]})})]})]})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black p-8",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-emerald-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(pt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-blue-200 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Batches"}),s.jsx("p",{className:"text-xl text-gray-300 font-light",children:"Submitted collections ready for processing"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:t.length}),s.jsx("div",{className:"text-sm text-gray-400",children:"Total Batches"})]})})]})})]}),t.length>0?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(n=>s.jsx(r,{collection:n},n.id))}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-gray-500/20 via-slate-500/20 to-gray-500/20 rounded-2xl blur"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"relative mb-6",children:s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-600 to-gray-700 rounded-2xl flex items-center justify-center mx-auto",children:s.jsx(pt,{className:"w-12 h-12 text-gray-400"})})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"No Collections Submitted Yet"}),s.jsx("p",{className:"text-xl text-gray-300 font-medium",children:"Submitted collections will appear here"}),s.jsx("p",{className:"text-gray-400 mt-4 max-w-md mx-auto",children:"When collectors submit herb collection data, it will be displayed here for processing."})]})})]})]})},iB=()=>{const t={name:"Dr. Sarah Wilson",role:"Lab Tester"},e=(r,n)=>{console.log(`Toast: ${r} (${n})`)};return s.jsx("div",{children:s.jsx(Nk,{user:t,showToast:e})})},oB=({user:t,showToast:e=console.log})=>{var Q;Ci();const[r,n]=ie.useState([]),[a,i]=ie.useState(!0),[o,l]=ie.useState(""),[c,u]=ie.useState("all"),[f,m]=ie.useState([]),[x,p]=ie.useState({totalPending:0,totalCompleted:0,totalFailed:0}),[k,w]=ie.useState(!1),[N,y]=ie.useState(null),[b,A]=ie.useState({testType:"",resultValue:"",status:"Passed",technician:(t==null?void 0:t.name)||"Dr. Sarah Wilson",notes:"",certificate:null}),[E,U]=ie.useState(!1),[V,M]=ie.useState(0),[_,$]=ie.useState([]);ie.useEffect(()=>{console.log("Lab Dashboard mounted, loading data..."),J(),P()},[]);const J=async()=>{try{i(!0);const q=[{id:"BAT 2024 001",batchId:"BAT 2024 001",herb:"Allovera",farmer:"COL 2024",quantity:"5 kg",location:"Bangalore, Karnataka",progress:100,customProcessingSteps:[{stepType:"Drying Process",temperature:20,duration:"2 hrs",notes:"Good condition",status:"Completed",date:"2025-09-24"}]}];n(q),S(q)}catch(q){console.error("Error loading batches:",q),e("Using demo data - Backend not connected","info")}finally{i(!1)}},P=()=>{m([{id:1,action:"Test Completed",batchId:"BAT 2024 001",herb:"Brahmi",time:"2 hours ago",status:"passed"},{id:2,action:"Test Started",batchId:"BAT 2024 002",herb:"Ashwagandha",time:"4 hours ago",status:"pending"},{id:3,action:"Test Failed",batchId:"BAT 2024 003",herb:"Turmeric",time:"6 hours ago",status:"failed"}])},S=q=>{const ee=q.filter(K=>!K.labResults).length,C=q.filter(K=>K.labResults&&K.labResults.ayushCompliance!==!1).length,G=q.filter(K=>K.labResults&&K.labResults.ayushCompliance===!1).length;p({totalPending:ee,totalCompleted:C,totalFailed:G})},W=r.filter(q=>{const ee=q.id.toLowerCase().includes(o.toLowerCase())||q.herb.toLowerCase().includes(o.toLowerCase())||q.farmer.toLowerCase().includes(o.toLowerCase());let C=!0;return c==="pending"?C=!q.labResults:c==="completed"?C=q.labResults&&q.labResults.ayushCompliance!==!1:c==="failed"&&(C=q.labResults&&q.labResults.ayushCompliance===!1),ee&&C}),R=[{value:"moisture",label:"Moisture Content",unit:"%",icon:"💧",description:"Water content analysis"},{value:"pesticide",label:"Pesticide Screening",unit:"ppm",icon:"🧪",description:"Chemical residue detection"},{value:"dna",label:"DNA Barcode",unit:"",icon:"🧬",description:"Species authentication"},{value:"heavy_metals",label:"Heavy Metals",unit:"ppm",icon:"⚗️",description:"Toxic metal analysis"},{value:"microbial",label:"Microbial Testing",unit:"CFU/g",icon:"🦠",description:"Pathogen detection"}],Z=q=>{const ee=q.target.files[0];if(ee){if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(ee.type)){e("Please upload PDF or image files only","error");return}if(ee.size>10*1024*1024){e("File size must be less than 10MB","error");return}A(G=>({...G,certificate:ee})),e("Certificate uploaded successfully","success")}},Y=async()=>{try{if(!b.testType||!b.resultValue){e("Please fill in all required fields","error");return}U(!0),M(0);const q=setInterval(()=>{M(te=>te>=90?(clearInterval(q),te):te+10)},200),ee=R.find(te=>te.value===b.testType),C={batchId:N.id,testType:ee.label,result:`${b.resultValue}${ee.unit?ee.unit:""}`,status:b.status,technician:b.technician,notes:b.notes,testDate:new Date().toISOString(),certificate:b.certificate};await new Promise(te=>setTimeout(te,2e3));const G=`0x${Math.random().toString(16).substr(2,32)}`;M(100);const K={id:_.length+1,batchId:N.id,testType:ee.label,result:C.result,status:b.status,testDate:new Date().toLocaleDateString(),technician:b.technician,blockchainStatus:"On-Chain Verified ✅",txId:G,notes:b.notes};$(te=>[...te,K]),A({testType:"",resultValue:"",status:"Passed",technician:(t==null?void 0:t.name)||"Dr. Sarah Wilson",notes:"",certificate:null}),w(!1),e(`Test added successfully! Blockchain TX: ${G.substr(0,10)}...`,"success")}catch(q){e("Failed to add test: "+q.message,"error")}finally{U(!1),M(0)}},z=async q=>{try{await navigator.clipboard.writeText(q),e(`Batch ID "${q}" copied to clipboard`,"success")}catch(ee){console.error("Failed to copy batch ID:",ee),e("Failed to copy batch ID","error")}},D=({batch:q})=>s.jsxs("div",{className:"bg-slate-800/90 backdrop-blur-xl border border-slate-600/50 rounded-xl p-4 hover:border-slate-500/70 transition-all duration-300 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-emerald-600 rounded-lg flex items-center justify-center",children:s.jsx(pt,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:q.batchId}),s.jsx("button",{onClick:()=>z(q.batchId),className:"p-1.5 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600/50 hover:border-slate-500/50 rounded-lg transition-all duration-200 group",title:"Copy Batch ID",children:s.jsx(B0,{className:"w-3.5 h-3.5 text-gray-400 group-hover:text-white"})})]}),s.jsx("p",{className:"text-sm text-slate-400",children:q.herb})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-white",children:[q.progress,"%"]}),s.jsx("span",{className:"text-sm text-slate-400",children:"Complete"})]}),s.jsx("div",{className:"w-full bg-slate-700/60 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-blue-400 h-2 rounded-full transition-all duration-700",style:{width:`${q.progress}%`}})})]}),q.customProcessingSteps&&q.customProcessingSteps.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(pt,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-sm font-medium text-blue-300",children:q.customProcessingSteps[q.customProcessingSteps.length-1].stepType})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"bg-orange-500/20 rounded-lg p-3 text-center border border-orange-500/30",children:[s.jsx(ho,{className:"w-4 h-4 text-orange-300 mx-auto mb-1"}),s.jsx("div",{className:"text-xs text-orange-200 mb-1",children:"Temp"}),s.jsxs("div",{className:"text-sm font-bold text-white",children:[q.customProcessingSteps[q.customProcessingSteps.length-1].temperature,"°C"]})]}),s.jsxs("div",{className:"bg-blue-500/20 rounded-lg p-3 text-center border border-blue-500/30",children:[s.jsx(zt,{className:"w-4 h-4 text-blue-300 mx-auto mb-1"}),s.jsx("div",{className:"text-xs text-blue-200 mb-1",children:"Duration"}),s.jsx("div",{className:"text-sm font-bold text-white",children:q.customProcessingSteps[q.customProcessingSteps.length-1].duration})]}),s.jsxs("div",{className:"bg-emerald-500/20 rounded-lg p-3 text-center border border-emerald-500/30",children:[s.jsx(rt,{className:"w-4 h-4 text-emerald-300 mx-auto mb-1"}),s.jsx("div",{className:"text-xs text-emerald-200 mb-1",children:"Status"}),s.jsx("div",{className:"text-xs font-bold text-emerald-300",children:"Good condition"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs border-t border-slate-600/50 pt-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-400 mb-1",children:"Quantity"}),s.jsx("div",{className:"font-semibold text-white",children:q.quantity})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-400 mb-1",children:"Quality"}),s.jsx("div",{className:"font-semibold text-white",children:"Premium (AA)"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-slate-400 mb-1",children:"Date"}),s.jsx("div",{className:"font-semibold text-white",children:"2025-09-24"})]})]})]});return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),s.jsx("div",{className:"absolute inset-0 w-32 h-32 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black p-8 space-y-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-emerald-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Uv,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-blue-200 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Lab Dashboard"}),s.jsx("p",{className:"text-xl text-gray-300 font-light",children:"Quality testing and laboratory results management"}),s.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Lab Active"})]}),s.jsxs("div",{className:"text-gray-400 text-sm",children:[r.length," Total Batches • ",W.length," Filtered"]})]})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:J,className:"p-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl transition-all duration-200",children:s.jsx(Wg,{className:"w-5 h-5 text-white"})})})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Tests Pending",value:x.totalPending,icon:zt,gradient:"from-yellow-500 to-orange-500",bgColor:"from-yellow-500/20 to-orange-500/10"},{title:"Tests Completed",value:x.totalCompleted,icon:rt,gradient:"from-emerald-500 to-green-500",bgColor:"from-emerald-500/20 to-green-500/10"},{title:"Tests Failed",value:x.totalFailed,icon:Il,gradient:"from-red-500 to-pink-500",bgColor:"from-red-500/20 to-pink-500/10"}].map((q,ee)=>{const C=q.icon;return s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/30 via-emerald-500/30 to-purple-500/30 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsx("div",{className:`relative h-full bg-gradient-to-br ${q.bgColor} backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl group-hover:shadow-2xl transition-all duration-500`,children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${q.gradient} rounded-xl flex items-center justify-center shadow-lg`,children:s.jsx(C,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:q.value}),s.jsx("div",{className:"text-sm text-gray-300",children:q.title})]})]})})]},ee)})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-slate-500/20 via-gray-500/20 to-slate-500/20 rounded-2xl blur"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by batch ID or herb name...",value:o,onChange:q=>l(q.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-800/90 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-sm transition-all duration-200"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(N6,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsxs("select",{value:c,onChange:q=>u(q.target.value),className:"appearance-none pl-12 pr-10 py-3 bg-gray-800/90 border border-white/20 rounded-xl text-white font-medium focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-sm transition-all duration-200 hover:bg-gray-700/90 cursor-pointer",children:[s.jsx("option",{value:"all",children:"All Tests"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"failed",children:"Failed"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-slate-500/20 via-gray-500/20 to-slate-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Batches Waiting for Tests"}),s.jsx("p",{className:"text-gray-400",children:"Complete overview of all batches requiring lab testing"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(ji,{className:"w-4 h-4 text-blue-400"}),s.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[W.length," Batches"]})]})]})}),s.jsx("div",{className:"p-6 space-y-4 max-h-96 overflow-y-auto",children:W.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Cn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"New Item for Testing will appear here"})]}):s.jsx("div",{className:"max-w-md",children:W.map(q=>s.jsx("div",{className:"mb-4",children:s.jsx(D,{batch:q})},q.id))})})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-pink-500/20 to-red-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pi,{className:"w-6 h-6 text-purple-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"Recent Activity"})]})}),s.jsx("div",{className:"p-6 space-y-4",children:f.map(q=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-800/30 rounded-lg",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${q.status==="passed"?"bg-emerald-500/20":q.status==="failed"?"bg-red-500/20":"bg-yellow-500/20"}`,children:q.status==="passed"?s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}):q.status==="failed"?s.jsx(Il,{className:"w-4 h-4 text-red-400"}):s.jsx(zt,{className:"w-4 h-4 text-yellow-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white text-sm font-medium",children:q.action}),s.jsxs("p",{className:"text-gray-400 text-xs",children:[q.batchId," • ",q.herb]}),s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:q.time})]})]},q.id))})]})]})})]}),k&&N&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/50 to-blue-500/50 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800 to-slate-900 border border-emerald-500/30 rounded-2xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(ji,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Add Quality Test"}),s.jsxs("p",{className:"text-gray-400",children:["Batch: ",N.id," • ",N.herb]})]})]}),s.jsx("button",{onClick:()=>w(!1),className:"p-2 bg-slate-700/50 hover:bg-slate-600/50 rounded-lg transition-all duration-200",children:s.jsx(J0,{className:"w-5 h-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:["Test Type ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:R.map(q=>s.jsxs("button",{onClick:()=>A(ee=>({...ee,testType:q.value})),className:`p-4 rounded-xl border-2 transition-all duration-200 text-left ${b.testType===q.value?"border-emerald-500 bg-emerald-500/10":"border-slate-600 bg-slate-700/30 hover:border-slate-500"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:q.icon}),s.jsx("span",{className:"text-white font-semibold",children:q.label})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:q.description}),q.unit&&s.jsxs("p",{className:"text-blue-400 text-xs mt-1",children:["Unit: ",q.unit]})]},q.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Result Value ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:b.resultValue,onChange:q=>A(ee=>({...ee,resultValue:q.target.value})),placeholder:"Enter result value",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:border-emerald-500 focus:outline-none transition-all duration-200"}),b.testType&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:(Q=R.find(q=>q.value===b.testType))==null?void 0:Q.unit})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Test Status"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>A(q=>({...q,status:"Passed"})),className:`flex-1 px-4 py-3 rounded-xl border-2 transition-all duration-200 flex items-center justify-center gap-2 ${b.status==="Passed"?"border-emerald-500 bg-emerald-500/20 text-emerald-300":"border-slate-600 bg-slate-700/30 text-gray-400 hover:border-slate-500"}`,children:[s.jsx(rt,{className:"w-4 h-4"}),"Pass"]}),s.jsxs("button",{onClick:()=>A(q=>({...q,status:"Failed"})),className:`flex-1 px-4 py-3 rounded-xl border-2 transition-all duration-200 flex items-center justify-center gap-2 ${b.status==="Failed"?"border-red-500 bg-red-500/20 text-red-300":"border-slate-600 bg-slate-700/30 text-gray-400 hover:border-slate-500"}`,children:[s.jsx(Il,{className:"w-4 h-4"}),"Fail"]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Technician"}),s.jsx("input",{type:"text",value:b.technician,onChange:q=>A(ee=>({...ee,technician:q.target.value})),className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:border-emerald-500 focus:outline-none transition-all duration-200"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Test Certificate (PDF/Image)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:Z,className:"hidden",id:"certificate-upload"}),s.jsx("label",{htmlFor:"certificate-upload",className:"flex items-center justify-center w-full px-4 py-6 border-2 border-dashed border-slate-600 rounded-xl cursor-pointer hover:border-emerald-500 transition-all duration-200 bg-slate-700/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qv,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),b.certificate?s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-400 font-medium",children:b.certificate.name}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[(b.certificate.size/1024/1024).toFixed(2)," MB"]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-300",children:"Click to upload certificate"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"PDF, JPG, PNG up to 10MB"})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Notes (Optional)"}),s.jsx("textarea",{value:b.notes,onChange:q=>A(ee=>({...ee,notes:q.target.value})),placeholder:"Additional notes about the test...",rows:3,className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:border-emerald-500 focus:outline-none transition-all duration-200 resize-none"})]}),E&&s.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ji,{className:"w-5 h-5 text-blue-400 animate-pulse"}),s.jsx("span",{className:"text-white font-medium",children:"Processing Test & Blockchain Verification..."})]}),s.jsx("div",{className:"w-full bg-slate-600 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${V}%`}})}),s.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[V,"% Complete"]})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsx("button",{onClick:()=>w(!1),disabled:E,className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-xl transition-all duration-200 disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:Y,disabled:E||!b.testType||!b.resultValue,className:"flex-1 px-6 py-3 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50",children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Hv,{className:"w-4 h-4"}),"Add Test & Verify on Blockchain"]})})]})]})]})})]})},lB=()=>{const t={name:"Dr. Sarah Wilson",role:"Lab Tester"},e=(r,n)=>{console.log(`Toast: ${r} (${n})`)};return s.jsx("div",{children:s.jsx(oB,{user:t,showToast:e})})},E3=({user:t,showToast:e=console.log})=>{var oe,me;const[r,n]=ie.useState([]),[a,i]=ie.useState(null),[o,l]=ie.useState([]),[c,u]=ie.useState(!0),[f,m]=ie.useState(!1),[x,p]=ie.useState(null),[k,w]=ie.useState(!1),[N,y]=ie.useState({testType:"",resultValue:"",status:"Passed",tester:(t==null?void 0:t.name)||"Dr. Sarah Wilson",notes:"",certificate:null}),[b,A]=ie.useState(!1),[E,U]=ie.useState(0),[V,M]=ie.useState({}),[_,$]=ie.useState(null),[J,P]=ie.useState(!1),[S,W]=ie.useState(null),[R,Z]=ie.useState(!1),Y=ae=>{if(!ae)return!1;const ce=localStorage.getItem("ayurherb_lab_tests"),Ae=ce?JSON.parse(ce):{},Le=ae.batchId||ae.id,De=Ae[Le]&&Ae[Le].length>0;return Z(De),De};ie.useEffect(()=>{const ae=localStorage.getItem("selectedBatchForTesting"),ce=localStorage.getItem("currentSelectedBatch");if(console.log("🚀 CHECKING BATCH DATA"),console.log("🚀 selectedFromNavigation:",ae),console.log("🚀 currentSelected:",ce),ae)console.log("🚀 LOADING FROM NAVIGATION"),q();else if(ce){console.log("🚀 LOADING FROM CURRENT SELECTED");try{const Ae=JSON.parse(ce);i(Ae),w(!0),Y(Ae),u(!1),n([])}catch(Ae){console.error("Error restoring selected batch:",Ae),localStorage.removeItem("currentSelectedBatch"),i(null),ee()}}else console.log("🚀 NO BATCH DATA - SHOWING NO BATCH MESSAGE"),localStorage.removeItem("currentSelectedBatch"),i(null),w(!1),ee();C()},[]);const z=()=>{const ae={};return N.testType||(ae.testType="Test Type is required"),(!N.resultValue||N.resultValue.trim()==="")&&(ae.resultValue="Result Value is required"),N.status||(ae.status="Test Status is required"),M(ae),Object.keys(ae).length===0};ie.useEffect(()=>{Object.keys(V).length>0&&z()},[N.testType,N.resultValue,N.status]);const D=async()=>{if(!window.ethereum){W("MetaMask is not installed. Please install MetaMask to connect your wallet."),e("MetaMask is not installed","error");return}P(!0),W(null);try{const ae=await window.ethereum.request({method:"eth_requestAccounts"});if(ae.length===0)throw new Error("No accounts found");try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0xaa36a7"}]})}catch(Ae){if(Ae.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0xaa36a7",chainName:"Sepolia Test Network",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://sepolia.infura.io/v3/"],blockExplorerUrls:["https://sepolia.etherscan.io/"]}]});else throw Ae}const ce=ae[0];$(ce),e(`Wallet connected: ${ce.slice(0,6)}...${ce.slice(-4)}`,"success")}catch(ae){console.error("Error connecting wallet:",ae),W(ae.message),e("Failed to connect wallet","error")}finally{P(!1)}},Q=()=>{$(null),W(null),e("Wallet disconnected","info")};ie.useEffect(()=>{(async()=>{if(window.ethereum)try{const ce=await window.ethereum.request({method:"eth_accounts"});ce.length>0&&$(ce[0])}catch(ce){console.error("Error checking wallet connection:",ce)}})()},[]);const q=()=>{const ae=localStorage.getItem("selectedBatchForTesting");if(ae)try{const ce=JSON.parse(ae);localStorage.setItem("currentSelectedBatch",JSON.stringify(ce)),i(ce),w(!0),Y(ce),localStorage.removeItem("selectedBatchForTesting"),e(`Batch ${ce.batchId} loaded for testing`,"success"),u(!1),n([])}catch(ce){console.error("Error parsing selected batch data:",ce),localStorage.removeItem("selectedBatchForTesting")}},ee=async()=>{try{u(!0),n([{id:"BAT 2024 001",batchId:"BAT 2024 001",farmer:"COL 2024",herb:"Allovera",quantity:"5kg",location:"Bangalore, Karnataka",harvestDate:"2024-09-24",status:"Ready for Testing"},{id:"COL001",batchId:"BAT-2024-001",farmer:"Rajesh Kumar",herb:"Ashwagandha",quantity:"500kg",location:"Kerala, India",harvestDate:"2024-09-20",status:"Ready for Testing"},{id:"COL002",batchId:"BAT-2024-002",farmer:"Priya Sharma",herb:"Turmeric",quantity:"750kg",location:"Tamil Nadu, India",harvestDate:"2024-09-21",status:"Ready for Testing"},{id:"COL003",batchId:"BAT-2024-003",farmer:"Amit Patel",herb:"Brahmi",quantity:"300kg",location:"Gujarat, India",harvestDate:"2024-09-19",status:"Testing Complete"}])}catch(ae){console.error("Error loading batches:",ae),e("Failed to load batches","error")}finally{u(!1)}},C=()=>{l([{id:1,batchId:"COL001",testType:"Moisture Content",result:"8.5%",status:"Passed",testDate:"2024-09-23",tester:"Dr. Sarah Wilson",blockchainStatus:"On-Chain Verified ✅",txId:"0x1a2b3c4d5e6f7890abcdef1234567890"},{id:2,batchId:"COL002",testType:"Pesticide Screening",result:"Not Detected",status:"Passed",testDate:"2024-09-23",tester:"Dr. Sarah Wilson",blockchainStatus:"On-Chain Verified ✅",txId:"0x2b3c4d5e6f7890abcdef1234567890ab"},{id:3,batchId:"COL003",testType:"DNA Authentication",result:"Confirmed",status:"Passed",testDate:"2024-09-22",tester:"Dr. Mike Chen",blockchainStatus:"On-Chain Verified ✅",txId:"0x3c4d5e6f7890abcdef1234567890abcd"}])},G=[{value:"moisture",label:"Moisture Content",unit:"%",icon:"💧",description:"Water content analysis",normalRange:"5-12%"},{value:"pesticide",label:"Pesticide Screening",unit:"ppm",icon:"🧪",description:"Chemical residue detection",normalRange:"<0.01 ppm"},{value:"dna",label:"DNA Barcode",unit:"",icon:"🧬",description:"Species authentication",normalRange:"Match confirmed"}],K=ae=>{const ce=ae.target.files[0];if(ce){if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(ce.type)){e("Please upload PDF or image files only","error");return}if(ce.size>10*1024*1024){e("File size must be less than 10MB","error");return}y(Le=>({...Le,certificate:ce})),e("Certificate uploaded successfully","success")}},te=async()=>{try{if(!a){e("Please select a batch first","error");return}if(R){e("❌ Lab test already completed for this batch. Cannot submit duplicate tests.","error");return}if(!_){e("Please connect your wallet before submitting lab test results","error");return}if(!z()){const we=Object.keys(V).map(ne=>{switch(ne){case"testType":return"Test Type";case"resultValue":return"Result Value";case"status":return"Test Status";default:return ne}});e(`Please fill in the following required fields: ${we.join(", ")}`,"error");return}A(!0),U(0),e("Preparing lab test data...","info");const ae=G.find(we=>we.value===N.testType),ce={batchId:a.batchId,testType:ae.label,resultValue:N.resultValue,unit:ae.unit||"",status:N.status,tester:N.tester,notes:N.notes,certificateHash:N.certificate?`cert_${Math.random().toString(16).substr(2,16)}`:null};U(20),e("Opening MetaMask for transaction signing...","info");const Ae=await Ns.submitLabTest(ce);U(80),e("Transaction confirmed! Finalizing...","success"),U(100),p({transactionHash:Ae.transactionHash,blockNumber:Ae.blockNumber,gasUsed:Ae.gasUsed,network:Ae.network,contractAddress:Ae.contractAddress,batchId:a.batchId,testType:ae.label,result:N.resultValue,status:N.status,tester:N.tester,batch:a,explorerUrl:Ae.explorerUrl}),m(!0);const Le={id:Date.now().toString(),batchId:a.batchId,testType:ae.label,result:N.resultValue,status:N.status,testDate:new Date().toLocaleDateString(),tester:N.tester,blockchainStatus:"On-Chain Verified ✅",txId:Ae.transactionHash,blockNumber:Ae.blockNumber,gasUsed:Ae.gasUsed,notes:N.notes};l(we=>[...we,Le]);const De=localStorage.getItem("ayurherb_lab_tests"),_e=De?JSON.parse(De):{},Ye=a.batchId||a.id;_e[Ye]||(_e[Ye]=[]),_e[Ye].push({id:Le.id,testType:ae.label,resultValue:N.resultValue,unit:ae.unit||"",status:N.status,tester:N.tester,notes:N.notes,certificateHash:ce.certificateHash,testDate:new Date().toISOString(),blockchainTx:Ae.transactionHash,blockNumber:Ae.blockNumber,gasUsed:Ae.gasUsed,explorerUrl:Ae.explorerUrl,batchId:Ye}),localStorage.setItem("ayurherb_lab_tests",JSON.stringify(_e)),y({testType:"",resultValue:"",status:"Passed",tester:(t==null?void 0:t.name)||"Dr. Sarah Wilson",notes:"",certificate:null}),console.log("=== REAL BLOCKCHAIN LAB TEST SAVED ==="),console.log("Blockchain Result:",Ae),console.log("Lab test saved to localStorage for batch:",Ye)}catch(ae){console.error("Blockchain submission error:",ae),ae.message.includes("rejected")||ae.code===4001?e("❌ Transaction was rejected by user","error"):ae.message.includes("insufficient funds")||ae.code==="INSUFFICIENT_FUNDS"?e("❌ Insufficient funds for transaction. Please add some Sepolia ETH to your wallet.","error"):ae.message.includes("gas")||ae.message.includes("Gas")?e("❌ Gas estimation failed. Please try again or reduce the size of your notes.","error"):ae.message.includes("network")||ae.message.includes("chain")?e("❌ Please switch to Sepolia testnet in MetaMask","error"):ae.message.includes("wallet")||ae.message.includes("signer")?e("❌ Wallet connection issue. Please reconnect your wallet.","error"):ae.message.includes("Internal JSON-RPC error")?e("❌ Network error. Please check your internet connection and try again.","error"):e("❌ Failed to save test on blockchain: "+ae.message,"error")}finally{A(!1),U(0)}};return c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),s.jsx("div",{className:"absolute inset-0 w-32 h-32 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black p-8 space-y-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-emerald-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Uv,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-blue-200 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Lab Test Center"}),s.jsx("p",{className:"text-xl text-gray-300 font-light",children:"Quality testing with blockchain verification"}),s.jsx("div",{className:"flex items-center gap-4 mt-4",children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Lab Active"})]})})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:_?s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-xl backdrop-blur-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),s.jsxs("span",{className:"text-emerald-300 text-sm font-medium",children:[_.slice(0,6),"...",_.slice(-4)]})]}),s.jsx("button",{onClick:Q,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 hover:border-red-500/50 rounded-xl text-red-300 hover:text-red-200 transition-all duration-200 text-sm font-medium",children:"Disconnect"})]}):s.jsx("button",{onClick:D,disabled:J,className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-500/20 to-emerald-500/20 hover:from-blue-500/30 hover:to-emerald-500/30 border border-blue-500/30 hover:border-emerald-500/50 rounded-xl text-white font-semibold transition-all duration-200 backdrop-blur-sm disabled:opacity-50 disabled:cursor-not-allowed",children:J?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Connecting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ea,{className:"w-5 h-5"}),"Connect Wallet"]})})})]})})]}),a?s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx(j6,{className:"w-8 h-8 text-emerald-400"}),s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Add Quality Test"}),s.jsxs("div",{className:"text-gray-400",children:["for ",a.herb||"N/A"," (",a.batchId||"N/A",")"]})]}),a&&s.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-emerald-500/10 via-blue-500/10 to-purple-500/10 border border-emerald-500/30 rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Batch ID"}),s.jsx("p",{className:"text-emerald-300 font-bold",children:a.batchId||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Herb Type"}),s.jsx("p",{className:"text-blue-300 font-bold",children:a.herb||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Quantity"}),s.jsx("p",{className:"text-purple-300 font-bold",children:a.quantity||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm font-medium mb-1",children:"Location"}),s.jsx("p",{className:"text-cyan-300 font-bold",children:a.location||"N/A"})]})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-lg font-medium text-gray-300 mb-4",children:["Test Type ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:G.map(ae=>s.jsxs("button",{onClick:()=>!R&&y(ce=>({...ce,testType:ae.value})),disabled:R,className:`p-6 rounded-xl border-2 transition-all duration-200 text-left ${R?"border-gray-600 bg-gray-700/20 opacity-50 cursor-not-allowed":N.testType===ae.value?"border-emerald-500 bg-emerald-500/10":"border-slate-600 bg-slate-700/30 hover:border-slate-500"}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("span",{className:"text-3xl",children:ae.icon}),s.jsx("span",{className:"text-white font-semibold text-lg",children:ae.label})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:ae.description}),s.jsxs("p",{className:"text-blue-400 text-xs",children:["Normal: ",ae.normalRange]})]},ae.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-lg font-medium text-gray-300 mb-3",children:["Result Value ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:N.resultValue,onChange:ae=>!R&&y(ce=>({...ce,resultValue:ae.target.value})),placeholder:R?"Test already completed":"Enter result value",disabled:R,className:`w-full px-4 py-4 border rounded-xl text-white placeholder-gray-400 focus:outline-none transition-all duration-200 text-lg ${R?"bg-gray-700/30 border-gray-600 cursor-not-allowed opacity-50":"bg-slate-700/50 border-slate-600 focus:border-emerald-500"}`}),N.testType&&s.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm",children:(oe=G.find(ae=>ae.value===N.testType))==null?void 0:oe.unit})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-lg font-medium text-gray-300 mb-3",children:["Test Status ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>!R&&y(ae=>({...ae,status:"Passed"})),disabled:R,className:`flex-1 px-6 py-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-center gap-3 ${R?"border-gray-600 bg-gray-700/20 text-gray-500 cursor-not-allowed opacity-50":N.status==="Passed"?"border-emerald-500 bg-emerald-500/20 text-emerald-300":"border-slate-600 bg-slate-700/30 text-gray-400 hover:border-slate-500"}`,children:[s.jsx(rt,{className:"w-5 h-5"}),"Pass"]}),s.jsxs("button",{onClick:()=>!R&&y(ae=>({...ae,status:"Failed"})),disabled:R,className:`flex-1 px-6 py-4 rounded-xl border-2 transition-all duration-200 flex items-center justify-center gap-3 ${R?"border-gray-600 bg-gray-700/20 text-gray-500 cursor-not-allowed opacity-50":N.status==="Failed"?"border-red-500 bg-red-500/20 text-red-300":"border-slate-600 bg-slate-700/30 text-gray-400 hover:border-slate-500"}`,children:[s.jsx(Il,{className:"w-5 h-5"}),"Fail"]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-lg font-medium text-gray-300 mb-3",children:"Tester"}),s.jsx("input",{type:"text",value:N.tester,onChange:ae=>y(ce=>({...ce,tester:ae.target.value})),className:"w-full px-4 py-4 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:border-emerald-500 focus:outline-none transition-all duration-200 text-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-lg font-medium text-gray-300 mb-3",children:"Test Certificate (PDF/Image)"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:K,className:"hidden",id:"certificate-upload"}),s.jsx("label",{htmlFor:"certificate-upload",className:"flex items-center justify-center w-full px-6 py-8 border-2 border-dashed border-slate-600 rounded-xl cursor-pointer hover:border-emerald-500 transition-all duration-200 bg-slate-700/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qv,{className:"w-10 h-10 text-gray-400 mx-auto mb-3"}),N.certificate?s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-400 font-medium text-lg",children:N.certificate.name}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[(N.certificate.size/1024/1024).toFixed(2)," MB"]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-300 text-lg",children:"Click to upload certificate"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"PDF, JPG, PNG up to 10MB"})]})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-lg font-medium text-gray-300 mb-3",children:"Notes (Optional)"}),s.jsx("textarea",{value:N.notes,onChange:ae=>y(ce=>({...ce,notes:ae.target.value})),placeholder:"Additional notes about the test...",rows:4,className:"w-full px-4 py-4 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:border-emerald-500 focus:outline-none transition-all duration-200 resize-none text-lg"})]}),b&&s.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(ji,{className:"w-6 h-6 text-blue-400 animate-pulse"}),s.jsx("span",{className:"text-white font-medium text-lg",children:"Processing Test & Blockchain Verification..."})]}),s.jsx("div",{className:"w-full bg-slate-600 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-blue-500 h-3 rounded-full transition-all duration-300",style:{width:`${E}%`}})}),s.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:[E,"% Complete"]})]}),s.jsx("button",{onClick:te,disabled:b||!N.testType||!N.resultValue||!N.resultValue.trim()||!N.status||!_||R,className:`w-full px-8 py-5 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed text-lg ${R?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600"}`,children:b?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):R?s.jsxs(s.Fragment,{children:[s.jsx(Il,{className:"w-6 h-6"}),"Test Already Completed"]}):s.jsxs(s.Fragment,{children:[s.jsx(Hv,{className:"w-6 h-6"}),"Save On Blockchain"]})}),R&&s.jsx("div",{className:"mt-4 p-4 bg-red-500/10 border border-red-500/30 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nn,{className:"w-5 h-5 text-red-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-300 font-semibold",children:"Test Already Completed"}),s.jsx("p",{className:"text-red-200 text-sm",children:"This batch has already been tested. Duplicate test submissions are not allowed."})]})]})}),!_&&!R&&s.jsx("div",{className:"mt-4 p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ea,{className:"w-5 h-5 text-amber-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-300 font-semibold",children:"Wallet Connection Required"}),s.jsx("p",{className:"text-amber-200 text-sm",children:"Connect your wallet to submit lab test results to the blockchain"})]})]})})]})]})]})}):s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-slate-500/20 via-gray-500/20 to-slate-500/20 rounded-2xl blur"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ji,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"No Batch Loaded"}),s.jsx("p",{className:"text-gray-400 text-lg mb-6",children:"Please add a batch first before starting lab tests."}),s.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-amber-500/20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-amber-400 font-bold",children:"!"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-300 font-semibold",children:"Action Required"}),s.jsx("p",{className:"text-amber-200 text-sm",children:'Navigate to "See Items" and click "Add Lab Test" on a processed batch'})]})]})})]})})]})}),f&&x&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"relative w-full max-w-2xl",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/50 to-blue-500/50 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800 to-slate-900 border border-emerald-500/30 rounded-2xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(rt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"✅ Test Saved on Blockchain!"}),s.jsxs("p",{className:"text-gray-400",children:["Transaction confirmed on ",x.network||"Sepolia Testnet"]})]})]}),s.jsx("button",{onClick:()=>m(!1),className:"p-2 bg-slate-700/50 hover:bg-slate-600/50 rounded-lg transition-all duration-200",children:s.jsx(J0,{className:"w-5 h-5 text-gray-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Test Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Batch ID:"}),s.jsx("span",{className:"text-white font-medium ml-2",children:x.batchId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Test Type:"}),s.jsx("span",{className:"text-white font-medium ml-2",children:x.testType})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Result:"}),s.jsx("span",{className:"text-white font-medium ml-2",children:x.result})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Status:"}),s.jsx("span",{className:`font-medium ml-2 ${x.status==="Passed"?"text-emerald-400":"text-red-400"}`,children:x.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Tester:"}),s.jsx("span",{className:"text-white font-medium ml-2",children:x.tester})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Herb Type:"}),s.jsx("span",{className:"text-white font-medium ml-2",children:(me=x.batch)==null?void 0:me.herbType})]})]})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-emerald-300 mb-3",children:"🔗 Blockchain Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Transaction Hash:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-emerald-300 font-mono text-sm",children:[x.transactionHash.substr(0,20),"..."]}),s.jsx("button",{onClick:()=>navigator.clipboard.writeText(x.transactionHash),className:"p-1 bg-emerald-500/20 hover:bg-emerald-500/30 rounded",children:s.jsx(B0,{className:"w-3 h-3 text-emerald-400"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Block Number:"}),s.jsx("span",{className:"text-white font-medium",children:x.blockNumber})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Gas Used:"}),s.jsx("span",{className:"text-white font-medium",children:x.gasUsed})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Network:"}),s.jsx("span",{className:"text-blue-400 font-medium",children:x.network})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Contract:"}),s.jsxs("span",{className:"text-gray-300 font-mono text-sm",children:[x.contractAddress.substr(0,10),"..."]})]})]})]}),s.jsxs("div",{className:"text-center bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4",children:[s.jsx("div",{className:"text-emerald-300 font-medium",children:"🎉 Your lab test data has been permanently recorded on the blockchain!"}),s.jsx("div",{className:"text-gray-400 text-sm mt-2",children:"This transaction provides immutable proof of your test results and cannot be altered."})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>navigator.clipboard.writeText(x.transactionHash),className:"flex-1 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-xl transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(B0,{className:"w-4 h-4"}),"Copy Transaction Hash"]}),x.explorerUrl&&s.jsxs("button",{onClick:()=>window.open(x.explorerUrl,"_blank"),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(ki,{className:"w-4 h-4"}),"View on Etherscan"]}),s.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-3 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold rounded-xl transition-all duration-200",children:"Continue"})]})]})]})]})})]})},cB=({user:t,showToast:e})=>{var $,J,P;const[r,n]=ie.useState([]),[a,i]=ie.useState(!0),[o,l]=ie.useState({isOpen:!1,batch:null}),[c,u]=ie.useState({quality:!1,purity:!1,authenticity:!1}),[f,m]=ie.useState(!1),[x,p]=ie.useState({isOpen:!1,txHash:null}),{collections:k}=K0(),{isConnected:w,submitToBlockchain:N,connectWallet:y}=km(),b=Ci(),A=(t==null?void 0:t.role)==="Admin";ie.useEffect(()=>{E()},[k]);const E=()=>{try{const S=localStorage.getItem("ayurherb_processing_steps"),W=S?JSON.parse(S):{},R=localStorage.getItem("ayurherb_lab_tests"),Z=R?JSON.parse(R):{},Y=localStorage.getItem("ayurherb_verifications"),z=Y?JSON.parse(Y):{};let D=k;if(!D||D.length===0){const q=localStorage.getItem("ayurherb_collections");D=q?JSON.parse(q):[]}const Q=[];Object.keys(W).forEach(q=>{var C,G;const ee=W[q];if(ee.length>0){const K=D.find(me=>me.batchId===q||me.id===q),te=Z[q]&&Z[q].length>0,oe=z[q]&&z[q].verified;K&&K.herbName&&Q.push({batchId:q,collection:K,processingSteps:ee,totalSteps:ee.length,lastProcessed:((C=ee[ee.length-1])==null?void 0:C.timestamp)||((G=ee[ee.length-1])==null?void 0:G.date),onChainVerified:ee.some(me=>{var ae;return(ae=me.blockchain)==null?void 0:ae.confirmed}),hasLabTest:te,labTests:Z[q]||[],isVerified:oe,verificationData:z[q]||null})}}),n(Q),i(!1)}catch(S){console.error("Error loading processed batches:",S),i(!1)}},U=S=>{switch(S){case"Drying":return ho;case"Grinding":return vo;case"Storage":return pt;case"Quality Check":return rt;case"Packaging":return pt;case"Cleaning":return Bt;default:return is}},V=S=>{var R,Z,Y,z,D,Q,q;const W={id:S.batchId,batchId:S.batchId,farmer:((R=S.collection)==null?void 0:R.collector)||((Z=S.collection)==null?void 0:Z.collectorId)||"Unknown",herb:((Y=S.collection)==null?void 0:Y.herbName)||"Unknown Herb",quantity:((z=S.collection)==null?void 0:z.quantity)||"N/A",location:((D=S.collection)==null?void 0:D.location)||"N/A",harvestDate:((Q=S.collection)==null?void 0:Q.harvestDate)||((q=S.collection)==null?void 0:q.submissionDate)||"N/A",status:"Ready for Testing",processingSteps:S.processingSteps,totalSteps:S.totalSteps,onChainVerified:S.onChainVerified};localStorage.setItem("selectedBatchForTesting",JSON.stringify(W)),b("/lab-test")},M=S=>{if(!A){e&&e("Access denied. Admin privileges required.","error");return}l({isOpen:!0,batch:S}),u({quality:!1,purity:!1,authenticity:!1})},_=async()=>{var R,Z,Y,z;const{batch:S}=o;if(!Object.values(c).every(D=>D)){e&&e("Please complete all verification checks before proceeding.","warning");return}if(!w){e&&e("Please connect your wallet to verify on blockchain.","warning");try{await y()}catch{e&&e("Failed to connect wallet. Please try again.","error");return}}m(!0);try{const D={batchId:S.batchId,herbName:(R=S.collection)==null?void 0:R.herbName,verificationChecks:c,verifiedBy:(t==null?void 0:t.name)||(t==null?void 0:t.email)||"Admin",verificationDate:new Date().toISOString(),adminAddress:(t==null?void 0:t.walletAddress)||"Admin",verificationStatus:"VERIFIED",qualityCheck:c.quality,purityCheck:c.purity,authenticityCheck:c.authenticity},Q=await N(D);if(Q.success){const q=JSON.parse(localStorage.getItem("ayurherb_verifications")||"{}");q[S.batchId]={...D,blockchain:Q.blockchain,txHash:(Z=Q.blockchain)==null?void 0:Z.transactionHash,blockNumber:(Y=Q.blockchain)==null?void 0:Y.blockNumber,verified:!0,verifiedAt:new Date().toISOString()},localStorage.setItem("ayurherb_verifications",JSON.stringify(q)),l({isOpen:!1,batch:null}),p({isOpen:!0,txHash:(z=Q.blockchain)==null?void 0:z.transactionHash}),E(),e&&e("Herb verification completed successfully!","success")}}catch(D){console.error("Verification failed:",D),e&&e("Verification failed. Please try again.","error")}finally{m(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black p-8",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-blue-500/20 to-emerald-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 to-blue-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(ki,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-purple-200 to-blue-300 bg-clip-text text-transparent mb-2",children:"See Item"}),s.jsx("p",{className:"text-xl text-gray-300 font-light",children:"View tested items and lab results"})]})]})})]}),a?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-gray-500/20 via-slate-500/20 to-gray-500/20 rounded-2xl blur"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500/30 border-t-purple-500 rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Loading tested items..."})]})})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Processed Items Ready for Testing"}),s.jsx("p",{className:"text-gray-400",children:"Items that have completed processing and are ready for lab testing"})]}),r.length>0?s.jsx("div",{className:"space-y-6",children:r.map((S,W)=>{const R=S.collection;return s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-8 hover:border-purple-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-400 via-blue-500 to-emerald-500 rounded-2xl blur-lg opacity-60 group-hover:opacity-80 transition-all duration-300"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-purple-500 via-blue-600 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl transform group-hover:scale-105 transition-all duration-300",children:s.jsx(as,{className:"w-10 h-10 text-white"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black bg-gradient-to-r from-white via-purple-200 to-blue-300 bg-clip-text text-transparent mb-1",children:(R==null?void 0:R.herbName)||"Unknown Herb"}),s.jsx("p",{className:"text-lg text-purple-300 font-medium",children:"Premium Quality Herb"})]}),s.jsxs("div",{className:"flex items-center gap-6 text-gray-300",children:[s.jsxs("span",{className:"flex items-center gap-2 bg-white/5 px-3 py-1 rounded-lg border border-white/10",children:[s.jsx(pt,{className:"w-4 h-4 text-purple-400"}),s.jsx("span",{className:"font-semibold",children:(R==null?void 0:R.quantity)||"N/A"})]}),s.jsxs("span",{className:"flex items-center gap-2 bg-white/5 px-3 py-1 rounded-lg border border-white/10",children:[s.jsx("span",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),s.jsx("span",{className:"font-semibold",children:(R==null?void 0:R.location)||"N/A"})]})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-purple-500/20 border border-purple-500/40 rounded-xl backdrop-blur-sm",children:[s.jsx(Bt,{className:"w-4 h-4 text-purple-400"}),s.jsxs("span",{className:"text-purple-300 text-sm font-bold",children:[S.totalSteps," Step",S.totalSteps!==1?"s":""]})]}),S.onChainVerified&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/40 rounded-xl backdrop-blur-sm",children:[s.jsx(Zr,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-bold",children:"On-Chain"})]}),s.jsx("div",{className:`flex items-center gap-2 px-4 py-2 rounded-xl backdrop-blur-sm ${S.hasLabTest?"bg-green-500/20 border border-green-500/40":"bg-emerald-500/20 border border-emerald-500/40"}`,children:S.hasLabTest?s.jsxs(s.Fragment,{children:[s.jsx(rt,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-green-300 text-sm font-bold",children:"Test Completed"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ji,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-bold",children:"Ready for Testing"})]})}),S.isVerified&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-yellow-500/20 border border-yellow-500/40 rounded-xl backdrop-blur-sm",children:[s.jsx(Ba,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-300 text-sm font-bold",children:"Admin Verified"})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[S.hasLabTest?s.jsx("div",{className:"group relative overflow-hidden px-6 py-3 bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 text-white font-bold rounded-xl cursor-default opacity-90",children:s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx(rt,{className:"w-5 h-5"}),s.jsx("span",{children:"Test Done"})]})}):s.jsxs("button",{onClick:()=>V(S),className:"group relative overflow-hidden px-6 py-3 bg-gradient-to-r from-emerald-500 via-blue-500 to-purple-500 text-white font-bold rounded-xl transition-all duration-300 hover:shadow-2xl hover:shadow-emerald-500/25 transform hover:scale-105",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-600 via-blue-600 to-purple-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx(ji,{className:"w-5 h-5"}),s.jsx("span",{children:"Add Lab Test"})]})]}),A&&(S.isVerified?s.jsx("div",{className:"group relative overflow-hidden px-6 py-3 bg-gradient-to-r from-yellow-500 via-amber-500 to-orange-500 text-white font-bold rounded-xl cursor-default opacity-90",children:s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx(Ba,{className:"w-5 h-5"}),s.jsx("span",{children:"Verified"})]})}):s.jsxs("button",{onClick:()=>M(S),className:"group relative overflow-hidden px-6 py-3 bg-gradient-to-r from-yellow-500 via-amber-500 to-orange-500 text-white font-bold rounded-xl transition-all duration-300 hover:shadow-2xl hover:shadow-yellow-500/25 transform hover:scale-105",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600 via-amber-600 to-orange-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx(Ba,{className:"w-5 h-5"}),s.jsx("span",{children:"Verify"})]})]}))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-purple-500/30 to-blue-500/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:border-purple-500/40 transition-all duration-300",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-bold mb-2",children:"Batch ID"}),s.jsx("p",{className:"text-purple-400 font-black text-lg",children:S.batchId})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500/30 to-emerald-500/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:border-blue-500/40 transition-all duration-300",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-bold mb-2",children:"Collector"}),s.jsx("p",{className:"text-blue-400 font-black text-lg",children:(R==null?void 0:R.collector)||(R==null?void 0:R.collectorId)||"Junaid"})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:border-emerald-500/40 transition-all duration-300",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-bold mb-2",children:"Last Processed"}),s.jsx("p",{className:"text-emerald-400 font-black text-lg",children:S.lastProcessed||"N/A"})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-teal-500/30 to-cyan-500/30 rounded-xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:border-teal-500/40 transition-all duration-300",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-bold mb-2",children:"Status"}),s.jsx("p",{className:"text-teal-400 font-black text-lg",children:"Ready for Lab"})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-blue-500/20 to-emerald-500/20 rounded-2xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-6",children:[s.jsxs("h4",{className:"text-2xl font-black bg-gradient-to-r from-white via-purple-200 to-blue-300 bg-clip-text text-transparent mb-2 flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-400 to-blue-500 rounded-xl blur opacity-60"}),s.jsx("div",{className:"relative w-10 h-10 bg-gradient-to-r from-purple-500 to-blue-600 rounded-xl flex items-center justify-center",children:s.jsx(is,{className:"w-6 h-6 text-white"})})]}),"Completed Processing Steps"]}),s.jsx("p",{className:"text-purple-300 font-medium",children:"All processing stages completed and verified"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:S.processingSteps.map((Z,Y)=>{var D;const z=U(Z.stepType);return s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-blue-500/20 to-emerald-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/12 to-white/8 backdrop-blur-sm rounded-2xl p-6 border border-white/30 hover:border-purple-500/50 transition-all duration-300 shadow-xl transform group-hover:scale-105",children:[s.jsxs("div",{className:"flex items-start justify-between mb-5",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-400 via-blue-500 to-emerald-500 rounded-2xl blur-lg opacity-60 group-hover:opacity-80 transition-all duration-300"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-purple-500 via-blue-600 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl transform group-hover:rotate-6 transition-all duration-300",children:s.jsx(z,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-xl font-black bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent mb-1",children:Z.stepType}),s.jsx("p",{className:"text-purple-300 text-sm font-semibold",children:Z.timestamp||Z.date})]})]}),((D=Z.blockchain)==null?void 0:D.confirmed)&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-500/20 border border-blue-500/40 rounded-xl backdrop-blur-sm",children:[s.jsx(Bt,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-400 text-xs font-bold",children:"On-Chain"})]})]}),s.jsxs("div",{className:"space-y-3",children:[Z.temperature&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/30 rounded-xl backdrop-blur-sm",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:s.jsx(ho,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-300 text-xs font-bold uppercase tracking-wide",children:"Temperature"}),s.jsx("p",{className:"text-white font-bold",children:Z.temperature})]})]}),Z.duration&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/30 rounded-xl backdrop-blur-sm",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:s.jsx(zt,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-300 text-xs font-bold uppercase tracking-wide",children:"Duration"}),s.jsx("p",{className:"text-white font-bold",children:Z.duration})]})]}),Z.notes&&s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gradient-to-r from-gray-500/10 to-slate-500/10 border border-gray-500/30 rounded-xl backdrop-blur-sm",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-500 to-slate-500 rounded-lg flex items-center justify-center mt-0.5",children:s.jsx(nn,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-300 text-xs font-bold uppercase tracking-wide mb-1",children:"Notes"}),s.jsx("p",{className:"text-white font-medium leading-relaxed",children:Z.notes})]})]})]})]})]},Y)})})]})]})]},S.batchId)})}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"relative mb-8",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-500/30 to-blue-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-purple-500/20 to-blue-600/20 border-2 border-purple-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm",children:s.jsx(ji,{className:"w-12 h-12 text-purple-400"})})]})}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"No Processed Items Available"}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Processed items from the processor will appear here ready for lab testing."})]})]})]}),o.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"relative max-w-2xl w-full",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500/30 via-amber-500/30 to-orange-500/30 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/95 via-gray-800/95 to-gray-900/95 backdrop-blur-xl border border-yellow-500/30 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 rounded-2xl blur-lg opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-yellow-500 via-amber-600 to-orange-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Ba,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black bg-gradient-to-r from-white via-yellow-200 to-amber-300 bg-clip-text text-transparent",children:"Admin Verification"}),s.jsxs("p",{className:"text-yellow-300 font-medium",children:[((J=($=o.batch)==null?void 0:$.collection)==null?void 0:J.herbName)||"Unknown Herb"," - ",(P=o.batch)==null?void 0:P.batchId]})]})]}),s.jsx("button",{onClick:()=>l({isOpen:!1,batch:null}),className:"w-10 h-10 bg-red-500/20 hover:bg-red-500/30 border border-red-500/40 rounded-xl flex items-center justify-center transition-all duration-300 hover:scale-110",children:s.jsx(J0,{className:"w-5 h-5 text-red-400"})})]}),s.jsxs("div",{className:"space-y-6 mb-8",children:[s.jsx("h4",{className:"text-xl font-bold text-white mb-4",children:"Complete all verification checks:"}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-green-500/40 transition-all duration-300",children:s.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:c.quality,onChange:S=>u(W=>({...W,quality:S.target.checked})),className:"sr-only"}),s.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-300 ${c.quality?"bg-green-500 border-green-500":"border-gray-400 hover:border-green-400"}`,children:c.quality&&s.jsx(rt,{className:"w-4 h-4 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"text-lg font-bold text-white mb-1",children:"Quality Verification"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Confirm that the herb meets quality standards and specifications"})]})]})})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-blue-500/40 transition-all duration-300",children:s.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:c.purity,onChange:S=>u(W=>({...W,purity:S.target.checked})),className:"sr-only"}),s.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-300 ${c.purity?"bg-blue-500 border-blue-500":"border-gray-400 hover:border-blue-400"}`,children:c.purity&&s.jsx(rt,{className:"w-4 h-4 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"text-lg font-bold text-white mb-1",children:"Purity Verification"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Verify that the herb is free from contaminants and adulterants"})]})]})})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-purple-500/40 transition-all duration-300",children:s.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:c.authenticity,onChange:S=>u(W=>({...W,authenticity:S.target.checked})),className:"sr-only"}),s.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-300 ${c.authenticity?"bg-purple-500 border-purple-500":"border-gray-400 hover:border-purple-400"}`,children:c.authenticity&&s.jsx(rt,{className:"w-4 h-4 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"text-lg font-bold text-white mb-1",children:"Authenticity Verification"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Confirm the herb's identity and origin authenticity"})]})]})})]})]}),!w&&s.jsxs("div",{className:"mb-6 p-4 bg-orange-500/20 border border-orange-500/40 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nn,{className:"w-5 h-5 text-orange-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-300 font-medium",children:"Wallet Connection Required"}),s.jsx("p",{className:"text-orange-200 text-sm",children:"Connect your wallet to verify on Sepolia blockchain"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Xx,{})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>l({isOpen:!1,batch:null}),className:"flex-1 px-6 py-3 bg-gray-600/50 hover:bg-gray-600/70 border border-gray-500/50 rounded-xl text-white font-medium transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:_,disabled:f||!Object.values(c).every(S=>S),className:`flex-1 px-6 py-3 rounded-xl font-bold transition-all duration-300 ${f||!Object.values(c).every(S=>S)?"bg-gray-500/50 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 via-amber-500 to-orange-500 text-white hover:shadow-2xl hover:shadow-yellow-500/25 transform hover:scale-105"}`,children:f?s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}),s.jsx("span",{children:"Verifying..."})]}):s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(Bt,{className:"w-5 h-5"}),s.jsx("span",{children:"Verify on Blockchain"})]})})]})]})]})}),x.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"relative max-w-lg w-full",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/30 via-emerald-500/30 to-teal-500/30 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/95 via-gray-800/95 to-gray-900/95 backdrop-blur-xl border border-green-500/30 rounded-3xl p-8 text-center",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-green-400 via-emerald-500 to-teal-500 rounded-full blur-2xl opacity-60 animate-pulse"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-green-500 via-emerald-600 to-teal-600 rounded-full flex items-center justify-center shadow-2xl mx-auto",children:s.jsx(rt,{className:"w-10 h-10 text-white"})})]}),s.jsx("h3",{className:"text-3xl font-black bg-gradient-to-r from-white via-green-200 to-emerald-300 bg-clip-text text-transparent mb-4",children:"Verification Confirmed!"}),s.jsx("p",{className:"text-green-300 font-medium mb-6",children:"The herb has been successfully verified and recorded on the Sepolia blockchain."}),x.txHash&&s.jsxs("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/40 rounded-xl",children:[s.jsx("p",{className:"text-green-300 text-sm font-medium mb-2",children:"Transaction Hash:"}),s.jsx("p",{className:"text-white text-xs font-mono break-all",children:x.txHash}),s.jsxs("a",{href:`https://sepolia.etherscan.io/tx/${x.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 px-4 py-2 bg-green-500/30 hover:bg-green-500/40 border border-green-500/50 rounded-lg text-green-300 text-sm font-medium transition-all duration-300",children:[s.jsx(Zr,{className:"w-4 h-4"}),"View on Etherscan"]})]}),s.jsx("button",{onClick:()=>p({isOpen:!1,txHash:null}),className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 text-white font-bold rounded-xl transition-all duration-300 hover:shadow-2xl hover:shadow-green-500/25 transform hover:scale-105",children:"Continue"})]})]})})]})},dB=({user:t,showToast:e})=>{const{batchId:r}=Dx(),n=Ci(),[a,i]=ie.useState(null),[o,l]=ie.useState(!0),[c,u]=ie.useState([]),[f,m]=ie.useState(!1);ie.useEffect(()=>{r&&(x(),p())},[r]);const x=async()=>{try{l(!0);const w=await ad.getBatchById(r);i(w)}catch{e("Failed to load batch details","error"),n("/lab-testing")}finally{l(!1)}},p=()=>{u([{id:1,testType:"Moisture Content",result:"8.5%",status:"Passed",testDate:"2024-09-23",technician:"Dr. Sarah Wilson",method:"Gravimetric Analysis",notes:"Within acceptable range"},{id:2,testType:"Pesticide Screening",result:"Not Detected",status:"Passed",testDate:"2024-09-23",technician:"Dr. Sarah Wilson",method:"LC-MS/MS",notes:"All compounds below detection limit"},{id:3,testType:"DNA Authentication",result:"Confirmed",status:"Passed",testDate:"2024-09-22",technician:"Dr. Mike Chen",method:"PCR Analysis",notes:"Species identity verified"},{id:4,testType:"Heavy Metals",result:"Pending",status:"In Progress",testDate:"2024-09-24",technician:"Dr. Sarah Wilson",method:"ICP-MS",notes:"Analysis in progress"}])},k=w=>{switch(w.toLowerCase()){case"passed":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Passed"})]});case"failed":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-red-500/20 border border-red-500/30 rounded-full",children:[s.jsx(Il,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:"text-red-300 text-sm font-medium",children:"Failed"})]});case"in progress":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 border border-yellow-500/30 rounded-full",children:[s.jsx(zt,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-300 text-sm font-medium",children:"In Progress"})]});default:return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-500/20 border border-gray-500/30 rounded-full",children:[s.jsx(zt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Pending"})]})}};return o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),s.jsx("div",{className:"absolute inset-0 w-32 h-32 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]})}):a?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black p-8 space-y-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-emerald-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("button",{onClick:()=>n("/lab-testing"),className:"p-3 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600/50 rounded-xl transition-all duration-200",children:s.jsx(nd,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Uv,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-blue-200 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Batch Details"}),s.jsxs("p",{className:"text-xl text-gray-300 font-light",children:[a.id," • ",a.herb," • Lab Testing View"]}),s.jsx("div",{className:"flex items-center gap-4 mt-4",children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(ji,{className:"w-3 h-3 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"Lab Analysis"})]})})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center gap-2 shadow-lg hover:shadow-xl",children:[s.jsx(Ra,{className:"w-5 h-5"}),"Add New Test"]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/20 via-emerald-500/20 to-teal-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(as,{className:"w-6 h-6 text-emerald-400"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Farmer & Batch Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Si,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Farmer"}),s.jsx("p",{className:"text-white font-semibold",children:a.farmer})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pt,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Species"}),s.jsx("p",{className:"text-white font-semibold",children:a.herb})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Zn,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"GPS Location"}),s.jsx("p",{className:"text-white font-semibold",children:a.gpsCoordinates||a.location})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ni,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Harvest Date"}),s.jsx("p",{className:"text-white font-semibold",children:new Date(a.harvestDate||a.submissionDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pt,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Quantity"}),s.jsx("p",{className:"text-white font-semibold",children:a.quantity})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pi,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-400 text-sm",children:"Quality Grade"}),s.jsx("p",{className:"text-white font-semibold",children:a.qualityGrade||"Standard (A)"})]})]})]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 via-blue-500/20 to-indigo-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(is,{className:"w-6 h-6 text-purple-400"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Processing Steps"})]}),s.jsx("div",{className:"space-y-4",children:a.processingSteps&&a.processingSteps.length>0?a.processingSteps.map((w,N)=>s.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-white font-semibold",children:w.step||w.stepType}),s.jsx("span",{className:"text-emerald-400 text-sm",children:w.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-300",children:[w.temperature&&s.jsxs("div",{children:["Temperature: ",w.temperature]}),w.duration&&s.jsxs("div",{children:["Duration: ",w.duration]}),s.jsxs("div",{children:["Date: ",w.date]}),w.notes&&s.jsxs("div",{className:"col-span-2",children:["Notes: ",w.notes]})]})]},N)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(is,{className:"w-12 h-12 text-gray-600 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400",children:"No processing steps recorded"})]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-cyan-500/20 to-teal-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(j6,{className:"w-6 h-6 text-blue-400"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Test Results"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(ji,{className:"w-4 h-4 text-blue-400"}),s.jsxs("span",{className:"text-blue-300 text-sm font-medium",children:[c.length," Tests"]})]})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-800/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Test Type"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Result"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Technician"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-700/50",children:c.map(w=>s.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cn,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-white font-medium",children:w.testType})]})}),s.jsx("td",{className:"px-6 py-4 text-gray-300",children:w.result}),s.jsx("td",{className:"px-6 py-4",children:k(w.status)}),s.jsx("td",{className:"px-6 py-4 text-gray-300",children:new Date(w.testDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 text-gray-300",children:w.technician}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"p-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 rounded-lg transition-all duration-200",children:s.jsx(ki,{className:"w-4 h-4 text-blue-400"})}),s.jsx("button",{className:"p-2 bg-emerald-500/20 hover:bg-emerald-500/30 border border-emerald-500/30 rounded-lg transition-all duration-200",children:s.jsx(Qc,{className:"w-4 h-4 text-emerald-400"})})]})})]},w.id))})]})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/20 via-red-500/20 to-pink-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>m(!0),className:"w-full p-4 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center gap-3",children:[s.jsx(Ra,{className:"w-5 h-5"}),"Add New Test"]}),s.jsxs("button",{className:"w-full p-4 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600/50 text-white font-medium rounded-xl transition-all duration-200 flex items-center gap-3",children:[s.jsx(Jc,{className:"w-5 h-5"}),"Generate Report"]}),s.jsxs("button",{className:"w-full p-4 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600/50 text-white font-medium rounded-xl transition-all duration-200 flex items-center gap-3",children:[s.jsx(Qc,{className:"w-5 h-5"}),"Export Data"]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500/20 via-purple-500/20 to-pink-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Batch Summary"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Total Tests"}),s.jsx("span",{className:"text-white font-semibold",children:c.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Passed"}),s.jsx("span",{className:"text-emerald-400 font-semibold",children:c.filter(w=>w.status==="Passed").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"In Progress"}),s.jsx("span",{className:"text-yellow-400 font-semibold",children:c.filter(w=>w.status==="In Progress").length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Quality Score"}),s.jsxs("span",{className:"text-white font-semibold",children:[a.qualityScore||94,"%"]})]})]})]})]})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Cn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Batch not found"})]})})},uB=({user:t,showToast:e})=>{const r=Ci(),{batchId:n}=Dx(),{collections:a,getCollectionById:i}=K0(),{account:o,isConnected:l,connectWallet:c,submitToBlockchain:u}=km(),[f,m]=ie.useState(null),[x,p]=ie.useState(null),[k,w]=ie.useState(!0),[N,y]=ie.useState(!1),[b,A]=ie.useState(""),[E,U]=ie.useState(!1),[V,M]=ie.useState({stepType:"",temperature:"",duration:"",notes:""}),_=[{value:"Drying",label:"Drying Process",icon:XP,emoji:"🔥",color:"from-orange-400 via-red-500 to-pink-500",bgColor:"bg-gradient-to-br from-orange-500/30 to-red-500/20",borderColor:"border-orange-400/60",description:"Remove moisture content",particles:"🌡️💨"},{value:"Grinding",label:"Grinding & Milling",icon:vo,emoji:"⚙️",color:"from-blue-400 via-indigo-500 to-purple-500",bgColor:"bg-gradient-to-br from-blue-500/30 to-indigo-500/20",borderColor:"border-blue-400/60",description:"Mechanical processing",particles:"⚡🔧"},{value:"Storage",label:"Storage & Preservation",icon:pt,emoji:"📦",color:"from-purple-400 via-pink-500 to-rose-500",bgColor:"bg-gradient-to-br from-purple-500/30 to-pink-500/20",borderColor:"border-purple-400/60",description:"Safe storage conditions",particles:"🏪❄️"},{value:"Quality Check",label:"Quality Assurance",icon:on,emoji:"🔍",color:"from-emerald-400 via-teal-500 to-cyan-500",bgColor:"bg-gradient-to-br from-emerald-500/30 to-teal-500/20",borderColor:"border-emerald-400/60",description:"Quality verification",particles:"✨🎯"},{value:"Packaging",label:"Final Packaging",icon:pt,emoji:"📦",color:"from-yellow-400 via-amber-500 to-orange-500",bgColor:"bg-gradient-to-br from-yellow-500/30 to-amber-500/20",borderColor:"border-yellow-400/60",description:"Product packaging",particles:"📦🎁"},{value:"Cleaning",label:"Cleaning & Sanitization",icon:v6,emoji:"🧽",color:"from-cyan-400 via-blue-500 to-teal-500",bgColor:"bg-gradient-to-br from-cyan-500/30 to-blue-500/20",borderColor:"border-cyan-400/60",description:"Cleaning procedures",particles:"💧✨"}];ie.useEffect(()=>{if(n){const R=a.find(Z=>Z.batchId&&Z.batchId===n||Z.id===n);R?(p(R),m(R),A(n),w(!1)):$()}else m(null),w(!1)},[n,a]);const $=async()=>{try{w(!0);const R=await ad.getBatchById(n);m(R)}catch{e("Failed to load batch details","error"),r("/dashboard")}finally{w(!1)}},J=R=>{const{name:Z,value:Y}=R.target;M(z=>({...z,[Z]:Y}))},P=async R=>{if(R.preventDefault(),!b.trim()){e("Please enter a Batch ID to search","error");return}try{U(!0);const Z=a.find(Y=>Y.batchId&&Y.batchId.toLowerCase()===b.trim().toLowerCase());if(Z)p(Z),m(Z),e(`Collection with Batch ID "${Z.batchId}" loaded successfully`,"success");else try{const Y=await ad.getBatchById(b.trim());m(Y),e(`Batch ${Y.batchId||Y.id} loaded successfully`,"success")}catch{e(`No collection found with Batch ID "${b}"`,"error"),p(null),m(null)}}catch(Z){e(`Error searching for batch: ${Z.message}`,"error")}finally{U(!1)}},S=async R=>{if(R.preventDefault(),!f&&!x){e("❌ No herb selected! Please search and select a batch first","error");return}if(!V.stepType){e("❌ Please select a processing step type","error");return}if(!V.duration){e("❌ Please enter the duration for this processing step","error");return}if(!l){e("❌ Please connect your wallet first to save on blockchain","error");return}console.log("✅ All validations passed, proceeding with blockchain transaction...");try{y(!0),e("Preparing blockchain transaction...","info");const Z={batchId:(f==null?void 0:f.batchId)||(f==null?void 0:f.id)||n,processorId:(t==null?void 0:t.id)||"PROC001",processorAddress:o,stepType:V.stepType,temperature:V.temperature?parseFloat(V.temperature):null,duration:V.duration?parseInt(V.duration):null,notes:V.notes||"",timestamp:new Date().toISOString()};e("🦊 Opening MetaMask... Please confirm the transaction","info");const Y=await u(Z);if(Y.success){const z=localStorage.getItem("ayurherb_processing_steps"),D=z?JSON.parse(z):{},Q=(f==null?void 0:f.batchId)||(f==null?void 0:f.id)||n;D[Q]||(D[Q]=[]);const q={id:Date.now().toString(),stepType:V.stepType,temperature:V.temperature,duration:V.duration,notes:V.notes,date:new Date().toISOString().split("T")[0],timestamp:new Date().toLocaleString(),status:"Completed",blockchain:{transactionHash:Y.transactionHash,blockNumber:Y.blockNumber,gasUsed:Y.gasUsed,network:"Sepolia Testnet",contractAddress:Y.contractAddress,confirmed:!0,processorAddress:o}};D[Q].push(q),localStorage.setItem("ayurherb_processing_steps",JSON.stringify(D)),e(`✅ Processing step saved with blockchain proof!
Tx Hash: ${Y.transactionHash.substring(0,20)}...`,"success"),W(Y.transactionHash,Y),M({stepType:"",temperature:"",duration:"",notes:""})}else throw new Error(Y.error||"Transaction failed")}catch(Z){console.error("Error saving processing step:",Z),Z.code===4001?e("Transaction cancelled by user","warning"):e("Failed to save to blockchain: "+Z.message,"error")}finally{y(!1)}},W=(R,Z)=>{const Y=document.createElement("div");Y.className="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",Y.innerHTML=`
      <div class="bg-slate-800 border border-slate-700 rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl">
        <div class="text-center mb-6">
          <div class="w-16 h-16 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
            </svg>
          </div>
          <h3 class="text-2xl font-bold text-white mb-2">Blockchain Transaction Confirmed!</h3>
          <p class="text-gray-400">Processing step linked to Sepolia transaction</p>
        </div>
        
        <div class="space-y-4 mb-6">
          <div class="bg-slate-700/50 rounded-lg p-4">
            <p class="text-sm text-gray-400 mb-1">Transaction Hash</p>
            <p class="text-white font-mono text-xs break-all">${R}</p>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="bg-slate-700/50 rounded-lg p-3">
              <p class="text-sm text-gray-400 mb-1">Block Number</p>
              <p class="text-white font-semibold">#${Z.blockNumber}</p>
            </div>
            <div class="bg-slate-700/50 rounded-lg p-3">
              <p class="text-sm text-gray-400 mb-1">Gas Used</p>
              <p class="text-white font-semibold">${Z.gasUsed}</p>
            </div>
          </div>
          <div class="bg-slate-700/50 rounded-lg p-3">
            <p class="text-sm text-gray-400 mb-1">Network</p>
            <p class="text-white font-semibold">${Z.network}</p>
          </div>
        </div>
        
        <div class="flex gap-3">
          <button onclick="navigator.clipboard.writeText('${R}'); this.textContent='Copied!'" class="flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-lg transition-all duration-200">
            Copy Hash
          </button>
          <button onclick="window.open('https://sepolia.etherscan.io/tx/${R}', '_blank')" class="flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-all duration-200">
            View on Etherscan
          </button>
          <button onclick="this.closest('.fixed').remove()" class="flex-1 px-4 py-2 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold rounded-lg transition-all duration-200">
            Continue
          </button>
        </div>
      </div>
    `,document.body.appendChild(Y),setTimeout(()=>{Y.parentNode&&Y.remove()},15e3)};return k?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 border-4 border-purple-500/30 border-t-purple-500 rounded-full animate-spin"}),s.jsx("div",{className:"absolute inset-0 w-32 h-32 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),s.jsx("div",{className:"absolute inset-4 w-24 h-24 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin",style:{animationDuration:"2s"}})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-gray-900 relative",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(255,255,255,0.15) 1px, transparent 0)",backgroundSize:"20px 20px"}})}),s.jsxs("div",{className:"relative z-10 space-y-12 p-8",children:[s.jsx("div",{className:"relative z-20",children:s.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("button",{onClick:()=>r("/dashboard"),className:"p-3 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600/50 rounded-xl transition-all duration-200",children:s.jsx(nd,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-emerald-500 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(Ra,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Add Processing Step"}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-400/30 rounded-full",children:[s.jsx(Bt,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"Blockchain Secured"})]})]}),s.jsx("p",{className:"text-lg text-gray-300",children:"Choose the type of processing operation to perform"}),s.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full"}),s.jsx("span",{className:"text-emerald-300 text-sm",children:"Ready"})]}),l?s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-400/30 rounded-full",children:[s.jsx(ea,{className:"w-3 h-3 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm",children:"Wallet Connected"})]}):s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-orange-500/20 border border-orange-400/30 rounded-full",children:[s.jsx(nn,{className:"w-3 h-3 text-orange-400"}),s.jsx("span",{className:"text-orange-300 text-sm",children:"Wallet Not Connected"})]})]})]}),s.jsx("div",{className:"flex items-start relative z-50",children:s.jsx(Xx,{})})]})})}),s.jsx("div",{className:"relative z-10 mt-8",children:s.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-emerald-500 rounded-xl flex items-center justify-center",children:s.jsx(an,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Search Batch"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Enter Batch ID to load specific batch"})]})]}),s.jsx("div",{className:"flex-1 max-w-md ml-auto",children:s.jsxs("form",{onSubmit:P,className:"flex gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:"text",value:b,onChange:R=>A(R.target.value),placeholder:"Enter Batch ID (e.g., COL001, BAT-2024-001)",className:"w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-xl text-white placeholder-gray-400 focus:border-emerald-500 focus:outline-none transition-all duration-200 pr-12"}),s.jsx(an,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),s.jsx("button",{type:"submit",disabled:E||!b.trim(),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Searching..."]}):s.jsxs(s.Fragment,{children:[s.jsx(an,{className:"w-4 h-4"}),"Search"]})})]})})]}),f?s.jsx("div",{className:"mt-4 pt-4 border-t border-slate-600/50",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Batch Loaded"})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("span",{className:"font-semibold",children:f.batchId||f.id}),s.jsxs("span",{className:"text-gray-400 ml-2",children:["• ",f.herbName||f.herb," • ",f.collector||f.farmer||"Junaid"]})]})]})}):s.jsx("div",{className:"mt-4 pt-4 border-t border-slate-600/50",children:s.jsxs("div",{className:"flex items-center gap-3 text-orange-400 bg-orange-500/10 border border-orange-500/20 rounded-lg p-3",children:[s.jsx(nn,{className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium",children:"⚠️ No herb batch selected"}),s.jsx("p",{className:"text-xs text-orange-300 mt-1",children:"Search for a batch above to start adding processing steps"})]})]})})]})}),x&&s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl flex items-center justify-center",children:s.jsx(as,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Collection Details"}),s.jsx("p",{className:"text-gray-400",children:"Submitted collection data ready for processing"})]}),s.jsx("div",{className:"ml-auto",children:s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-green-500/20 border border-green-500/30 rounded-full",children:[s.jsx(rt,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-green-300 text-sm font-semibold",children:"Verified"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(as,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Herb Name"})]}),s.jsx("p",{className:"text-white text-lg font-bold",children:x.herbName})]}),s.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(pt,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Quantity"})]}),s.jsx("p",{className:"text-white text-lg font-bold",children:x.quantity})]}),s.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Zn,{className:"w-5 h-5 text-purple-400"}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Location"})]}),s.jsx("p",{className:"text-white text-lg font-bold",children:x.location})]}),s.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Zr,{className:"w-5 h-5 text-cyan-400"}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Batch ID"})]}),s.jsx("p",{className:"text-white text-lg font-bold",children:x.batchId})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Jc,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Collector ID"})]}),s.jsx("p",{className:"text-white font-semibold",children:x.collectorId||"Not specified"})]}),s.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(zt,{className:"w-5 h-5 text-orange-400"}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Submission Date"})]}),s.jsx("p",{className:"text-white font-semibold",children:x.timestamp})]})]}),x.notes&&s.jsxs("div",{className:"mt-6 bg-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Jc,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Collection Notes"})]}),s.jsx("p",{className:"text-white",children:x.notes})]})]})}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 shadow-lg",children:s.jsxs("form",{onSubmit:S,className:"space-y-12",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-emerald-500 rounded-xl flex items-center justify-center",children:s.jsx(vo,{className:"w-5 h-5 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Select Processing Step"})]}),s.jsx("p",{className:"text-gray-400",children:"Choose the type of processing operation to perform"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:_.map((R,Z)=>{const Y=R.icon,z=V.stepType===R.value;return s.jsx("div",{className:"group",children:s.jsxs("button",{type:"button",onClick:()=>M(D=>({...D,stepType:R.value})),className:`relative w-full p-6 rounded-2xl border transition-all duration-300 ${z?`${R.bgColor} ${R.borderColor} shadow-lg`:"bg-slate-700/50 border-slate-600/50 hover:bg-slate-600/50 hover:border-slate-500/50 hover:shadow-md"}`,children:[s.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-xl flex items-center justify-center transition-all duration-300 ${z?`bg-gradient-to-r ${R.color}`:"bg-slate-600/50 group-hover:bg-slate-500/50"}`,children:s.jsx(Y,{className:`w-8 h-8 transition-colors duration-300 ${z?"text-white":"text-gray-300 group-hover:text-white"}`})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:`text-lg font-semibold transition-colors duration-300 ${z?"text-white":"text-gray-200 group-hover:text-white"}`,children:R.label}),s.jsx("p",{className:`text-sm transition-colors duration-300 ${z?"text-gray-200":"text-gray-400 group-hover:text-gray-300"}`,children:R.description}),s.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[s.jsx(Zr,{className:`w-3 h-3 transition-colors duration-300 ${z?"text-blue-300":"text-blue-400/60 group-hover:text-blue-400"}`}),s.jsx("span",{className:`text-xs transition-colors duration-300 ${z?"text-blue-300":"text-blue-400/60 group-hover:text-blue-400"}`,children:"Blockchain Verified"})]})]}),z&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:s.jsx(rt,{className:"w-4 h-4 text-emerald-500"})})})]})},R.value)})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Processing Parameters"}),s.jsx("p",{className:"text-gray-400",children:"Configure the settings for your operation"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(ho,{className:"w-4 h-4 text-orange-400"}),"Temperature in Degree Celsius"]}),s.jsxs("div",{className:"relative",children:[s.jsx(ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-orange-400"}),s.jsx("input",{type:"text",name:"temperature",value:V.temperature,onChange:J,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 transition-all duration-200",placeholder:"e.g., 60°C, Room temp, N/A"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(zt,{className:"w-4 h-4 text-blue-400"}),"Duration *"]}),s.jsxs("div",{className:"relative",children:[s.jsx(zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-blue-400"}),s.jsx("input",{type:"text",name:"duration",value:V.duration,onChange:J,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200",placeholder:"e.g., 2 hours, 30 minutes, 1 day",required:!0})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Additional Notes"}),s.jsx("p",{className:"text-gray-400",children:"Document important details and observations"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Jc,{className:"absolute left-3 top-3 w-5 h-5 text-emerald-400"}),s.jsx("textarea",{name:"notes",value:V.notes,onChange:J,rows:6,className:"w-full pl-12 pr-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 resize-none transition-all duration-200",placeholder:`Add any additional notes about this processing step...\r
\r
• Equipment used and settings\r
• Quality observations  \r
• Environmental conditions\r
• Special handling requirements`})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-400/20 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(zv,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"text-sm font-semibold text-white",children:"Blockchain Security"}),s.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:"This processing step will be permanently recorded on the blockchain for immutable traceability. Once saved, the data cannot be altered, ensuring complete transparency and authenticity for your supply chain."})]})]})}),s.jsxs("div",{className:"flex gap-4 pt-8",children:[s.jsxs("button",{type:"button",onClick:()=>r("/dashboard"),className:"flex-1 py-3 px-6 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600/50 text-white font-medium rounded-xl transition-all duration-200 flex items-center justify-center gap-2",children:[s.jsx(nd,{className:"w-4 h-4"}),"Cancel"]}),s.jsx("button",{type:"submit",disabled:N||!f&&!x||!V.stepType||!V.duration||!l,className:"flex-1 py-3 px-6 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:N?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving to Blockchain..."]}):!f&&!x?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-5 h-5"}),"Select Herb First"]}):!V.stepType||!V.duration?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-5 h-5"}),"Fill Required Fields"]}):l?s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-5 h-5"}),"Save on Blockchain"]}):s.jsxs(s.Fragment,{children:[s.jsx(ea,{className:"w-5 h-5"}),"Connect Wallet to Save"]})})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[s.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${f||x?"bg-emerald-500":"bg-gray-600"}`}),s.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${V.stepType?"bg-emerald-500":"bg-gray-600"}`}),s.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${V.duration?"bg-emerald-500":"bg-gray-600"}`}),s.jsx("div",{className:`w-3 h-3 rounded-full transition-all duration-300 ${V.notes?"bg-emerald-500":"bg-gray-600"}`}),s.jsx("div",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsx("div",{className:`w-3 h-3 rounded-full flex items-center justify-center transition-all duration-300 ${l?"bg-blue-500":"bg-gray-600"}`,children:s.jsx(Zr,{className:"w-2 h-2 text-white"})})]}),s.jsx("p",{className:"text-center text-sm text-gray-400 mt-2",children:!f&&!x?s.jsx("span",{className:"flex items-center justify-center gap-2 text-orange-400",children:"🔍 Search and select a herb batch first"}):!V.stepType||!V.duration?s.jsx("span",{className:"flex items-center justify-center gap-2 text-yellow-400",children:"⏳ Fill required fields for blockchain storage"}):l?s.jsxs("span",{className:"flex items-center justify-center gap-2 text-emerald-400",children:["✅ Ready to save to blockchain",s.jsx(Bt,{className:"w-3 h-3 text-blue-400"})]}):s.jsx("span",{className:"flex items-center justify-center gap-2 text-blue-400",children:"🦊 Connect wallet to save on blockchain"})})]})})})]})]})};function Ht(t){"@babel/helpers - typeof";return Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(t)}var Cs=Uint8Array,Pn=Uint16Array,cy=Int32Array,Zx=new Cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e1=new Cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),I5=new Cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jk=function(t,e){for(var r=new Pn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new cy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Ak=jk(Zx,2),kk=Ak.b,T5=Ak.r;kk[28]=258,T5[258]=28;var Sk=jk(e1,0),hB=Sk.b,I3=Sk.r,_5=new Pn(32768);for(var rr=0;rr<32768;++rr){var Vo=(rr&43690)>>1|(rr&21845)<<1;Vo=(Vo&52428)>>2|(Vo&13107)<<2,Vo=(Vo&61680)>>4|(Vo&3855)<<4,_5[rr]=((Vo&65280)>>8|(Vo&255)<<8)>>1}var Ai=function(t,e,r){for(var n=t.length,a=0,i=new Pn(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new Pn(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new Pn(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],f=e-t[a],m=o[t[a]-1]++<<f,x=m|(1<<f)-1;m<=x;++m)l[_5[m]>>c]=u}else for(l=new Pn(n),a=0;a<n;++a)t[a]&&(l[a]=_5[o[t[a]-1]++]>>15-t[a]);return l},Fl=new Cs(288);for(var rr=0;rr<144;++rr)Fl[rr]=8;for(var rr=144;rr<256;++rr)Fl[rr]=9;for(var rr=256;rr<280;++rr)Fl[rr]=7;for(var rr=280;rr<288;++rr)Fl[rr]=8;var Vf=new Cs(32);for(var rr=0;rr<32;++rr)Vf[rr]=5;var fB=Ai(Fl,9,0),mB=Ai(Fl,9,1),pB=Ai(Vf,5,0),gB=Ai(Vf,5,1),Ub=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},pa=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},zb=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},dy=function(t){return(t+7)/8|0},Ck=function(t,e,r){return(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length),new Cs(t.subarray(e,r))},xB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Na=function(t,e,r){var n=new Error(e||xB[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Na),!r)throw n;return n},bB=function(t,e,r,n){var a=t.length,i=n?n.length:0;if(!a||e.f&&!e.l)return r||new Cs(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new Cs(a*3));var u=function(Le){var De=r.length;if(Le>De){var _e=new Cs(Math.max(De*2,Le));_e.set(r),r=_e}},f=e.f||0,m=e.p||0,x=e.b||0,p=e.l,k=e.d,w=e.m,N=e.n,y=a*8;do{if(!p){f=pa(t,m,1);var b=pa(t,m+1,3);if(m+=3,b)if(b==1)p=mB,k=gB,w=9,N=5;else if(b==2){var V=pa(t,m,31)+257,M=pa(t,m+10,15)+4,_=V+pa(t,m+5,31)+1;m+=14;for(var $=new Cs(_),J=new Cs(19),P=0;P<M;++P)J[I5[P]]=pa(t,m+P*3,7);m+=M*3;for(var S=Ub(J),W=(1<<S)-1,R=Ai(J,S,1),P=0;P<_;){var Z=R[pa(t,m,W)];m+=Z&15;var A=Z>>4;if(A<16)$[P++]=A;else{var Y=0,z=0;for(A==16?(z=3+pa(t,m,3),m+=2,Y=$[P-1]):A==17?(z=3+pa(t,m,7),m+=3):A==18&&(z=11+pa(t,m,127),m+=7);z--;)$[P++]=Y}}var D=$.subarray(0,V),Q=$.subarray(V);w=Ub(D),N=Ub(Q),p=Ai(D,w,1),k=Ai(Q,N,1)}else Na(1);else{var A=dy(m)+4,E=t[A-4]|t[A-3]<<8,U=A+E;if(U>a){c&&Na(0);break}l&&u(x+E),r.set(t.subarray(A,U),x),e.b=x+=E,e.p=m=U*8,e.f=f;continue}if(m>y){c&&Na(0);break}}l&&u(x+131072);for(var q=(1<<w)-1,ee=(1<<N)-1,C=m;;C=m){var Y=p[zb(t,m)&q],G=Y>>4;if(m+=Y&15,m>y){c&&Na(0);break}if(Y||Na(2),G<256)r[x++]=G;else if(G==256){C=m,p=null;break}else{var K=G-254;if(G>264){var P=G-257,te=Zx[P];K=pa(t,m,(1<<te)-1)+kk[P],m+=te}var oe=k[zb(t,m)&ee],me=oe>>4;oe||Na(3),m+=oe&15;var Q=hB[me];if(me>3){var te=e1[me];Q+=zb(t,m)&(1<<te)-1,m+=te}if(m>y){c&&Na(0);break}l&&u(x+131072);var ae=x+K;if(x<Q){var ce=i-Q,Ae=Math.min(Q,ae);for(ce+x<0&&Na(3);x<Ae;++x)r[x]=n[ce+x]}for(;x<ae;++x)r[x]=r[x-Q]}}e.l=p,e.p=C,e.b=x,e.f=f,p&&(f=1,e.m=w,e.d=k,e.n=N)}while(!f);return x!=r.length&&o?Ck(r,0,x):r.subarray(0,x)},Ui=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Hh=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Hb=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:Lk,l:0};if(a==1){var o=new Cs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(U,V){return U.f-V.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,m=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=a-1;)l=r[r[u].f<r[m].f?u++:m++],c=r[u!=f&&r[u].f<r[m].f?u++:m++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var x=i[0].s,n=1;n<a;++n)i[n].s>x&&(x=i[n].s);var p=new Pn(x+1),k=B5(r[f-1],p,0);if(k>e){var n=0,w=0,N=k-e,y=1<<N;for(i.sort(function(V,M){return p[M.s]-p[V.s]||V.f-M.f});n<a;++n){var b=i[n].s;if(p[b]>e)w+=y-(1<<k-p[b]),p[b]=e;else break}for(w>>=N;w>0;){var A=i[n].s;p[A]<e?w-=1<<e-p[A]++-1:++n}for(;n>=0&&w;--n){var E=i[n].s;p[E]==e&&(--p[E],++w)}k=e}return{t:new Cs(p),l:k}},B5=function(t,e,r){return t.s==-1?Math.max(B5(t.l,e,r+1),B5(t.r,e,r+1)):e[t.s]=r},T3=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Pn(++e),n=0,a=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},qh=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Pk=function(t,e,r){var n=r.length,a=dy(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},_3=function(t,e,r,n,a,i,o,l,c,u,f){Ui(e,f++,r),++a[256];for(var m=Hb(a,15),x=m.t,p=m.l,k=Hb(i,15),w=k.t,N=k.l,y=T3(x),b=y.c,A=y.n,E=T3(w),U=E.c,V=E.n,M=new Pn(19),_=0;_<b.length;++_)++M[b[_]&31];for(var _=0;_<U.length;++_)++M[U[_]&31];for(var $=Hb(M,7),J=$.t,P=$.l,S=19;S>4&&!J[I5[S-1]];--S);var W=u+5<<3,R=qh(a,Fl)+qh(i,Vf)+o,Z=qh(a,x)+qh(i,w)+o+14+3*S+qh(M,J)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&W<=R&&W<=Z)return Pk(e,f,t.subarray(c,c+u));var Y,z,D,Q;if(Ui(e,f,1+(Z<R)),f+=2,Z<R){Y=Ai(x,p,0),z=x,D=Ai(w,N,0),Q=w;var q=Ai(J,P,0);Ui(e,f,A-257),Ui(e,f+5,V-1),Ui(e,f+10,S-4),f+=14;for(var _=0;_<S;++_)Ui(e,f+3*_,J[I5[_]]);f+=3*S;for(var ee=[b,U],C=0;C<2;++C)for(var G=ee[C],_=0;_<G.length;++_){var K=G[_]&31;Ui(e,f,q[K]),f+=J[K],K>15&&(Ui(e,f,G[_]>>5&127),f+=G[_]>>12)}}else Y=fB,z=Fl,D=pB,Q=Vf;for(var _=0;_<l;++_){var te=n[_];if(te>255){var K=te>>18&31;Hh(e,f,Y[K+257]),f+=z[K+257],K>7&&(Ui(e,f,te>>23&31),f+=Zx[K]);var oe=te&31;Hh(e,f,D[oe]),f+=Q[oe],oe>3&&(Hh(e,f,te>>5&8191),f+=e1[oe])}else Hh(e,f,Y[te]),f+=z[te]}return Hh(e,f,Y[256]),f+z[256]},vB=new cy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Lk=new Cs(0),yB=function(t,e,r,n,a,i){var o=i.z||t.length,l=new Cs(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,f=(i.r||0)&7;if(e){f&&(c[0]=i.r>>3);for(var m=vB[e-1],x=m>>13,p=m&8191,k=(1<<r)-1,w=i.p||new Pn(32768),N=i.h||new Pn(k+1),y=Math.ceil(r/3),b=2*y,A=function(Ye){return(t[Ye]^t[Ye+1]<<y^t[Ye+2]<<b)&k},E=new cy(25e3),U=new Pn(288),V=new Pn(32),M=0,_=0,$=i.i||0,J=0,P=i.w||0,S=0;$+2<o;++$){var W=A($),R=$&32767,Z=N[W];if(w[R]=Z,N[W]=R,P<=$){var Y=o-$;if((M>7e3||J>24576)&&(Y>423||!u)){f=_3(t,c,0,E,U,V,_,J,S,$-S,f),J=M=_=0,S=$;for(var z=0;z<286;++z)U[z]=0;for(var z=0;z<30;++z)V[z]=0}var D=2,Q=0,q=p,ee=R-Z&32767;if(Y>2&&W==A($-ee))for(var C=Math.min(x,Y)-1,G=Math.min(32767,$),K=Math.min(258,Y);ee<=G&&--q&&R!=Z;){if(t[$+D]==t[$+D-ee]){for(var te=0;te<K&&t[$+te]==t[$+te-ee];++te);if(te>D){if(D=te,Q=ee,te>C)break;for(var oe=Math.min(ee,te-2),me=0,z=0;z<oe;++z){var ae=$-ee+z&32767,ce=w[ae],Ae=ae-ce&32767;Ae>me&&(me=Ae,Z=ae)}}}R=Z,Z=w[R],ee+=R-Z&32767}if(Q){E[J++]=268435456|T5[D]<<18|I3[Q];var Le=T5[D]&31,De=I3[Q]&31;_+=Zx[Le]+e1[De],++U[257+Le],++V[De],P=$+D,++M}else E[J++]=t[$],++U[t[$]]}}for($=Math.max($,P);$<o;++$)E[J++]=t[$],++U[t[$]];f=_3(t,c,u,E,U,V,_,J,S,$-S,f),u||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=N,i.p=w,i.i=$,i.w=P)}else{for(var $=i.w||0;$<o+u;$+=65535){var _e=$+65535;_e>=o&&(c[f/8|0]=u,_e=o),f=Pk(c,f+1,t.subarray($,_e))}i.i=o}return Ck(l,0,n+dy(f)+a)},Ek=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},wB=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Cs(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return yB(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},Ik=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},NB=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=Ek();a.p(e.dictionary),Ik(t,2,a.d())}},jB=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Na(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Na(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function O5(t,e){e||(e={});var r=Ek();r.p(t);var n=wB(t,e,e.dictionary?6:2,4);return NB(n,e),Ik(n,n.length-4,r.d()),n}function AB(t,e){return bB(t.subarray(jB(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var kB=typeof TextDecoder<"u"&&new TextDecoder,SB=0;try{kB.decode(Lk,{stream:!0}),SB=1}catch{}var it=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qb(){it.console&&typeof it.console.log=="function"&&it.console.log.apply(it.console,arguments)}var Kt={log:qb,warn:function(t){it.console&&(typeof it.console.warn=="function"?it.console.warn.apply(it.console,arguments):qb.call(null,arguments))},error:function(t){it.console&&(typeof it.console.error=="function"?it.console.error.apply(it.console,arguments):qb(t))}};function Vb(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){dc(n.response,e,r)},n.onerror=function(){Kt.error("could not download file")},n.send()}function B3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Vp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var uf,D5,dc=it.saveAs||((typeof window>"u"?"undefined":Ht(window))!=="object"||window!==it?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=it.URL||it.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?B3(a.href)?Vb(t,e,r):Vp(a,a.target="_blank"):Vp(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Vp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(B3(t))Vb(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Vp(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Ht(i)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Vb(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(it.HTMLElement)||it.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Ht(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var c=it.URL||it.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Tk(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Gb(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=bs(r,n,a,i,e[0],7,-680876936),i=bs(i,r,n,a,e[1],12,-389564586),a=bs(a,i,r,n,e[2],17,606105819),n=bs(n,a,i,r,e[3],22,-1044525330),r=bs(r,n,a,i,e[4],7,-176418897),i=bs(i,r,n,a,e[5],12,1200080426),a=bs(a,i,r,n,e[6],17,-1473231341),n=bs(n,a,i,r,e[7],22,-45705983),r=bs(r,n,a,i,e[8],7,1770035416),i=bs(i,r,n,a,e[9],12,-1958414417),a=bs(a,i,r,n,e[10],17,-42063),n=bs(n,a,i,r,e[11],22,-1990404162),r=bs(r,n,a,i,e[12],7,1804603682),i=bs(i,r,n,a,e[13],12,-40341101),a=bs(a,i,r,n,e[14],17,-1502002290),r=vs(r,n=bs(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=vs(i,r,n,a,e[6],9,-1069501632),a=vs(a,i,r,n,e[11],14,643717713),n=vs(n,a,i,r,e[0],20,-373897302),r=vs(r,n,a,i,e[5],5,-701558691),i=vs(i,r,n,a,e[10],9,38016083),a=vs(a,i,r,n,e[15],14,-660478335),n=vs(n,a,i,r,e[4],20,-405537848),r=vs(r,n,a,i,e[9],5,568446438),i=vs(i,r,n,a,e[14],9,-1019803690),a=vs(a,i,r,n,e[3],14,-187363961),n=vs(n,a,i,r,e[8],20,1163531501),r=vs(r,n,a,i,e[13],5,-1444681467),i=vs(i,r,n,a,e[2],9,-51403784),a=vs(a,i,r,n,e[7],14,1735328473),r=ys(r,n=vs(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=ys(i,r,n,a,e[8],11,-2022574463),a=ys(a,i,r,n,e[11],16,1839030562),n=ys(n,a,i,r,e[14],23,-35309556),r=ys(r,n,a,i,e[1],4,-1530992060),i=ys(i,r,n,a,e[4],11,1272893353),a=ys(a,i,r,n,e[7],16,-155497632),n=ys(n,a,i,r,e[10],23,-1094730640),r=ys(r,n,a,i,e[13],4,681279174),i=ys(i,r,n,a,e[0],11,-358537222),a=ys(a,i,r,n,e[3],16,-722521979),n=ys(n,a,i,r,e[6],23,76029189),r=ys(r,n,a,i,e[9],4,-640364487),i=ys(i,r,n,a,e[12],11,-421815835),a=ys(a,i,r,n,e[15],16,530742520),r=ws(r,n=ys(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=ws(i,r,n,a,e[7],10,1126891415),a=ws(a,i,r,n,e[14],15,-1416354905),n=ws(n,a,i,r,e[5],21,-57434055),r=ws(r,n,a,i,e[12],6,1700485571),i=ws(i,r,n,a,e[3],10,-1894986606),a=ws(a,i,r,n,e[10],15,-1051523),n=ws(n,a,i,r,e[1],21,-2054922799),r=ws(r,n,a,i,e[8],6,1873313359),i=ws(i,r,n,a,e[15],10,-30611744),a=ws(a,i,r,n,e[6],15,-1560198380),n=ws(n,a,i,r,e[13],21,1309151649),r=ws(r,n,a,i,e[4],6,-145523070),i=ws(i,r,n,a,e[11],10,-1120210379),a=ws(a,i,r,n,e[2],15,718787259),n=ws(n,a,i,r,e[9],21,-343485551),t[0]=wl(r,t[0]),t[1]=wl(n,t[1]),t[2]=wl(a,t[2]),t[3]=wl(i,t[3])}function t1(t,e,r,n,a,i){return e=wl(wl(e,t),wl(n,i)),wl(e<<a|e>>>32-a,r)}function bs(t,e,r,n,a,i,o){return t1(e&r|~e&n,t,e,a,i,o)}function vs(t,e,r,n,a,i,o){return t1(e&n|r&~n,t,e,a,i,o)}function ys(t,e,r,n,a,i,o){return t1(e^r^n,t,e,a,i,o)}function ws(t,e,r,n,a,i,o){return t1(r^(e|~n),t,e,a,i,o)}function _k(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Gb(n,CB(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Gb(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Gb(n,a),n}function CB(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}uf=it.atob.bind(it),D5=it.btoa.bind(it);var O3="0123456789abcdef".split("");function PB(t){for(var e="",r=0;r<4;r++)e+=O3[t>>8*r+4&15]+O3[t>>8*r&15];return e}function LB(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function R5(t){return _k(t).map(LB).join("")}var EB=function(t){for(var e=0;e<t.length;e++)t[e]=PB(t[e]);return t.join("")}(_k("hello"))!="5d41402abc4b2a76b9719d911017c592";function wl(t,e){if(EB){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function F5(t,e){var r,n,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=t,n=l}else l=n;var m=e.length,x=0,p=0,k="";for(c=0;c<m;c++)p=(p+(f=l[x=(x+1)%256]))%256,l[x]=l[p],l[p]=f,o=l[(l[x]+l[p])%256],k+=String.fromCharCode(e.charCodeAt(c)^o);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var D3={print:4,modify:8,copy:16,"annot-forms":32};function eu(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(D3.perm!==void 0)throw new Error("Invalid permission: "+l);a+=D3[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=R5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=F5(this.encryptionKey,this.padding)}function tu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function R3(t){if(Ht(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){it.console&&Kt.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function cx(t){if(!(this instanceof cx))return new cx(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Bk(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function fc(t,e,r,n,a){if(!(this instanceof fc))return new fc(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Bk.call(this,n,a)}function xu(t,e,r,n,a){if(!(this instanceof xu))return new xu(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Bk.call(this,n,a)}function at(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,u="S",f=null;Ht(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=R3;var k="1.3",w=p.__private__.getPdfVersion=function(){return k};p.__private__.setPdfVersion=function(g){k=g};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var y=p.__private__.getPageFormat=function(g){return N[g]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},A=b.COMPAT;function E(){this.saveGraphicsState(),ne(new nt(Ve,0,0,-Ve,0,Co()*Ve).toString()+" cm"),this.setFontSize(this.getFontSize()/Ve),u="n",A=b.ADVANCED}function U(){this.restoreGraphicsState(),u="S",A=b.COMPAT}var V=p.__private__.combineFontStyleAndFontWeight=function(g,T){if(g=="bold"&&T=="normal"||g=="bold"&&T==400||g=="normal"&&T=="italic"||g=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(g=T==400||T==="normal"?g==="italic"?"italic":"normal":T!=700&&T!=="bold"||g!=="normal"?(T==700?"bold":T)+""+g:"bold"),g};p.advancedAPI=function(g){var T=A===b.COMPAT;return T&&E.call(this),typeof g!="function"||(g(this),T&&U.call(this)),this},p.compatAPI=function(g){var T=A===b.ADVANCED;return T&&U.call(this),typeof g!="function"||(g(this),T&&E.call(this)),this},p.isAdvancedAPI=function(){return A===b.ADVANCED};var M,_=function(g){if(A!==b.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=p.roundToPrecision=p.__private__.roundToPrecision=function(g,T){var re=e||T;if(isNaN(g)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(re).replace(/0+$/,"")};M=p.hpf=p.__private__.hpf=typeof c=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return $(g,c)}:c==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return $(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return $(g,16)};var J=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return $(g,2)},P=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return $(g,3)},S=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return A===b.COMPAT?g*Ve:A===b.ADVANCED?g:void 0},W=function(g){return A===b.COMPAT?Co()-g:A===b.ADVANCED?g:void 0},R=function(g){return S(W(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var Z,Y="00000000000000000000000000000000",z=p.__private__.getFileId=function(){return Y},D=p.__private__.setFileId=function(g){return Y=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(fs=new eu(f.userPermissions,f.userPassword,f.ownerPassword,Y)),Y};p.setFileId=function(g){return D(g),this},p.getFileId=function(){return z()};var Q=p.__private__.convertDateToPDFDate=function(g){var T=g.getTimezoneOffset(),re=T<0?"+":"-",le=Math.floor(Math.abs(T/60)),ge=Math.abs(T%60),je=[re,K(le),"'",K(ge),"'"].join("");return["D:",g.getFullYear(),K(g.getMonth()+1),K(g.getDate()),K(g.getHours()),K(g.getMinutes()),K(g.getSeconds()),je].join("")},q=p.__private__.convertPDFDateToDate=function(g){var T=parseInt(g.substr(2,4),10),re=parseInt(g.substr(6,2),10)-1,le=parseInt(g.substr(8,2),10),ge=parseInt(g.substr(10,2),10),je=parseInt(g.substr(12,2),10),Ie=parseInt(g.substr(14,2),10);return new Date(T,re,le,ge,je,Ie,0)},ee=p.__private__.setCreationDate=function(g){var T;if(g===void 0&&(g=new Date),g instanceof Date)T=Q(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=g}return Z=T},C=p.__private__.getCreationDate=function(g){var T=Z;return g==="jsDate"&&(T=q(Z)),T};p.setCreationDate=function(g){return ee(g),this},p.getCreationDate=function(g){return C(g)};var G,K=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},te=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},oe=0,me=[],ae=[],ce=0,Ae=[],Le=[],De=!1,_e=ae,Ye=function(){oe=0,ce=0,ae=[],me=[],Ae=[],Ei=Tr(),ia=Tr()};p.__private__.setCustomOutputDestination=function(g){De=!0,_e=g};var we=function(g){De||(_e=g)};p.__private__.resetCustomOutputDestination=function(){De=!1,_e=ae};var ne=p.__private__.out=function(g){return g=g.toString(),ce+=g.length+1,_e.push(g),_e},ft=p.__private__.write=function(g){return ne(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Xe=p.__private__.getArrayBuffer=function(g){for(var T=g.length,re=new ArrayBuffer(T),le=new Uint8Array(re);T--;)le[T]=g.charCodeAt(T);return re},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Be};var Re=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Re=A===b.ADVANCED?g/Ve:g,this};var qe,ze=p.__private__.getFontSize=p.getFontSize=function(){return A===b.COMPAT?Re:Re*Ve},Ze=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return Ze=g,this},p.__private__.getR2L=p.getR2L=function(){return Ze};var ct,xt=p.__private__.setZoomMode=function(g){var T=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))qe=g;else if(isNaN(g)){if(T.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');qe=g}else qe=parseInt(g,10)};p.__private__.getZoomMode=function(){return qe};var wt,Pt=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');ct=g};p.__private__.getPageMode=function(){return ct};var Vt=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');wt=g};p.__private__.getLayoutMode=function(){return wt},p.__private__.setDisplayMode=p.setDisplayMode=function(g,T,re){return xt(g),Vt(T),Pt(re),this};var ot={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(ot).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ot[g]},p.__private__.getDocumentProperties=function(){return ot},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var T in ot)ot.hasOwnProperty(T)&&g[T]&&(ot[T]=g[T]);return this},p.__private__.setDocumentProperty=function(g,T){if(Object.keys(ot).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ot[g]=T};var Nt,Ve,hs,It,sa,Qt={},nr={},qa=[],Ot={},Gl={},hr={},na={},Li=null,fr=0,dt=[],Dt=new R3(p),$l=t.hotfixes||[],es={},Va={},Ga=[],nt=function g(T,re,le,ge,je,Ie){if(!(this instanceof g))return new g(T,re,le,ge,je,Ie);isNaN(T)&&(T=1),isNaN(re)&&(re=0),isNaN(le)&&(le=0),isNaN(ge)&&(ge=1),isNaN(je)&&(je=0),isNaN(Ie)&&(Ie=0),this._matrix=[T,re,le,ge,je,Ie]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(g)},nt.prototype.multiply=function(g){var T=g.sx*this.sx+g.shy*this.shx,re=g.sx*this.shy+g.shy*this.sy,le=g.shx*this.sx+g.sy*this.shx,ge=g.shx*this.shy+g.sy*this.sy,je=g.tx*this.sx+g.ty*this.shx+this.tx,Ie=g.tx*this.shy+g.ty*this.sy+this.ty;return new nt(T,re,le,ge,je,Ie)},nt.prototype.decompose=function(){var g=this.sx,T=this.shy,re=this.shx,le=this.sy,ge=this.tx,je=this.ty,Ie=Math.sqrt(g*g+T*T),Ge=(g/=Ie)*re+(T/=Ie)*le;re-=g*Ge,le-=T*Ge;var et=Math.sqrt(re*re+le*le);return Ge/=et,g*(le/=et)<T*(re/=et)&&(g=-g,T=-T,Ge=-Ge,Ie=-Ie),{scale:new nt(Ie,0,0,et,0,0),translate:new nt(1,0,0,1,ge,je),rotate:new nt(g,T,-T,g,0,0),skew:new nt(1,0,Ge,1,0,0)}},nt.prototype.toString=function(g){return this.join(" ")},nt.prototype.inversed=function(){var g=this.sx,T=this.shy,re=this.shx,le=this.sy,ge=this.tx,je=this.ty,Ie=1/(g*le-T*re),Ge=le*Ie,et=-T*Ie,mt=-re*Ie,ut=g*Ie;return new nt(Ge,et,mt,ut,-Ge*ge-mt*je,-et*ge-ut*je)},nt.prototype.applyToPoint=function(g){var T=g.x*this.sx+g.y*this.shx+this.tx,re=g.x*this.shy+g.y*this.sy+this.ty;return new Pd(T,re)},nt.prototype.applyToRectangle=function(g){var T=this.applyToPoint(g),re=this.applyToPoint(new Pd(g.x+g.w,g.y+g.h));return new ch(T.x,T.y,re.x-T.x,re.y-T.y)},nt.prototype.clone=function(){var g=this.sx,T=this.shy,re=this.shx,le=this.sy,ge=this.tx,je=this.ty;return new nt(g,T,re,le,ge,je)},p.Matrix=nt;var aa=p.matrixMult=function(g,T){return T.multiply(g)},$a=new nt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=$a;var Gs=function(g,T){if(!Gl[g]){var re=(T instanceof fc?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);T.id=re,Gl[g]=re,Ot[re]=T,Dt.publish("addPattern",T)}};p.ShadingPattern=fc,p.TilingPattern=xu,p.addShadingPattern=function(g,T){return _("addShadingPattern()"),Gs(g,T),this},p.beginTilingPattern=function(g){_("beginTilingPattern()"),Vm(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,T){_("endTilingPattern()"),T.stream=Le[G].join(`
`),Gs(g,T),Dt.publish("endTilingPattern",T),Ga.pop().restore()};var Fr=p.__private__.newObject=function(){var g=Tr();return mn(g,!0),g},Tr=p.__private__.newObjectDeferred=function(){return oe++,me[oe]=function(){return ce},oe},mn=function(g,T){return T=typeof T=="boolean"&&T,me[g]=ce,T&&ne(g+" 0 obj"),g},pd=p.__private__.newAdditionalObject=function(){var g={objId:Tr(),content:""};return Ae.push(g),g},Ei=Tr(),ia=Tr(),oa=p.__private__.decodeColorString=function(g){var T=g.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length===5&&(T[4]==="k"||T[4]==="K")&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var re=parseFloat(T[0]);T=[re,re,re,"r"]}for(var le="#",ge=0;ge<3;ge++)le+=("0"+Math.floor(255*parseFloat(T[ge])).toString(16)).slice(-2);return le},la=p.__private__.encodeColorString=function(g){var T;typeof g=="string"&&(g={ch1:g});var re=g.ch1,le=g.ch2,ge=g.ch3,je=g.ch4,Ie=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var Ge=new Tk(re);if(Ge.ok)re=Ge.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var et=parseInt(re.substr(1),16);re=et>>16&255,le=et>>8&255,ge=255&et}if(le===void 0||je===void 0&&re===le&&le===ge)if(typeof re=="string")T=re+" "+Ie[0];else switch(g.precision){case 2:T=J(re/255)+" "+Ie[0];break;case 3:default:T=P(re/255)+" "+Ie[0]}else if(je===void 0||Ht(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return T=["1.","1.","1.",Ie[1]].join(" ");if(typeof re=="string")T=[re,le,ge,Ie[1]].join(" ");else switch(g.precision){case 2:T=[J(re/255),J(le/255),J(ge/255),Ie[1]].join(" ");break;default:case 3:T=[P(re/255),P(le/255),P(ge/255),Ie[1]].join(" ")}}else if(typeof re=="string")T=[re,le,ge,je,Ie[2]].join(" ");else switch(g.precision){case 2:T=[J(re),J(le),J(ge),J(je),Ie[2]].join(" ");break;case 3:default:T=[P(re),P(le),P(ge),P(je),Ie[2]].join(" ")}return T},Wa=p.__private__.getFilters=function(){return o},_n=p.__private__.putStream=function(g){var T=(g=g||{}).data||"",re=g.filters||Wa(),le=g.alreadyAppliedFilters||[],ge=g.addLength1||!1,je=T.length,Ie=g.objectId,Ge=function(ms){return ms};if(f!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ge=fs.encryptor(Ie,0));var et={};re===!0&&(re=["FlateEncode"]);var mt=g.additionalKeyValues||[],ut=(et=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(T,re):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(et.data.length!==0&&(mt.push({key:"Length",value:et.data.length}),ge===!0&&mt.push({key:"Length1",value:je})),ut.length!=0)if(ut.split("/").length-1==1)mt.push({key:"Filter",value:ut});else{mt.push({key:"Filter",value:"["+ut+"]"});for(var Ct=0;Ct<mt.length;Ct+=1)if(mt[Ct].key==="DecodeParms"){for(var or=[],mr=0;mr<et.reverseChain.split("/").length-1;mr+=1)or.push("null");or.push(mt[Ct].value),mt[Ct].value="["+or.join(" ")+"]"}}ne("<<");for(var _r=0;_r<mt.length;_r++)ne("/"+mt[_r].key+" "+mt[_r].value);ne(">>"),et.data.length!==0&&(ne("stream"),ne(Ge(et.data)),ne("endstream"))},Qa=p.__private__.putPage=function(g){var T=g.number,re=g.data,le=g.objId,ge=g.contentsObjId;mn(le,!0),ne("<</Type /Page"),ne("/Parent "+g.rootDictionaryObjId+" 0 R"),ne("/Resources "+g.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(M(g.mediaBox.bottomLeftX))+" "+parseFloat(M(g.mediaBox.bottomLeftY))+" "+M(g.mediaBox.topRightX)+" "+M(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&ne("/CropBox ["+M(g.cropBox.bottomLeftX)+" "+M(g.cropBox.bottomLeftY)+" "+M(g.cropBox.topRightX)+" "+M(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&ne("/BleedBox ["+M(g.bleedBox.bottomLeftX)+" "+M(g.bleedBox.bottomLeftY)+" "+M(g.bleedBox.topRightX)+" "+M(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&ne("/TrimBox ["+M(g.trimBox.bottomLeftX)+" "+M(g.trimBox.bottomLeftY)+" "+M(g.trimBox.topRightX)+" "+M(g.trimBox.topRightY)+"]"),g.artBox!==null&&ne("/ArtBox ["+M(g.artBox.bottomLeftX)+" "+M(g.artBox.bottomLeftY)+" "+M(g.artBox.topRightX)+" "+M(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&ne("/UserUnit "+g.userUnit),Dt.publish("putPage",{objId:le,pageContext:dt[T],pageNumber:T,page:re}),ne("/Contents "+ge+" 0 R"),ne(">>"),ne("endobj");var je=re.join(`
`);return A===b.ADVANCED&&(je+=`
Q`),mn(ge,!0),_n({data:je,filters:Wa(),objectId:ge}),ne("endobj"),le},Wl=p.__private__.putPages=function(){var g,T,re=[];for(g=1;g<=fr;g++)dt[g].objId=Tr(),dt[g].contentsObjId=Tr();for(g=1;g<=fr;g++)re.push(Qa({number:g,data:Le[g],objId:dt[g].objId,contentsObjId:dt[g].contentsObjId,mediaBox:dt[g].mediaBox,cropBox:dt[g].cropBox,bleedBox:dt[g].bleedBox,trimBox:dt[g].trimBox,artBox:dt[g].artBox,userUnit:dt[g].userUnit,rootDictionaryObjId:Ei,resourceDictionaryObjId:ia}));mn(Ei,!0),ne("<</Type /Pages");var le="/Kids [";for(T=0;T<fr;T++)le+=re[T]+" 0 R ";ne(le+"]"),ne("/Count "+fr),ne(">>"),ne("endobj"),Dt.publish("postPutPages")},gd=function(g){Dt.publish("putFont",{font:g,out:ne,newObject:Fr,putStream:_n}),g.isAlreadyPutted!==!0&&(g.objectNumber=Fr(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+tu(g.postScriptName)),ne("/Subtype /Type1"),typeof g.encoding=="string"&&ne("/Encoding /"+g.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},xd=function(){for(var g in Qt)Qt.hasOwnProperty(g)&&(m===!1||m===!0&&x.hasOwnProperty(g))&&gd(Qt[g])},bd=function(g){g.objectNumber=Fr();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[M(g.x),M(g.y),M(g.x+g.width),M(g.y+g.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var re=g.pages[1].join(`
`);_n({data:re,additionalKeyValues:T,objectId:g.objectNumber}),ne("endobj")},vd=function(){for(var g in es)es.hasOwnProperty(g)&&bd(es[g])},Sm=function(g,T){var re,le=[],ge=1/(T-1);for(re=0;re<1;re+=ge)le.push(re);if(le.push(1),g[0].offset!=0){var je={offset:0,color:g[0].color};g.unshift(je)}if(g[g.length-1].offset!=1){var Ie={offset:1,color:g[g.length-1].color};g.push(Ie)}for(var Ge="",et=0,mt=0;mt<le.length;mt++){for(re=le[mt];re>g[et+1].offset;)et++;var ut=g[et].offset,Ct=(re-ut)/(g[et+1].offset-ut),or=g[et].color,mr=g[et+1].color;Ge+=te(Math.round((1-Ct)*or[0]+Ct*mr[0]).toString(16))+te(Math.round((1-Ct)*or[1]+Ct*mr[1]).toString(16))+te(Math.round((1-Ct)*or[2]+Ct*mr[2]).toString(16))}return Ge.trim()},n1=function(g,T){T||(T=21);var re=Fr(),le=Sm(g.colors,T),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+T+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_n({data:le,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),ne("endobj"),g.objectNumber=Fr(),ne("<< /ShadingType "+g.type),ne("/ColorSpace /DeviceRGB");var je="/Coords ["+M(parseFloat(g.coords[0]))+" "+M(parseFloat(g.coords[1]))+" ";g.type===2?je+=M(parseFloat(g.coords[2]))+" "+M(parseFloat(g.coords[3])):je+=M(parseFloat(g.coords[2]))+" "+M(parseFloat(g.coords[3]))+" "+M(parseFloat(g.coords[4]))+" "+M(parseFloat(g.coords[5])),ne(je+="]"),g.matrix&&ne("/Matrix ["+g.matrix.toString()+"]"),ne("/Function "+re+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},a1=function(g,T){var re=Tr(),le=Fr();T.push({resourcesOid:re,objectOid:le}),g.objectNumber=le;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+g.boundingBox.map(M).join(" ")+"]"}),ge.push({key:"XStep",value:M(g.xStep)}),ge.push({key:"YStep",value:M(g.yStep)}),ge.push({key:"Resources",value:re+" 0 R"}),g.matrix&&ge.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),_n({data:g.stream,additionalKeyValues:ge,objectId:g.objectNumber}),ne("endobj")},yd=function(g){var T;for(T in Ot)Ot.hasOwnProperty(T)&&(Ot[T]instanceof fc?n1(Ot[T]):Ot[T]instanceof xu&&a1(Ot[T],g))},Cm=function(g){for(var T in g.objectNumber=Fr(),ne("<<"),g)switch(T){case"opacity":ne("/ca "+J(g[T]));break;case"stroke-opacity":ne("/CA "+J(g[T]))}ne(">>"),ne("endobj")},i1=function(){var g;for(g in hr)hr.hasOwnProperty(g)&&Cm(hr[g])},Z0=function(){for(var g in ne("/XObject <<"),es)es.hasOwnProperty(g)&&es[g].objectNumber>=0&&ne("/"+g+" "+es[g].objectNumber+" 0 R");Dt.publish("putXobjectDict"),ne(">>")},o1=function(){fs.oid=Fr(),ne("<<"),ne("/Filter /Standard"),ne("/V "+fs.v),ne("/R "+fs.r),ne("/U <"+fs.toHexString(fs.U)+">"),ne("/O <"+fs.toHexString(fs.O)+">"),ne("/P "+fs.P),ne(">>"),ne("endobj")},Pm=function(){for(var g in ne("/Font <<"),Qt)Qt.hasOwnProperty(g)&&(m===!1||m===!0&&x.hasOwnProperty(g))&&ne("/"+g+" "+Qt[g].objectNumber+" 0 R");ne(">>")},l1=function(){if(Object.keys(Ot).length>0){for(var g in ne("/Shading <<"),Ot)Ot.hasOwnProperty(g)&&Ot[g]instanceof fc&&Ot[g].objectNumber>=0&&ne("/"+g+" "+Ot[g].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),ne(">>")}},wd=function(g){if(Object.keys(Ot).length>0){for(var T in ne("/Pattern <<"),Ot)Ot.hasOwnProperty(T)&&Ot[T]instanceof p.TilingPattern&&Ot[T].objectNumber>=0&&Ot[T].objectNumber<g&&ne("/"+T+" "+Ot[T].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),ne(">>")}},c1=function(){if(Object.keys(hr).length>0){var g;for(g in ne("/ExtGState <<"),hr)hr.hasOwnProperty(g)&&hr[g].objectNumber>=0&&ne("/"+g+" "+hr[g].objectNumber+" 0 R");Dt.publish("putGStateDict"),ne(">>")}},wr=function(g){mn(g.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pm(),l1(),wd(g.objectOid),c1(),Z0(),ne(">>"),ne("endobj")},Lm=function(){var g=[];xd(),i1(),vd(),yd(g),Dt.publish("putResources"),g.forEach(wr),wr({resourcesOid:ia,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources")},Em=function(){Dt.publish("putAdditionalObjects");for(var g=0;g<Ae.length;g++){var T=Ae[g];mn(T.objId,!0),ne(T.content),ne("endobj")}Dt.publish("postPutAdditionalObjects")},Im=function(g){nr[g.fontName]=nr[g.fontName]||{},nr[g.fontName][g.fontStyle]=g.id},eh=function(g,T,re,le,ge){var je={id:"F"+(Object.keys(Qt).length+1).toString(10),postScriptName:g,fontName:T,fontStyle:re,encoding:le,isStandardFont:ge||!1,metadata:{}};return Dt.publish("addFont",{font:je,instance:this}),Qt[je.id]=je,Im(je),je.id},d1=function(g){for(var T=0,re=Be.length;T<re;T++){var le=eh.call(this,g[T][0],g[T][1],g[T][2],Be[T][3],!0);m===!1&&(x[le]=!0);var ge=g[T][0].split("-");Im({id:le,fontName:ge[0],fontStyle:ge[1]||""})}Dt.publish("addFonts",{fonts:Qt,dictionary:nr})},ca=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(le){var T=le.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var re="Error in function "+T.split(`
`)[0].split("<")[0]+": "+le.message;if(!it.console)throw new Error(re);it.console.error(re,le),it.alert&&alert(re)}},g.foo.bar=g,g.foo},Nd=function(g,T){var re,le,ge,je,Ie,Ge,et,mt,ut;if(ge=(T=T||{}).sourceEncoding||"Unicode",Ie=T.outputEncoding,(T.autoencode||Ie)&&Qt[Nt].metadata&&Qt[Nt].metadata[ge]&&Qt[Nt].metadata[ge].encoding&&(je=Qt[Nt].metadata[ge].encoding,!Ie&&Qt[Nt].encoding&&(Ie=Qt[Nt].encoding),!Ie&&je.codePages&&(Ie=je.codePages[0]),typeof Ie=="string"&&(Ie=je[Ie]),Ie)){for(et=!1,Ge=[],re=0,le=g.length;re<le;re++)(mt=Ie[g.charCodeAt(re)])?Ge.push(String.fromCharCode(mt)):Ge.push(g[re]),Ge[re].charCodeAt(0)>>8&&(et=!0);g=Ge.join("")}for(re=g.length;et===void 0&&re!==0;)g.charCodeAt(re-1)>>8&&(et=!0),re--;if(!et)return g;for(Ge=T.noBOM?[]:[254,255],re=0,le=g.length;re<le;re++){if((ut=(mt=g.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ge.push(ut),Ge.push(mt-(ut<<8))}return String.fromCharCode.apply(void 0,Ge)},$s=p.__private__.pdfEscape=p.pdfEscape=function(g,T){return Nd(g,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},th=p.__private__.beginPage=function(g){Le[++fr]=[],dt[fr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},_m(fr),we(Le[G])},Tm=function(g,T){var re,le,ge;switch(r=T||r,typeof g=="string"&&(re=y(g.toLowerCase()),Array.isArray(re)&&(le=re[0],ge=re[1])),Array.isArray(g)&&(le=g[0]*Ve,ge=g[1]*Ve),isNaN(le)&&(le=a[0],ge=a[1]),(le>14400||ge>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),ge=Math.min(14400,ge)),a=[le,ge],r.substr(0,1)){case"l":ge>le&&(a=[ge,le]);break;case"p":le>ge&&(a=[ge,le])}th(a),Mm(ah),ne(da),oh!==0&&ne(oh+" J"),lh!==0&&ne(lh+" j"),Dt.publish("addPage",{pageNumber:fr})},u1=function(g){g>0&&g<=fr&&(Le.splice(g,1),dt.splice(g,1),fr--,G>fr&&(G=fr),this.setPage(G))},_m=function(g){g>0&&g<=fr&&(G=g)},h1=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},Bm=function(g,T,re){var le,ge=void 0;return re=re||{},g=g!==void 0?g:Qt[Nt].fontName,T=T!==void 0?T:Qt[Nt].fontStyle,le=g.toLowerCase(),nr[le]!==void 0&&nr[le][T]!==void 0?ge=nr[le][T]:nr[g]!==void 0&&nr[g][T]!==void 0?ge=nr[g][T]:re.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+g+"', '"+T+"'. Refer to getFontList() for available fonts."),ge||re.noFallback||(ge=nr.times[T])==null&&(ge=nr.times.normal),ge},f1=p.__private__.putInfo=function(){var g=Fr(),T=function(le){return le};for(var re in f!==null&&(T=fs.encryptor(g,0)),ne("<<"),ne("/Producer ("+$s(T("jsPDF "+at.version))+")"),ot)ot.hasOwnProperty(re)&&ot[re]&&ne("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+$s(T(ot[re]))+")");ne("/CreationDate ("+$s(T(Z))+")"),ne(">>"),ne("endobj")},rh=p.__private__.putCatalog=function(g){var T=(g=g||{}).rootDictionaryObjId||Ei;switch(Fr(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+T+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+qe;re.substr(re.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+J(qe)+"]")}switch(wt||(wt="continuous"),wt){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}ct&&ne("/PageMode /"+ct),Dt.publish("putCatalog"),ne(">>"),ne("endobj")},m1=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(oe+1)),ne("/Root "+oe+" 0 R"),ne("/Info "+(oe-1)+" 0 R"),f!==null&&ne("/Encrypt "+fs.oid+" 0 R"),ne("/ID [ <"+Y+"> <"+Y+"> ]"),ne(">>")},p1=p.__private__.putHeader=function(){ne("%PDF-"+k),ne("%ºß¬à")},g1=p.__private__.putXRef=function(){var g="0000000000";ne("xref"),ne("0 "+(oe+1)),ne("0000000000 65535 f ");for(var T=1;T<=oe;T++)typeof me[T]=="function"?ne((g+me[T]()).slice(-10)+" 00000 n "):me[T]!==void 0?ne((g+me[T]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Ii=p.__private__.buildDocument=function(){Ye(),we(ae),Dt.publish("buildDocument"),p1(),Wl(),Em(),Lm(),f!==null&&o1(),f1(),rh();var g=ce;return g1(),m1(),ne("startxref"),ne(""+g),ne("%%EOF"),we(Le[G]),ae.join(`
`)},jd=p.__private__.getBlob=function(g){return new Blob([Xe(g)],{type:"application/pdf"})},Ad=p.output=p.__private__.output=ca(function(g,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",g){case void 0:return Ii();case"save":p.save(T.filename);break;case"arraybuffer":return Xe(Ii());case"blob":return jd(Ii());case"bloburi":case"bloburl":if(it.URL!==void 0&&typeof it.URL.createObjectURL=="function")return it.URL&&it.URL.createObjectURL(jd(Ii()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",le=Ii();try{re=D5(le)}catch{re=D5(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+T.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(ge=T.pdfObjectUrl,je="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",Ge=it.open();return Ge!==null&&Ge.document.write(Ie),Ge}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',mt=it.open();if(mt!==null){mt.document.write(et);var ut=this;mt.document.documentElement.querySelector("#pdfViewer").onload=function(){mt.document.title=T.filename,mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(it)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',or=it.open();if(or!==null&&(or.document.write(Ct),or.document.title=T.filename),or||typeof safari>"u")return or;break;case"datauri":case"dataurl":return it.document.location.href=this.output("datauristring",T);default:return null}}),Om=function(g){return Array.isArray($l)===!0&&$l.indexOf(g)>-1};switch(n){case"pt":Ve=1;break;case"mm":Ve=72/25.4;break;case"cm":Ve=72/2.54;break;case"in":Ve=72;break;case"px":Ve=Om("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ve=12;break;case"ex":Ve=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ve=n}var fs=null;ee(),D();var x1=function(g){return f!==null?fs.encryptor(g,0):function(T){return T}},Dm=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[g].objId,pageNumber:g,pageContext:dt[g]}},lt=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in dt)if(dt[T].objId===g)break;return Dm(T)},b1=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:dt[G].objId,pageNumber:G,pageContext:dt[G]}};p.addPage=function(){return Tm.apply(this,arguments),this},p.setPage=function(){return _m.apply(this,arguments),we.call(this,Le[G]),this},p.insertPage=function(g){return this.addPage(),this.movePage(G,g),this},p.movePage=function(g,T){var re,le;if(g>T){re=Le[g],le=dt[g];for(var ge=g;ge>T;ge--)Le[ge]=Le[ge-1],dt[ge]=dt[ge-1];Le[T]=re,dt[T]=le,this.setPage(T)}else if(g<T){re=Le[g],le=dt[g];for(var je=g;je<T;je++)Le[je]=Le[je+1],dt[je]=dt[je+1];Le[T]=re,dt[T]=le,this.setPage(T)}return this},p.deletePage=function(){return u1.apply(this,arguments),this},p.__private__.text=p.text=function(g,T,re,le,ge){var je,Ie,Ge,et,mt,ut,Ct,or,mr,_r=(le=le||{}).scope||this;if(typeof g=="number"&&typeof T=="number"&&(typeof re=="string"||Array.isArray(re))){var ms=re;re=T,T=g,g=ms}if(arguments[3]instanceof nt?(_("The transform parameter of text() with a Matrix value"),mr=ge):(Ge=arguments[4],et=arguments[5],Ht(Ct=arguments[3])==="object"&&Ct!==null||(typeof Ge=="string"&&(et=Ge,Ge=null),typeof Ct=="string"&&(et=Ct,Ct=null),typeof Ct=="number"&&(Ge=Ct,Ct=null),le={flags:Ct,angle:Ge,align:et})),isNaN(T)||isNaN(re)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return _r;var qr="",ua=!1,pn=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:Jl,Ya=_r.internal.scaleFactor;function Gm(Yt){return Yt=Yt.split("	").join(Array(le.TabLen||9).join(" ")),$s(Yt,Ct)}function fh(Yt){for(var Xt,jr=Yt.concat(),Mr=[],Di=jr.length;Di--;)typeof(Xt=jr.shift())=="string"?Mr.push(Xt):Array.isArray(Yt)&&(Xt.length===1||Xt[1]===void 0&&Xt[2]===void 0)?Mr.push(Xt[0]):Mr.push([Xt[0],Xt[1],Xt[2]]);return Mr}function mh(Yt,Xt){var jr;if(typeof Yt=="string")jr=Xt(Yt)[0];else if(Array.isArray(Yt)){for(var Mr,Di,Nh=Yt.concat(),Md=[],Km=Nh.length;Km--;)typeof(Mr=Nh.shift())=="string"?Md.push(Xt(Mr)[0]):Array.isArray(Mr)&&typeof Mr[0]=="string"&&(Di=Xt(Mr[0],Mr[1],Mr[2]),Md.push([Di[0],Di[1],Di[2]]));jr=Md}return jr}var Ed=!1,ph=!0;if(typeof g=="string")Ed=!0;else if(Array.isArray(g)){var gh=g.concat();Ie=[];for(var Id,ts=gh.length;ts--;)(typeof(Id=gh.shift())!="string"||Array.isArray(Id)&&typeof Id[0]!="string")&&(ph=!1);Ed=ph}if(Ed===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Td=Re/_r.internal.scaleFactor,_d=Td*(pn-1);switch(le.baseline){case"bottom":re-=_d;break;case"top":re+=Td-_d;break;case"hanging":re+=Td-2*_d;break;case"middle":re+=Td/2-_d}if((ut=le.maxWidth||0)>0&&(typeof g=="string"?g=_r.splitTextToSize(g,ut):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Yt,Xt){return Yt.concat(_r.splitTextToSize(Xt,ut))},[]))),je={text:g,x:T,y:re,options:le,mutex:{pdfEscape:$s,activeFontKey:Nt,fonts:Qt,activeFontSize:Re}},Dt.publish("preProcessText",je),g=je.text,Ge=(le=je.options).angle,!(mr instanceof nt)&&Ge&&typeof Ge=="number"){Ge*=Math.PI/180,le.rotationDirection===0&&(Ge=-Ge),A===b.ADVANCED&&(Ge=-Ge);var Bd=Math.cos(Ge),xh=Math.sin(Ge);mr=new nt(Bd,xh,-xh,Bd,0,0)}else Ge&&Ge instanceof nt&&(mr=Ge);A!==b.ADVANCED||mr||(mr=$a),(mt=le.charSpace||Cd)!==void 0&&(qr+=M(S(mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(or=le.horizontalScale)!==void 0&&(qr+=M(100*or)+` Tz
`),le.lang;var Ws=-1,P1=le.renderingMode!==void 0?le.renderingMode:le.stroke,bh=_r.internal.getCurrentPageInfo().pageContext;switch(P1){case 0:case!1:case"fill":Ws=0;break;case 1:case!0:case"stroke":Ws=1;break;case 2:case"fillThenStroke":Ws=2;break;case 3:case"invisible":Ws=3;break;case 4:case"fillAndAddForClipping":Ws=4;break;case 5:case"strokeAndAddPathForClipping":Ws=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ws=6;break;case 7:case"addToPathForClipping":Ws=7}var $m=bh.usedRenderingMode!==void 0?bh.usedRenderingMode:-1;Ws!==-1?qr+=Ws+` Tr
`:$m!==-1&&(qr+=`0 Tr
`),Ws!==-1&&(bh.usedRenderingMode=Ws),et=le.align||"left";var Bn,Od=Re*pn,Wm=_r.internal.pageSize.getWidth(),Qm=Qt[Nt];mt=le.charSpace||Cd,ut=le.maxWidth||0,Ct=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Po=[],Xl=function(Yt){return _r.getStringUnitWidth(Yt,{font:Qm,charSpace:mt,fontSize:Re,doKerning:!1})*Re/Ya};if(Object.prototype.toString.call(g)==="[object Array]"){var Qs;Ie=fh(g),et!=="left"&&(Bn=Ie.map(Xl));var Es,Lo=0;if(et==="right"){T-=Bn[0],g=[],ts=Ie.length;for(var _i=0;_i<ts;_i++)_i===0?(Es=Ka(T),Qs=Ti(re)):(Es=S(Lo-Bn[_i]),Qs=-Od),g.push([Ie[_i],Es,Qs]),Lo=Bn[_i]}else if(et==="center"){T-=Bn[0]/2,g=[],ts=Ie.length;for(var Bi=0;Bi<ts;Bi++)Bi===0?(Es=Ka(T),Qs=Ti(re)):(Es=S((Lo-Bn[Bi])/2),Qs=-Od),g.push([Ie[Bi],Es,Qs]),Lo=Bn[Bi]}else if(et==="left"){g=[],ts=Ie.length;for(var Dd=0;Dd<ts;Dd++)g.push(Ie[Dd])}else if(et==="justify"&&Qm.encoding==="Identity-H"){g=[],ts=Ie.length,ut=ut!==0?ut:Wm;for(var Oi=0,Nr=0;Nr<ts;Nr++)if(Qs=Nr===0?Ti(re):-Od,Es=Nr===0?Ka(T):Oi,Nr<ts-1){var vh=S((ut-Bn[Nr])/(Ie[Nr].split(" ").length-1)),Is=Ie[Nr].split(" ");g.push([Is[0]+" ",Es,Qs]),Oi=0;for(var On=1;On<Is.length;On++){var Rd=(Xl(Is[On-1]+" "+Is[On])-Xl(Is[On]))*Ya+vh;On==Is.length-1?g.push([Is[On],Rd,0]):g.push([Is[On]+" ",Rd,0]),Oi-=Rd}}else g.push([Ie[Nr],Es,Qs]);g.push(["",Oi,0])}else{if(et!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],ts=Ie.length,ut=ut!==0?ut:Wm,Nr=0;Nr<ts;Nr++)Qs=Nr===0?Ti(re):-Od,Es=Nr===0?Ka(T):0,Nr<ts-1?Po.push(M(S((ut-Bn[Nr])/(Ie[Nr].split(" ").length-1)))):Po.push(0),g.push([Ie[Nr],Es,Qs])}}var Jm=typeof le.R2L=="boolean"?le.R2L:Ze;Jm===!0&&(g=mh(g,function(Yt,Xt,jr){return[Yt.split("").reverse().join(""),Xt,jr]})),je={text:g,x:T,y:re,options:le,mutex:{pdfEscape:$s,activeFontKey:Nt,fonts:Qt,activeFontSize:Re}},Dt.publish("postProcessText",je),g=je.text,ua=je.mutex.isHex||!1;var yh=Qt[Nt].encoding;yh!=="WinAnsiEncoding"&&yh!=="StandardEncoding"||(g=mh(g,function(Yt,Xt,jr){return[Gm(Yt),Xt,jr]})),Ie=fh(g),g=[];for(var Zl,ec,Eo,tc=0,Fd=1,rc=Array.isArray(Ie[0])?Fd:tc,Io="",wh=function(Yt,Xt,jr){var Mr="";return jr instanceof nt?(jr=typeof le.angle=="number"?aa(jr,new nt(1,0,0,1,Yt,Xt)):aa(new nt(1,0,0,1,Yt,Xt),jr),A===b.ADVANCED&&(jr=aa(new nt(1,0,0,-1,0,0),jr)),Mr=jr.join(" ")+` Tm
`):Mr=M(Yt)+" "+M(Xt)+` Td
`,Mr},Dn=0;Dn<Ie.length;Dn++){switch(Io="",rc){case Fd:Eo=(ua?"<":"(")+Ie[Dn][0]+(ua?">":")"),Zl=parseFloat(Ie[Dn][1]),ec=parseFloat(Ie[Dn][2]);break;case tc:Eo=(ua?"<":"(")+Ie[Dn]+(ua?">":")"),Zl=Ka(T),ec=Ti(re)}Po!==void 0&&Po[Dn]!==void 0&&(Io=Po[Dn]+` Tw
`),Dn===0?g.push(Io+wh(Zl,ec,mr)+Eo):rc===tc?g.push(Io+Eo):rc===Fd&&g.push(Io+wh(Zl,ec,mr)+Eo)}g=rc===tc?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Rn=`BT
/`;return Rn+=Nt+" "+Re+` Tf
`,Rn+=M(Re*pn)+` TL
`,Rn+=Kl+`
`,Rn+=qr,Rn+=g,ne(Rn+="ET"),x[Nt]=!0,_r};var v1=p.__private__.clip=p.clip=function(g){return ne(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return v1("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Ja=p.__private__.isValidStyle=function(g){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(T=!0),T};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Ja(g)&&(u=g),this};var Rm=p.__private__.getStyle=p.getStyle=function(g){var T=u;switch(g){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=g}return T},Fm=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(g){return kd("f",g),this},p.fillEvenOdd=function(g){return kd("f*",g),this},p.fillStroke=function(g){return kd("B",g),this},p.fillStrokeEvenOdd=function(g){return kd("B*",g),this};var kd=function(g,T){Ht(T)==="object"?w1(T,g):ne(g)},sh=function(g){g===null||A===b.ADVANCED&&g===void 0||(g=Rm(g),ne(g))};function y1(g,T,re,le,ge){var je=new xu(T||this.boundingBox,re||this.xStep,le||this.yStep,this.gState,ge||this.matrix);je.stream=this.stream;var Ie=g+"$$"+this.cloneIndex+++"$$";return Gs(Ie,je),je}var w1=function(g,T){var re=Gl[g.key],le=Ot[re];if(le instanceof fc)ne("q"),ne(N1(T)),le.gState&&p.setGState(le.gState),ne(g.matrix.toString()+" cm"),ne("/"+re+" sh"),ne("Q");else if(le instanceof xu){var ge=new nt(1,0,0,-1,0,Co());g.matrix&&(ge=ge.multiply(g.matrix||$a),re=y1.call(le,g.key,g.boundingBox,g.xStep,g.yStep,ge).id),ne("q"),ne("/Pattern cs"),ne("/"+re+" scn"),le.gState&&p.setGState(le.gState),ne(T),ne("Q")}},N1=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},nh=p.moveTo=function(g,T){return ne(M(S(g))+" "+M(R(T))+" m"),this},Ql=p.lineTo=function(g,T){return ne(M(S(g))+" "+M(R(T))+" l"),this},ko=p.curveTo=function(g,T,re,le,ge,je){return ne([M(S(g)),M(R(T)),M(S(re)),M(R(le)),M(S(ge)),M(R(je)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,T,re,le,ge){if(isNaN(g)||isNaN(T)||isNaN(re)||isNaN(le)||!Ja(ge))throw new Error("Invalid arguments passed to jsPDF.line");return A===b.COMPAT?this.lines([[re-g,le-T]],g,T,[1,1],ge||"S"):this.lines([[re-g,le-T]],g,T,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,T,re,le,ge,je){var Ie,Ge,et,mt,ut,Ct,or,mr,_r,ms,qr,ua;if(typeof g=="number"&&(ua=re,re=T,T=g,g=ua),le=le||[1,1],je=je||!1,isNaN(T)||isNaN(re)||!Array.isArray(g)||!Array.isArray(le)||!Ja(ge)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nh(T,re),Ie=le[0],Ge=le[1],mt=g.length,ms=T,qr=re,et=0;et<mt;et++)(ut=g[et]).length===2?(ms=ut[0]*Ie+ms,qr=ut[1]*Ge+qr,Ql(ms,qr)):(Ct=ut[0]*Ie+ms,or=ut[1]*Ge+qr,mr=ut[2]*Ie+ms,_r=ut[3]*Ge+qr,ms=ut[4]*Ie+ms,qr=ut[5]*Ge+qr,ko(Ct,or,mr,_r,ms,qr));return je&&Fm(),sh(ge),this},p.path=function(g){for(var T=0;T<g.length;T++){var re=g[T],le=re.c;switch(re.op){case"m":nh(le[0],le[1]);break;case"l":Ql(le[0],le[1]);break;case"c":ko.apply(this,le);break;case"h":Fm()}}return this},p.__private__.rect=p.rect=function(g,T,re,le,ge){if(isNaN(g)||isNaN(T)||isNaN(re)||isNaN(le)||!Ja(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return A===b.COMPAT&&(le=-le),ne([M(S(g)),M(R(T)),M(S(re)),M(S(le)),"re"].join(" ")),sh(ge),this},p.__private__.triangle=p.triangle=function(g,T,re,le,ge,je,Ie){if(isNaN(g)||isNaN(T)||isNaN(re)||isNaN(le)||isNaN(ge)||isNaN(je)||!Ja(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-g,le-T],[ge-re,je-le],[g-ge,T-je]],g,T,[1,1],Ie,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,T,re,le,ge,je,Ie){if(isNaN(g)||isNaN(T)||isNaN(re)||isNaN(le)||isNaN(ge)||isNaN(je)||!Ja(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ge=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*re),je=Math.min(je,.5*le),this.lines([[re-2*ge,0],[ge*Ge,0,ge,je-je*Ge,ge,je],[0,le-2*je],[0,je*Ge,-ge*Ge,je,-ge,je],[2*ge-re,0],[-ge*Ge,0,-ge,-je*Ge,-ge,-je],[0,2*je-le],[0,-je*Ge,ge*Ge,-je,ge,-je]],g+ge,T,[1,1],Ie,!0),this},p.__private__.ellipse=p.ellipse=function(g,T,re,le,ge){if(isNaN(g)||isNaN(T)||isNaN(re)||isNaN(le)||!Ja(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*re,Ie=4/3*(Math.SQRT2-1)*le;return nh(g+re,T),ko(g+re,T-Ie,g+je,T-le,g,T-le),ko(g-je,T-le,g-re,T-Ie,g-re,T),ko(g-re,T+Ie,g-je,T+le,g,T+le),ko(g+je,T+le,g+re,T+Ie,g+re,T),sh(ge),this},p.__private__.circle=p.circle=function(g,T,re,le){if(isNaN(g)||isNaN(T)||isNaN(re)||!Ja(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,T,re,re,le)},p.setFont=function(g,T,re){return re&&(T=V(T,re)),Nt=Bm(g,T,{disableWarning:!1}),this};var j1=p.__private__.getFont=p.getFont=function(){return Qt[Bm.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,T,re={};for(g in nr)if(nr.hasOwnProperty(g))for(T in re[g]=[],nr[g])nr[g].hasOwnProperty(T)&&re[g].push(T);return re},p.addFont=function(g,T,re,le,ge){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(re=V(re,le)),ge=ge||"Identity-H",eh.call(this,g,T,re,ge)};var Jl,ah=t.lineWidth||.200025,Sd=p.__private__.getLineWidth=p.getLineWidth=function(){return ah},Mm=p.__private__.setLineWidth=p.setLineWidth=function(g){return ah=g,ne(M(S(g))+" w"),this};p.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(g,T){if(g=g||[],T=T||0,isNaN(T)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(re){return M(S(re))}).join(" "),T=M(S(T)),ne("["+g+"] "+T+" d"),this};var Um=p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Jl};p.__private__.getLineHeight=p.getLineHeight=function(){return Re*Jl};var zm=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Jl=g),this},Hm=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Jl};zm(t.lineHeight);var Ka=p.__private__.getHorizontalCoordinate=function(g){return S(g)},Ti=p.__private__.getVerticalCoordinate=function(g){return A===b.ADVANCED?g:dt[G].mediaBox.topRightY-dt[G].mediaBox.bottomLeftY-S(g)},A1=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return M(Ka(g))},So=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return M(Ti(g))},da=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return oa(da)},p.__private__.setStrokeColor=p.setDrawColor=function(g,T,re,le){return da=la({ch1:g,ch2:T,ch3:re,ch4:le,pdfColorType:"draw",precision:2}),ne(da),this};var ih=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return oa(ih)},p.__private__.setFillColor=p.setFillColor=function(g,T,re,le){return ih=la({ch1:g,ch2:T,ch3:re,ch4:le,pdfColorType:"fill",precision:2}),ne(ih),this};var Kl=t.textColor||"0 g",k1=p.__private__.getTextColor=p.getTextColor=function(){return oa(Kl)};p.__private__.setTextColor=p.setTextColor=function(g,T,re,le){return Kl=la({ch1:g,ch2:T,ch3:re,ch4:le,pdfColorType:"text",precision:3}),this};var Cd=t.charSpace,S1=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Cd||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cd=g,this};var oh=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var T=p.CapJoinStyles[g];if(T===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oh=T,ne(T+" J"),this};var lh=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var T=p.CapJoinStyles[g];if(T===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return lh=T,ne(T+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(M(S(g))+" M"),this},p.GState=cx,p.setGState=function(g){(g=typeof g=="string"?hr[na[g]]:qm(null,g)).equals(Li)||(ne("/"+g.id+" gs"),Li=g)};var qm=function(g,T){if(!g||!na[g]){var re=!1;for(var le in hr)if(hr.hasOwnProperty(le)&&hr[le].equals(T)){re=!0;break}if(re)T=hr[le];else{var ge="GS"+(Object.keys(hr).length+1).toString(10);hr[ge]=T,T.id=ge}return g&&(na[g]=T.id),Dt.publish("addGState",T),T}};p.addGState=function(g,T){return qm(g,T),this},p.saveGraphicsState=function(){return ne("q"),qa.push({key:Nt,size:Re,color:Kl}),this},p.restoreGraphicsState=function(){ne("Q");var g=qa.pop();return Nt=g.key,Re=g.size,Kl=g.color,Li=null,this},p.setCurrentTransformationMatrix=function(g){return ne(g.toString()+" cm"),this},p.comment=function(g){return ne("#"+g),this};var Pd=function(g,T){var re=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(je){isNaN(je)||(re=parseFloat(je))}});var le=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(je){isNaN(je)||(le=parseFloat(je))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(je){ge=je.toString()}}),this},ch=function(g,T,re,le){Pd.call(this,g,T),this.type="rect";var ge=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Ie){isNaN(Ie)||(ge=parseFloat(Ie))}});var je=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Ie){isNaN(Ie)||(je=parseFloat(Ie))}}),this},dh=function(){this.page=fr,this.currentPage=G,this.pages=Le.slice(0),this.pagesContext=dt.slice(0),this.x=hs,this.y=It,this.matrix=sa,this.width=Yl(G),this.height=Co(G),this.outputDestination=_e,this.id="",this.objectNumber=-1};dh.prototype.restore=function(){fr=this.page,G=this.currentPage,dt=this.pagesContext,Le=this.pages,hs=this.x,It=this.y,sa=this.matrix,uh(G,this.width),hh(G,this.height),_e=this.outputDestination};var Vm=function(g,T,re,le,ge){Ga.push(new dh),fr=G=0,Le=[],hs=g,It=T,sa=ge,th([re,le])},C1=function(g){if(Va[g])Ga.pop().restore();else{var T=new dh,re="Xo"+(Object.keys(es).length+1).toString(10);T.id=re,Va[g]=re,es[re]=T,Dt.publish("addFormObject",T),Ga.pop().restore()}};for(var Ld in p.beginFormObject=function(g,T,re,le,ge){return Vm(g,T,re,le,ge),this},p.endFormObject=function(g){return C1(g),this},p.doFormObject=function(g,T){var re=es[Va[g]];return ne("q"),ne(T.toString()+" cm"),ne("/"+re.id+" Do"),ne("Q"),this},p.getFormObject=function(g){var T=es[Va[g]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},p.save=function(g,T){return g=g||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(dc(jd(Ii()),g),typeof dc.unload=="function"&&it.setTimeout&&setTimeout(dc.unload,911),this):new Promise(function(re,le){try{var ge=dc(jd(Ii()),g);typeof dc.unload=="function"&&it.setTimeout&&setTimeout(dc.unload,911),re(ge)}catch(je){le(je.message)}})},at.API)at.API.hasOwnProperty(Ld)&&(Ld==="events"&&at.API.events.length?function(g,T){var re,le,ge;for(ge=T.length-1;ge!==-1;ge--)re=T[ge][0],le=T[ge][1],g.subscribe.apply(g,[re].concat(typeof le=="function"?[le]:le))}(Dt,at.API.events):p[Ld]=at.API[Ld]);var Yl=p.getPageWidth=function(g){return(dt[g=g||G].mediaBox.topRightX-dt[g].mediaBox.bottomLeftX)/Ve},uh=p.setPageWidth=function(g,T){dt[g].mediaBox.topRightX=T*Ve+dt[g].mediaBox.bottomLeftX},Co=p.getPageHeight=function(g){return(dt[g=g||G].mediaBox.topRightY-dt[g].mediaBox.bottomLeftY)/Ve},hh=p.setPageHeight=function(g,T){dt[g].mediaBox.topRightY=T*Ve+dt[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:$s,getStyle:Rm,getFont:j1,getFontSize:ze,getCharSpace:S1,getTextColor:k1,getLineHeight:Um,getLineHeightFactor:Hm,getLineWidth:Sd,write:ft,getHorizontalCoordinate:Ka,getVerticalCoordinate:Ti,getCoordinateString:A1,getVerticalCoordinateString:So,collections:{},newObject:Fr,newAdditionalObject:pd,newObjectDeferred:Tr,newObjectDeferredBegin:mn,getFilters:Wa,putStream:_n,events:Dt,scaleFactor:Ve,pageSize:{getWidth:function(){return Yl(G)},setWidth:function(g){uh(G,g)},getHeight:function(){return Co(G)},setHeight:function(g){hh(G,g)}},encryptionOptions:f,encryption:fs,getEncryptor:x1,output:Ad,getNumberOfPages:h1,pages:Le,out:ne,f2:J,f3:P,getPageInfo:Dm,getPageInfoByObjId:lt,getCurrentPageInfo:b1,getPDFVersion:w,Point:Pd,Rectangle:ch,Matrix:nt,hasHotfix:Om},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Yl(G)},set:function(g){uh(G,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Co(G)},set:function(g){hh(G,g)},enumerable:!0,configurable:!0}),d1.call(p,Be),Nt="F1",Tm(a,r),Dt.publish("initialized"),p}eu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},eu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},eu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},eu.prototype.processOwnerPassword=function(t,e){return F5(R5(e).substr(0,5),t)},eu.prototype.encryptor=function(t,e){var r=R5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return F5(r,n)}},cx.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ht(t)!==Ht(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},at.API={events:[]},at.version="2.5.2";var xr=at.API,uy=1,md=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ht=function(t){return t.toFixed(2)},Go=function(t){return t.toFixed(5)};xr.__acroform__={};var fn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},F3=function(t){return t*uy},ri=function(t){var e=new Dk,r=Ke.internal.getHeight(t)||0,n=Ke.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ht(n)),Number(ht(r))],e},IB=xr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},TB=xr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},_B=xr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Pr=xr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return _B(t,e-1)},Lr=xr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IB(t,e-1)},Er=xr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TB(t,e-1)},BB=xr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(i)||0,[Number(ht(c.lowerLeft_X)),Number(ht(c.lowerLeft_Y)),Number(ht(c.upperRight_X)),Number(ht(c.upperRight_Y))]},OB=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=M5(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+ht(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=ri(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},M5=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(P){return P.split(`
`)}):a.map(function(P){return[P]});var i=r,o=Ke.internal.getHeight(t)||0;o=o<0?-o:o;var l=Ke.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(P,S,W){if(P+1<a.length){var R=S+" "+a[P+1][0];return Gp(R,t,W).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,f,m=Gp("3",t,i).height,x=t.multiline?o-i:(o-m)/2,p=x+=2,k=0,w=0,N=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Gp(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",b=0,A=0;A<a.length;A++)if(a.hasOwnProperty(A)){var E=!1;if(a[A].length!==1&&N!==a[A].length-1){if((m+2)*(b+2)+2>o)continue e;y+=a[A][N],E=!0,w=A,A--}else{y=(y+=a[A][N]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var U=parseInt(A),V=c(U,y,i),M=A>=a.length-1;if(V&&!M){y+=" ",N=0;continue}if(V||M){if(M)w=U;else if(t.multiline&&(m+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(b+2)+2>o)continue e;w=U}}for(var _="",$=k;$<=w;$++){var J=a[$];if(t.multiline){if($===w){_+=J[N]+" ",N=(N+1)%J.length;continue}if($===k){_+=J[J.length-1]+" ";continue}}_+=J[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,f=Gp(_,t,i).width,t.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;case"left":default:u=2}e+=ht(u)+" "+ht(p)+` Td
`,e+="("+md(_)+`) Tj
`,e+=-ht(u)+` 0 Td
`,p=-(i+2),f=0,k=E?w:w+1,b++,y=""}break}return n.text=e,n.fontSize=i,n},Gp=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},DB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},RB=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},FB=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Ht(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},MB=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(za.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(DB)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");uy=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Rk,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&RB(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=BB(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ke.createDefaultAppearanceStream(l),Ht(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=OB(l);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var x in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(x)){var p=l.appearanceStreamContent[x];if(m+="/"+x+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var k=p[o];typeof k=="function"&&(k=k.call(a,l)),m+="/"+o+" "+k+" ",a.internal.acroformPlugin.xForms.indexOf(k)>=0||a.internal.acroformPlugin.xForms.push(k)}}else typeof(k=p)=="function"&&(k=k.call(a,l)),m+="/"+o+" "+k,a.internal.acroformPlugin.xForms.indexOf(k)>=0||a.internal.acroformPlugin.xForms.push(k);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&FB(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ok=xr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Ht(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+md(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$b=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+md(n(t))+")"},vi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};vi.prototype.toString=function(){return this.objId+" 0 R"},vi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},vi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:Ok(a,this.objId,this.scope)}):a instanceof vi?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var Dk=function(){vi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};fn(Dk,vi);var Rk=function(){vi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+md(r(t))+")"}},set:function(r){t=r}})};fn(Rk,vi);var za=function t(){vi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pr(e,3)},set:function(y){y?this.F=Lr(e,3):this.F=Er(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof dx)return;i="FieldObject"+t.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+md(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/uy:u},set:function(y){u=y}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(y){f=y}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof dx||this instanceof Xc))return $b(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=y}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Jr?x:$b(x,this.objId,this.scope)},set:function(y){y=y.toString(),x=this instanceof Jr?y:y.substr(0,1)==="("?Jd(y.substr(1,y.length-2)):Jd(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?Jd(x.substr(1,x.length-1)):x},set:function(y){y=y.toString(),x=this instanceof Jr?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Jr?p:$b(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Jr?y:y.substr(0,1)==="("?Jd(y.substr(1,y.length-2)):Jd(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?Jd(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Jr?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(y){y=!!y,w=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(y){k=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,1)},set:function(y){y?this.Ff=Lr(this.Ff,1):this.Ff=Er(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,2)},set:function(y){y?this.Ff=Lr(this.Ff,2):this.Ff=Er(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,3)},set:function(y){y?this.Ff=Lr(this.Ff,3):this.Ff=Er(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');N=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(N){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};fn(za,vi);var Bu=function(){za.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ok(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,u=[];c=o.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,18)},set:function(r){r?this.Ff=Lr(this.Ff,18):this.Ff=Er(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Lr(this.Ff,19):this.Ff=Er(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,20)},set:function(r){r?(this.Ff=Lr(this.Ff,20),e.sort()):this.Ff=Er(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,22)},set:function(r){r?this.Ff=Lr(this.Ff,22):this.Ff=Er(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,23)},set:function(r){r?this.Ff=Lr(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,27)},set:function(r){r?this.Ff=Lr(this.Ff,27):this.Ff=Er(this.Ff,27)}}),this.hasAppearanceStream=!1};fn(Bu,za);var Ou=function(){Bu.call(this),this.fontName="helvetica",this.combo=!1};fn(Ou,Bu);var Du=function(){Ou.call(this),this.combo=!0};fn(Du,Ou);var gg=function(){Du.call(this),this.edit=!0};fn(gg,Du);var Jr=function(){za.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,15)},set:function(r){r?this.Ff=Lr(this.Ff,15):this.Ff=Er(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,16)},set:function(r){r?this.Ff=Lr(this.Ff,16):this.Ff=Er(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,17)},set:function(r){r?this.Ff=Lr(this.Ff,17):this.Ff=Er(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,26)},set:function(r){r?this.Ff=Lr(this.Ff,26):this.Ff=Er(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+md(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ht(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};fn(Jr,za);var xg=function(){Jr.call(this),this.pushButton=!0};fn(xg,Jr);var Ru=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};fn(Ru,Jr);var dx=function(){var t,e;za.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+md(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Ht(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ke.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fn(dx,za),Ru.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ru.prototype.createOption=function(t){var e=new dx;return e.Parent=this,e.optionName=t,this.Kids.push(e),UB.call(this.scope,e),e};var bg=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ke.CheckBox.createAppearanceStream()};fn(bg,Jr);var Xc=function(){za.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,13)},set:function(e){e?this.Ff=Lr(this.Ff,13):this.Ff=Er(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,21)},set:function(e){e?this.Ff=Lr(this.Ff,21):this.Ff=Er(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,23)},set:function(e){e?this.Ff=Lr(this.Ff,23):this.Ff=Er(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,24)},set:function(e){e?this.Ff=Lr(this.Ff,24):this.Ff=Er(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,25)},set:function(e){e?this.Ff=Lr(this.Ff,25):this.Ff=Er(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,26)},set:function(e){e?this.Ff=Lr(this.Ff,26):this.Ff=Er(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fn(Xc,za);var vg=function(){Xc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,14)},set:function(t){t?this.Ff=Lr(this.Ff,14):this.Ff=Er(this.Ff,14)}}),this.password=!0};fn(vg,Xc);var Ke={CheckBox:{createAppearanceStream:function(){return{N:{On:Ke.CheckBox.YesNormal},D:{On:Ke.CheckBox.YesPushDown,Off:Ke.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ri(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=M5(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ht(Ke.internal.getWidth(t))+" "+ht(Ke.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ht(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ri(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Ke.internal.getHeight(t),o=Ke.internal.getWidth(t),l=M5(t,t.caption);return a.push("1 g"),a.push("0 0 "+ht(o)+" "+ht(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ht(o-1)+" "+ht(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ht(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=ri(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(Ke.internal.getWidth(t))+" "+ht(Ke.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Circle.YesNormal,e.D[t]=Ke.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ri(t);e.scope=t.scope;var r=[],n=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Ke.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Go(Ke.internal.getWidth(t)/2)+" "+Go(Ke.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ri(t);e.scope=t.scope;var r=[],n=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ke.internal.Bezier_C).toFixed(5)),o=Number((n*Ke.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Go(Ke.internal.getWidth(t)/2)+" "+Go(Ke.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Go(Ke.internal.getWidth(t)/2)+" "+Go(Ke.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ri(t);e.scope=t.scope;var r=[],n=Ke.internal.getWidth(t)<=Ke.internal.getHeight(t)?Ke.internal.getWidth(t)/4:Ke.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ke.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Go(Ke.internal.getWidth(t)/2)+" "+Go(Ke.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ke.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ke.RadioButton.Cross.YesNormal,e.D[t]=Ke.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ri(t);e.scope=t.scope;var r=[],n=Ke.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ht(Ke.internal.getWidth(t)-2)+" "+ht(Ke.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ht(n.x1.x)+" "+ht(n.x1.y)+" m"),r.push(ht(n.x2.x)+" "+ht(n.x2.y)+" l"),r.push(ht(n.x4.x)+" "+ht(n.x4.y)+" m"),r.push(ht(n.x3.x)+" "+ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ri(t);e.scope=t.scope;var r=Ke.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(Ke.internal.getWidth(t))+" "+ht(Ke.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ht(Ke.internal.getWidth(t)-2)+" "+ht(Ke.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ht(r.x1.x)+" "+ht(r.x1.y)+" m"),n.push(ht(r.x2.x)+" "+ht(r.x2.y)+" l"),n.push(ht(r.x4.x)+" "+ht(r.x4.y)+" m"),n.push(ht(r.x3.x)+" "+ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ri(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(Ke.internal.getWidth(t))+" "+ht(Ke.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ke.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ke.internal.getWidth(t),r=Ke.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ke.internal.getWidth=function(t){var e=0;return Ht(t)==="object"&&(e=F3(t.Rect[2])),e},Ke.internal.getHeight=function(t){var e=0;return Ht(t)==="object"&&(e=F3(t.Rect[3])),e};var UB=xr.addField=function(t){if(MB(this,t),!(t instanceof za))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};xr.AcroFormChoiceField=Bu,xr.AcroFormListBox=Ou,xr.AcroFormComboBox=Du,xr.AcroFormEditBox=gg,xr.AcroFormButton=Jr,xr.AcroFormPushButton=xg,xr.AcroFormRadioButton=Ru,xr.AcroFormCheckBox=bg,xr.AcroFormTextField=Xc,xr.AcroFormPasswordField=vg,xr.AcroFormAppearance=Ke,xr.AcroForm={ChoiceField:Bu,ListBox:Ou,ComboBox:Du,EditBox:gg,Button:Jr,PushButton:xg,RadioButton:Ru,CheckBox:bg,TextField:Xc,PasswordField:vg,Appearance:Ke},at.AcroForm={ChoiceField:Bu,ListBox:Ou,ComboBox:Du,EditBox:gg,Button:Jr,PushButton:xg,RadioButton:Ru,CheckBox:bg,TextField:Xc,PasswordField:vg,Appearance:Ke};function Fk(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(P,S){var W,R,Z,Y,z,D=e;if((S=S||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(V(P))for(z in r)for(Z=r[z],W=0;W<Z.length;W+=1){for(Y=!0,R=0;R<Z[W].length;R+=1)if(Z[W][R]!==void 0&&Z[W][R]!==P[R]){Y=!1;break}if(Y===!0){D=z;break}}else for(z in r)for(Z=r[z],W=0;W<Z.length;W+=1){for(Y=!0,R=0;R<Z[W].length;R+=1)if(Z[W][R]!==void 0&&Z[W][R]!==P.charCodeAt(R)){Y=!1;break}if(Y===!0){D=z;break}}return D===e&&S!==e&&(D=S),D},a=function P(S){for(var W=this.internal.write,R=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:S.width}),Y.push({key:"Height",value:S.height}),S.colorSpace===N.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===N.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)){for(var z="",D=0,Q=S.transparency.length;D<Q;D++)z+=S.transparency[D]+" "+S.transparency[D]+" ";Y.push({key:"Mask",value:"["+z+"]"})}S.sMask!==void 0&&Y.push({key:"SMask",value:S.objectId+1+" 0 R"});var q=S.filter!==void 0?["/"+S.filter]:void 0;if(R({data:S.data,additionalKeyValues:Y,alreadyAppliedFilters:q,objectId:S.objectId}),W("endobj"),"sMask"in S&&S.sMask!==void 0){var ee="/Predictor "+S.predictor+" /Colors 1 /BitsPerComponent "+S.bitsPerComponent+" /Columns "+S.width,C={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:S.bitsPerComponent,decodeParameters:ee,data:S.sMask};"filter"in S&&(C.filter=S.filter),P.call(this,C)}if(S.colorSpace===N.INDEXED){var G=this.internal.newObject();R({data:_(new Uint8Array(S.palette)),objectId:G}),W("endobj")}},i=function(){var P=this.internal.collections.addImage_images;for(var S in P)a.call(this,P[S])},o=function(){var P,S=this.internal.collections.addImage_images,W=this.internal.write;for(var R in S)W("/I"+(P=S[R]).index,P.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var P=this.internal.collections.addImage_images;return l.call(this),P},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(P){return typeof t["process"+P.toUpperCase()]=="function"},m=function(P){return Ht(P)==="object"&&P.nodeType===1},x=function(P,S){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var W=""+P.getAttribute("src");if(W.indexOf("data:image/")===0)return uf(unescape(W).split("base64,").pop());var R=t.loadFile(W,!0);if(R!==void 0)return R}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Z;switch(S){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return uf(P.toDataURL(Z,1).split("base64,").pop())}},p=function(P){var S=this.internal.collections.addImage_images;if(S){for(var W in S)if(P===S[W].alias)return S[W]}},k=function(P,S,W){return P||S||(P=-96,S=-96),P<0&&(P=-1*W.width*72/P/this.internal.scaleFactor),S<0&&(S=-1*W.height*72/S/this.internal.scaleFactor),P===0&&(P=S*W.width/W.height),S===0&&(S=P*W.height/W.width),[P,S]},w=function(P,S,W,R,Z,Y){var z=k.call(this,W,R,Z),D=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,q=c.call(this);if(W=z[0],R=z[1],q[Z.index]=Z,Y){Y*=Math.PI/180;var ee=Math.cos(Y),C=Math.sin(Y),G=function(te){return te.toFixed(4)},K=[G(ee),G(C),G(-1*C),G(ee),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,D(P),Q(S+R),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([D(W),"0","0",D(R),"0","0","cm"].join(" "))):this.internal.write([D(W),"0","0",D(R),D(P),Q(S+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(P){var S,W,R=0;if(typeof P=="string")for(W=P.length,S=0;S<W;S++)R=(R<<5)-R+P.charCodeAt(S),R|=0;else if(V(P))for(W=P.byteLength/2,S=0;S<W;S++)R=(R<<5)-R+P[S],R|=0;return R},A=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var S=!0;return P.length===0&&(S=!1),P.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(S=!1),S},E=t.__addimage__.extractImageFromDataUrl=function(P){var S=(P=P||"").split("base64,"),W=null;if(S.length===2){var R=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(S[0]);Array.isArray(R)&&(W={mimeType:R[1],charset:R[2],data:S[1]})}return W},U=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(P){return U()&&P instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function(P){return U()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},M=t.__addimage__.binaryStringToUint8Array=function(P){for(var S=P.length,W=new Uint8Array(S),R=0;R<S;R++)W[R]=P.charCodeAt(R);return W},_=t.__addimage__.arrayBufferToBinaryString=function(P){for(var S="",W=V(P)?P:new Uint8Array(P),R=0;R<W.length;R+=8192)S+=String.fromCharCode.apply(null,W.subarray(R,R+8192));return S};t.addImage=function(){var P,S,W,R,Z,Y,z,D,Q;if(typeof arguments[1]=="number"?(S=e,W=arguments[1],R=arguments[2],Z=arguments[3],Y=arguments[4],z=arguments[5],D=arguments[6],Q=arguments[7]):(S=arguments[1],W=arguments[2],R=arguments[3],Z=arguments[4],Y=arguments[5],z=arguments[6],D=arguments[7],Q=arguments[8]),Ht(P=arguments[0])==="object"&&!m(P)&&"imageData"in P){var q=P;P=q.imageData,S=q.format||S||e,W=q.x||W||0,R=q.y||R||0,Z=q.w||q.width||Z,Y=q.h||q.height||Y,z=q.alias||z,D=q.compression||D,Q=q.rotation||q.angle||Q}var ee=this.internal.getFilters();if(D===void 0&&ee.indexOf("FlateEncode")!==-1&&(D="SLOW"),isNaN(W)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=$.call(this,P,S,z,D);return w.call(this,W,R,Z,Y,C,Q),this};var $=function(P,S,W,R){var Z,Y,z;if(typeof P=="string"&&n(P)===e){P=unescape(P);var D=J(P,!1);(D!==""||(D=t.loadFile(P,!0))!==void 0)&&(P=D)}if(m(P)&&(P=x(P,S)),S=n(P,S),!f(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((z=W)==null||z.length===0)&&(W=function(Q){return typeof Q=="string"||V(Q)?b(Q):V(Q.data)?b(Q.data):null}(P)),(Z=p.call(this,W))||(U()&&(P instanceof Uint8Array||S==="RGBA"||(Y=P,P=M(P))),Z=this["process"+S.toUpperCase()](P,u.call(this),W,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in t.image_compression?Q:y.NONE}(R),Y)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},J=t.__addimage__.convertBase64ToBinaryString=function(P,S){var W;S=typeof S!="boolean"||S;var R,Z="";if(typeof P=="string"){R=(W=E(P))!==null?W.data:P;try{Z=uf(R)}catch(Y){if(S)throw A(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(P){var S,W,R="";if(m(P)&&(P=x(P)),typeof P=="string"&&n(P)===e&&((R=J(P,!1))===""&&(R=t.loadFile(P)||""),P=R),W=n(P),!f(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!U()||P instanceof Uint8Array||(P=M(P)),!(S=this["process"+W.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=W,S}})(at.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};at.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((n=u[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var x=0;x<u.length;x++){n=u[x];var p=this.internal.pdfEscape,k=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(w.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(y(b))+") >>",w.content=i;var A=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+A,n.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(w.objId,"0 R",N.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(k(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var U=this.annotations._nameMap[n.options.name];n.options.pageNumber=U.page,n.options.top=U.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(k(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var V=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+V+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,a,i){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&a.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(w){var N=0,y=r,b="",A=0;for(N=0;N<w.length;N+=1)y[w.charCodeAt(N)]!==void 0?(A++,typeof(y=y[w.charCodeAt(N)])=="number"&&(b+=String.fromCharCode(y),y=r,A=0),N===w.length-1&&(y=r,b+=w.charAt(N-(A-1)),N-=A-1,A=0)):(y=r,b+=w.charAt(N-A),N-=A,A=0);return b};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var x=t.__arabicParser__.getCorrectForm=function(w,N,y){return o(w)?i(w)===!1?-1:!u(w)||!o(N)&&!o(y)||!o(y)&&l(N)||l(w)&&!o(N)||l(w)&&c(N)||l(w)&&l(N)?0:f(w)&&o(N)&&!l(N)&&o(y)&&u(y)?3:l(w)||!o(y)?1:2:-1},p=function(w){var N=0,y=0,b=0,A="",E="",U="",V=(w=w||"").split("\\s+"),M=[];for(N=0;N<V.length;N+=1){for(M.push(""),y=0;y<V[N].length;y+=1)A=V[N][y],E=V[N][y-1],U=V[N][y+1],o(A)?(b=x(A,E,U),M[N]+=b!==-1?String.fromCharCode(e[A.charCodeAt(0)][b]):A):M[N]+=A;M[N]=m(M[N])}return M.join(" ")},k=t.__arabicParser__.processArabic=t.processArabic=function(){var w,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(N)){var b=0;for(y=[],b=0;b<N.length;b+=1)Array.isArray(N[b])?y.push([p(N[b][0]),N[b][1],N[b][2]]):y.push([p(N[b])]);w=y}else w=p(N);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",k])}(at.API),at.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(w){x=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(w){k=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),x=u.scaleFactor||this.internal.scaleFactor,p=0,k=0,w=0,N=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(A,E){return A.concat(N.splitTextToSize(E,y))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)p<(w=this.getStringUnitWidth(c[b],{font:m})*f)&&(p=w);return p!==0&&(k=c.length),{w:p/=x,h:Math.max((k*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/x,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&x&&(this.printHeaderRow(c.lineNumber,!0),c.y+=x[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,f,m,x){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,k,w,N,y=[],b=[],A=[],E={},U={},V=[],M=[],_=(x=x||{}).autoSize||!1,$=x.printHeaders!==!1,J=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,P=x.margins||Object.assign({width:this.getPageWidth()},e),S=typeof x.padding=="number"?x.padding:3,W=x.headerBackgroundColor||"#c8c8c8",R=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=R,this.setFontSize(J),m==null)b=y=Object.keys(f[0]),A=y.map(function(){return"left"});else if(Array.isArray(m)&&Ht(m[0])==="object")for(y=m.map(function(q){return q.name}),b=m.map(function(q){return q.prompt||q.name||""}),A=m.map(function(q){return q.align||"left"}),p=0;p<m.length;p+=1)U[m[p].name]=m[p].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(b=y=m,A=y.map(function(){return"left"}));if(_||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<y.length;p+=1){for(E[N=y[p]]=f.map(function(q){return q[N]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=E[N],this.setFont(void 0,"normal"),w=0;w<k.length;w+=1)V.push(this.getTextDimensions(k[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);U[N]=Math.max.apply(null,V)+S+S,V=[]}if($){var Z={};for(p=0;p<y.length;p+=1)Z[y[p]]={},Z[y[p]].text=b[p],Z[y[p]].align=A[p];var Y=l.call(this,Z,U);M=y.map(function(q){return new i(c,u,U[q],Y,Z[q].text,void 0,Z[q].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var z=m.reduce(function(q,ee){return q[ee.name]=ee.align,q},{});for(p=0;p<f.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:f[p]},this);var D=l.call(this,f[p],U);for(w=0;w<y.length;w+=1){var Q=f[p][y[w]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:w,data:Q},this),o.call(this,new i(c,u,U[y[w]],D,Q,p+2,z[y[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(c).map(function(p){var k=c[p];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/x+f+f},this).reduce(function(p,k){return Math.max(p,k)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,x.push(f)),f.lineNumber=c;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(k)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}}(at.API);var Mk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Uk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],U5=Fk(Uk),zk=[100,200,300,400,500,600,700,800,900],zB=Fk(zk);function z5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Mk[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof U5[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function M3(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var HB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},U3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function qB(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},HB,r.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(a[(i=z5(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+z3(i)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var f=U5[c],m=f<=U5.normal?-1:1,x=M3(u,Uk,f,m);if(!x)throw new Error("Could not find a matching font-stretch value for "+c);return x}(i.stretch,o),o=function(c,u){if(u[c])return u[c];for(var f=Mk[c],m=0;m<f.length;++m)if(u[f[m]])return u[f[m]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=zB[c],m=M3(u,zk,f,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+z3(i)+"'.");return o}function H3(t){return t.trimLeft()}function VB(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function GB(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var $p,q3,V3,Wb=["times"];(function(t){var e,r,n,a,i,o,l,c,u,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new c,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new o,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new o,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var m=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=C;Object.defineProperty(this,"pdf",{get:function(){return G}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(we){K=!!we}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(we){te=!!we}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(we){isNaN(we)||(oe=we)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(we){isNaN(we)||(me=we)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(we){var ne;typeof we=="number"?ne=[we,we,we,we]:((ne=new Array(4))[0]=we[0],ne[1]=we.length>=2?we[1]:ne[0],ne[2]=we.length>=3?we[2]:ne[0],ne[3]=we.length>=4?we[3]:ne[1]),u.margin=ne}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(we){ae=we}});var ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return ce},set:function(we){ce=we}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(we){Ae=we}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(we){we instanceof f&&(u=we)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(we){u.path=we}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(we){Le=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var ne;ne=x(we),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var ne=x(we);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var De=null;function _e(we,ne){if(De===null){var ft=function(Xe){var Be=[];return Object.keys(Xe).forEach(function(Re){Xe[Re].forEach(function(qe){var ze=null;switch(qe){case"bold":ze={family:Re,weight:"bold"};break;case"italic":ze={family:Re,style:"italic"};break;case"bolditalic":ze={family:Re,weight:"bold",style:"italic"};break;case"":case"normal":ze={family:Re}}ze!==null&&(ze.ref={name:Re,style:qe},Be.push(ze))})}),Be}(we.getFontList());De=function(Xe){for(var Be={},Re=0;Re<Xe.length;++Re){var qe=z5(Xe[Re]),ze=qe.family,Ze=qe.stretch,ct=qe.style,xt=qe.weight;Be[ze]=Be[ze]||{},Be[ze][Ze]=Be[ze][Ze]||{},Be[ze][Ze][ct]=Be[ze][Ze][ct]||{},Be[ze][Ze][ct][xt]=qe}return Be}(ft.concat(ne))}return De}var Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(we){De=null,Ye=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var ne;if(this.ctx.font=we,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var ft=ne[1],Xe=(ne[2],ne[3]),Be=ne[4],Re=(ne[5],ne[6]),qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(qe==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var ze=function(ot){var Nt,Ve,hs=[],It=ot.trim();if(It==="")return Wb;if(It in U3)return[U3[It]];for(;It!=="";){switch(Ve=null,Nt=(It=H3(It)).charAt(0)){case'"':case"'":Ve=VB(It.substring(1),Nt);break;default:Ve=GB(It)}if(Ve===null||(hs.push(Ve[0]),(It=H3(Ve[1]))!==""&&It.charAt(0)!==","))return Wb;It=It.replace(/^,/,"")}return hs}(Re);if(this.fontFaces){var Ze=qB(_e(this.pdf,this.fontFaces),ze.map(function(ot){return{family:ot,stretch:"normal",weight:Xe,style:ft}}));this.pdf.setFont(Ze.ref.name,Ze.ref.style)}else{var ct="";(Xe==="bold"||parseInt(Xe,10)>=700||ft==="bold")&&(ct="bold"),ft==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var xt="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<ze.length;Pt++){if(this.pdf.internal.getFont(ze[Pt],ct,{noFallback:!0,disableWarning:!0})!==void 0){xt=ze[Pt];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(ze[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=ze[Pt],ct="bold";else if(this.pdf.internal.getFont(ze[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=ze[Pt],ct="normal";break}}if(xt===""){for(var Vt=0;Vt<ze.length;Vt++)if(wt[ze[Vt]]){xt=wt[ze[Vt]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};m.prototype.setLineDash=function(C){this.lineDash=C},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){E.call(this,"fill",!1)},m.prototype.stroke=function(){E.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(C,G){if(isNaN(C)||isNaN(G))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new o(C,G));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(C,G)},m.prototype.closePath=function(){var C=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Ht(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){C=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(C.x,C.y)},m.prototype.lineTo=function(C,G){if(isNaN(C)||isNaN(G))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new o(C,G));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new o(K.x,K.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},m.prototype.quadraticCurveTo=function(C,G,K,te){if(isNaN(K)||isNaN(te)||isNaN(C)||isNaN(G))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new o(K,te)),me=this.ctx.transform.applyToPoint(new o(C,G));this.path.push({type:"qct",x1:me.x,y1:me.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},m.prototype.bezierCurveTo=function(C,G,K,te,oe,me){if(isNaN(oe)||isNaN(me)||isNaN(C)||isNaN(G)||isNaN(K)||isNaN(te))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new o(oe,me)),ce=this.ctx.transform.applyToPoint(new o(C,G)),Ae=this.ctx.transform.applyToPoint(new o(K,te));this.path.push({type:"bct",x1:ce.x,y1:ce.y,x2:Ae.x,y2:Ae.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},m.prototype.arc=function(C,G,K,te,oe,me){if(isNaN(C)||isNaN(G)||isNaN(K)||isNaN(te)||isNaN(oe))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new o(C,G));C=ae.x,G=ae.y;var ce=this.ctx.transform.applyToPoint(new o(0,K)),Ae=this.ctx.transform.applyToPoint(new o(0,0));K=Math.sqrt(Math.pow(ce.x-Ae.x,2)+Math.pow(ce.y-Ae.y,2))}Math.abs(oe-te)>=2*Math.PI&&(te=0,oe=2*Math.PI),this.path.push({type:"arc",x:C,y:G,radius:K,startAngle:te,endAngle:oe,counterclockwise:me})},m.prototype.arcTo=function(C,G,K,te,oe){throw new Error("arcTo not implemented.")},m.prototype.rect=function(C,G,K,te){if(isNaN(C)||isNaN(G)||isNaN(K)||isNaN(te))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,G),this.lineTo(C+K,G),this.lineTo(C+K,G+te),this.lineTo(C,G+te),this.lineTo(C,G),this.lineTo(C+K,G),this.lineTo(C,G)},m.prototype.fillRect=function(C,G,K,te){if(isNaN(C)||isNaN(G)||isNaN(K)||isNaN(te))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,G,K,te),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},m.prototype.strokeRect=function(C,G,K,te){if(isNaN(C)||isNaN(G)||isNaN(K)||isNaN(te))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(C,G,K,te),this.stroke())},m.prototype.clearRect=function(C,G,K,te){if(isNaN(C)||isNaN(G)||isNaN(K)||isNaN(te))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,G,K,te))},m.prototype.save=function(C){C=typeof C!="boolean"||C;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},m.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(G),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(C){var G,K,te,oe;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))G=0,K=0,te=0,oe=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(me!==null)G=parseInt(me[1]),K=parseInt(me[2]),te=parseInt(me[3]),oe=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)G=parseInt(me[1]),K=parseInt(me[2]),te=parseInt(me[3]),oe=parseFloat(me[4]);else{if(oe=1,typeof C=="string"&&C.charAt(0)!=="#"){var ae=new Tk(C);C=ae.ok?ae.toHex():"#000000"}C.length===4?(G=C.substring(1,2),G+=G,K=C.substring(2,3),K+=K,te=C.substring(3,4),te+=te):(G=C.substring(1,3),K=C.substring(3,5),te=C.substring(5,7)),G=parseInt(G,16),K=parseInt(K,16),te=parseInt(te,16)}}return{r:G,g:K,b:te,a:oe,style:C}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(C,G,K,te){if(isNaN(G)||isNaN(K)||typeof C!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var oe=D(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;S.call(this,{text:C,x:G,y:K,scale:me,angle:oe,align:this.textAlign,maxWidth:te})}},m.prototype.strokeText=function(C,G,K,te){if(isNaN(G)||isNaN(K)||typeof C!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){te=isNaN(te)?void 0:te;var oe=D(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;S.call(this,{text:C,x:G,y:K,scale:me,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:te})}},m.prototype.measureText=function(C){if(typeof C!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,K=this.pdf.internal.scaleFactor,te=G.internal.getFontSize(),oe=G.getStringUnitWidth(C)*te/G.internal.scaleFactor,me=function(ae){var ce=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this};return new me({width:oe*=Math.round(96*K/72*1e4)/1e4})},m.prototype.scale=function(C,G){if(isNaN(C)||isNaN(G))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(C,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},m.prototype.rotate=function(C){if(isNaN(C))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new c(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},m.prototype.translate=function(C,G){if(isNaN(C)||isNaN(G))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,C,G);this.ctx.transform=this.ctx.transform.multiply(K)},m.prototype.transform=function(C,G,K,te,oe,me){if(isNaN(C)||isNaN(G)||isNaN(K)||isNaN(te)||isNaN(oe)||isNaN(me))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new c(C,G,K,te,oe,me);this.ctx.transform=this.ctx.transform.multiply(ae)},m.prototype.setTransform=function(C,G,K,te,oe,me){C=isNaN(C)?1:C,G=isNaN(G)?0:G,K=isNaN(K)?0:K,te=isNaN(te)?1:te,oe=isNaN(oe)?0:oe,me=isNaN(me)?0:me,this.ctx.transform=new c(C,G,K,te,oe,me)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(C,G,K,te,oe,me,ae,ce,Ae){var Le=this.pdf.getImageProperties(C),De=1,_e=1,Ye=1,we=1;te!==void 0&&ce!==void 0&&(Ye=ce/te,we=Ae/oe,De=Le.width/te*ce/te,_e=Le.height/oe*Ae/oe),me===void 0&&(me=G,ae=K,G=0,K=0),te!==void 0&&ce===void 0&&(ce=te,Ae=oe),te===void 0&&ce===void 0&&(ce=Le.width,Ae=Le.height);for(var ne,ft=this.ctx.transform.decompose(),Xe=D(ft.rotate.shx),Be=new c,Re=(Be=(Be=(Be=Be.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale)).applyToRectangle(new l(me-G*Ye,ae-K*we,te*De,oe*_e)),qe=N.call(this,Re),ze=[],Ze=0;Ze<qe.length;Ze+=1)ze.indexOf(qe[Ze])===-1&&ze.push(qe[Ze]);if(A(ze),this.autoPaging)for(var ct=ze[0],xt=ze[ze.length-1],wt=ct;wt<xt+1;wt++){this.pdf.setPage(wt);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=wt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=wt===1?0:ot+(wt-2)*Nt;if(this.ctx.clip_path.length!==0){var hs=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ne,this.posX+this.margin[3],-Ve+Vt+this.ctx.prevPageLastElemOffset),U.call(this,"fill",!0),this.path=hs}var It=JSON.parse(JSON.stringify(Re));It=b([It],this.posX+this.margin[3],-Ve+Vt+this.ctx.prevPageLastElemOffset)[0];var sa=(wt>ct||wt<xt)&&w.call(this);sa&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Nt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",It.x,It.y,It.w,It.h,null,null,Xe),sa&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Re.x,Re.y,Re.w,Re.h,null,null,Xe)};var N=function(C,G,K){var te=[];G=G||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":te.push(Math.floor((C.y+oe)/K)+1);break;case"arc":te.push(Math.floor((C.y+oe-C.radius)/K)+1),te.push(Math.floor((C.y+oe+C.radius)/K)+1);break;case"qct":var me=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);te.push(Math.floor((me.y+oe)/K)+1),te.push(Math.floor((me.y+me.h+oe)/K)+1);break;case"bct":var ae=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);te.push(Math.floor((ae.y+oe)/K)+1),te.push(Math.floor((ae.y+ae.h+oe)/K)+1);break;case"rect":te.push(Math.floor((C.y+oe)/K)+1),te.push(Math.floor((C.y+C.h+oe)/K)+1)}for(var ce=0;ce<te.length;ce+=1)for(;this.pdf.internal.getNumberOfPages()<te[ce];)y.call(this);return te},y=function(){var C=this.fillStyle,G=this.strokeStyle,K=this.font,te=this.lineCap,oe=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=G,this.font=K,this.lineCap=te,this.lineWidth=oe,this.lineJoin=me},b=function(C,G,K){for(var te=0;te<C.length;te++)switch(C[te].type){case"bct":C[te].x2+=G,C[te].y2+=K;case"qct":C[te].x1+=G,C[te].y1+=K;case"mt":case"lt":case"arc":default:C[te].x+=G,C[te].y+=K}return C},A=function(C){return C.sort(function(G,K){return G-K})},E=function(C,G){for(var K,te,oe=this.fillStyle,me=this.strokeStyle,ae=this.lineCap,ce=this.lineWidth,Ae=Math.abs(ce*this.ctx.transform.scaleX),Le=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),Ye=[],we=0;we<_e.length;we++)if(_e[we].x!==void 0)for(var ne=N.call(this,_e[we]),ft=0;ft<ne.length;ft+=1)Ye.indexOf(ne[ft])===-1&&Ye.push(ne[ft]);for(var Xe=0;Xe<Ye.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<Ye[Xe];)y.call(this);if(A(Ye),this.autoPaging)for(var Be=Ye[0],Re=Ye[Ye.length-1],qe=Be;qe<Re+1;qe++){this.pdf.setPage(qe),this.fillStyle=oe,this.strokeStyle=me,this.lineCap=ae,this.lineWidth=Ae,this.lineJoin=Le;var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=qe===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=qe===1?0:ct+(qe-2)*xt;if(this.ctx.clip_path.length!==0){var Pt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(K,this.posX+this.margin[3],-wt+Ze+this.ctx.prevPageLastElemOffset),U.call(this,C,!0),this.path=Pt}if(te=JSON.parse(JSON.stringify(De)),this.path=b(te,this.posX+this.margin[3],-wt+Ze+this.ctx.prevPageLastElemOffset),G===!1||qe===0){var Vt=(qe>Be||qe<Re)&&w.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,xt,null).clip().discardPath()),U.call(this,C,G),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=ce}else this.lineWidth=Ae,U.call(this,C,G),this.lineWidth=ce;this.path=De},U=function(C,G){if((C!=="stroke"||G||!k.call(this))&&(C==="stroke"||G||!p.call(this))){for(var K,te,oe=[],me=this.path,ae=0;ae<me.length;ae++){var ce=me[ae];switch(ce.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ce,deltas:[],abs:[]});break;case"lt":var Ae=oe.length;if(me[ae-1]&&!isNaN(me[ae-1].x)&&(K=[ce.x-me[ae-1].x,ce.y-me[ae-1].y],Ae>0)){for(;Ae>=0;Ae--)if(oe[Ae-1].close!==!0&&oe[Ae-1].begin!==!0){oe[Ae-1].deltas.push(K),oe[Ae-1].abs.push(ce);break}}break;case"bct":K=[ce.x1-me[ae-1].x,ce.y1-me[ae-1].y,ce.x2-me[ae-1].x,ce.y2-me[ae-1].y,ce.x-me[ae-1].x,ce.y-me[ae-1].y],oe[oe.length-1].deltas.push(K);break;case"qct":var Le=me[ae-1].x+2/3*(ce.x1-me[ae-1].x),De=me[ae-1].y+2/3*(ce.y1-me[ae-1].y),_e=ce.x+2/3*(ce.x1-ce.x),Ye=ce.y+2/3*(ce.y1-ce.y),we=ce.x,ne=ce.y;K=[Le-me[ae-1].x,De-me[ae-1].y,_e-me[ae-1].x,Ye-me[ae-1].y,we-me[ae-1].x,ne-me[ae-1].y],oe[oe.length-1].deltas.push(K);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ce)}}te=G?null:C==="stroke"?"stroke":"fill";for(var ft=!1,Xe=0;Xe<oe.length;Xe++)if(oe[Xe].arc)for(var Be=oe[Xe].abs,Re=0;Re<Be.length;Re++){var qe=Be[Re];qe.type==="arc"?_.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,G,!ft):W.call(this,qe.x,qe.y),ft=!0}else if(oe[Xe].close===!0)this.pdf.internal.out("h"),ft=!1;else if(oe[Xe].begin!==!0){var ze=oe[Xe].start.x,Ze=oe[Xe].start.y;R.call(this,oe[Xe].deltas,ze,Ze),ft=!0}te&&$.call(this,te),G&&J.call(this)}},V=function(C){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-K;case"top":return C+G-K;case"hanging":return C+G-2*K;case"middle":return C+G/2-K;case"ideographic":return C;case"alphabetic":default:return C}},M=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(G,K){this.colorStops.push([G,K])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(C,G,K,te,oe,me,ae,ce,Ae){for(var Le=Y.call(this,K,te,oe,me),De=0;De<Le.length;De++){var _e=Le[De];De===0&&(Ae?P.call(this,_e.x1+C,_e.y1+G):W.call(this,_e.x1+C,_e.y1+G)),Z.call(this,C,G,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}ce?J.call(this):$.call(this,ae)},$=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(C,G){this.pdf.internal.out(r(C)+" "+n(G)+" m")},S=function(C){var G;switch(C.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var K=this.pdf.getTextDimensions(C.text),te=V.call(this,C.y),oe=M.call(this,te)-K.h,me=this.ctx.transform.applyToPoint(new o(C.x,te)),ae=this.ctx.transform.decompose(),ce=new c;ce=(ce=(ce=ce.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var Ae,Le,De,_e=this.ctx.transform.applyToRectangle(new l(C.x,te,K.w,K.h)),Ye=ce.applyToRectangle(new l(C.x,oe,K.w,K.h)),we=N.call(this,Ye),ne=[],ft=0;ft<we.length;ft+=1)ne.indexOf(we[ft])===-1&&ne.push(we[ft]);if(A(ne),this.autoPaging)for(var Xe=ne[0],Be=ne[ne.length-1],Re=Xe;Re<Be+1;Re++){this.pdf.setPage(Re);var qe=Re===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[2],ct=Ze-this.margin[0],xt=this.pdf.internal.pageSize.width-this.margin[1],wt=xt-this.margin[3],Pt=Re===1?0:ze+(Re-2)*ct;if(this.ctx.clip_path.length!==0){var Vt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ae,this.posX+this.margin[3],-1*Pt+qe),U.call(this,"fill",!0),this.path=Vt}var ot=b([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-Pt+qe+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*C.scale),De=this.lineWidth,this.lineWidth=De*C.scale);var Nt=this.autoPaging!=="text";if(Nt||ot.y+ot.h<=Ze){if(Nt||ot.y>=qe&&ot.x<=xt){var Ve=Nt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||xt-ot.x)[0],hs=b([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-Pt+qe+this.ctx.prevPageLastElemOffset)[0],It=Nt&&(Re>Xe||Re<Be)&&w.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],wt,ct,null).clip().discardPath()),this.pdf.text(Ve,hs.x,hs.y,{angle:C.angle,align:G,renderingMode:C.renderingMode}),It&&this.pdf.restoreGraphicsState()}}else ot.y<Ze&&(this.ctx.prevPageLastElemOffset+=Ze-ot.y);C.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=De)}else C.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*C.scale),De=this.lineWidth,this.lineWidth=De*C.scale),this.pdf.text(C.text,me.x+this.posX,me.y+this.posY,{angle:C.angle,align:G,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=De)},W=function(C,G,K,te){K=K||0,te=te||0,this.pdf.internal.out(r(C+K)+" "+n(G+te)+" l")},R=function(C,G,K){return this.pdf.lines(C,G,K,null,null)},Z=function(C,G,K,te,oe,me,ae,ce){this.pdf.internal.out([e(a(K+C)),e(i(te+G)),e(a(oe+C)),e(i(me+G)),e(a(ae+C)),e(i(ce+G)),"c"].join(" "))},Y=function(C,G,K,te){for(var oe=2*Math.PI,me=Math.PI/2;G>K;)G-=oe;var ae=Math.abs(K-G);ae<oe&&te&&(ae=oe-ae);for(var ce=[],Ae=te?-1:1,Le=G;ae>1e-5;){var De=Le+Ae*Math.min(ae,me);ce.push(z.call(this,C,Le,De)),ae-=Math.abs(De-Le),Le=De}return ce},z=function(C,G,K){var te=(K-G)/2,oe=C*Math.cos(te),me=C*Math.sin(te),ae=oe,ce=-me,Ae=ae*ae+ce*ce,Le=Ae+ae*oe+ce*me,De=4/3*(Math.sqrt(2*Ae*Le)-Le)/(ae*me-ce*oe),_e=ae-De*ce,Ye=ce+De*ae,we=_e,ne=-Ye,ft=te+G,Xe=Math.cos(ft),Be=Math.sin(ft);return{x1:C*Math.cos(G),y1:C*Math.sin(G),x2:_e*Xe-Ye*Be,y2:_e*Be+Ye*Xe,x3:we*Xe-ne*Be,y3:we*Be+ne*Xe,x4:C*Math.cos(K),y4:C*Math.sin(K)}},D=function(C){return 180*C/Math.PI},Q=function(C,G,K,te,oe,me){var ae=C+.5*(K-C),ce=G+.5*(te-G),Ae=oe+.5*(K-oe),Le=me+.5*(te-me),De=Math.min(C,oe,ae,Ae),_e=Math.max(C,oe,ae,Ae),Ye=Math.min(G,me,ce,Le),we=Math.max(G,me,ce,Le);return new l(De,Ye,_e-De,we-Ye)},q=function(C,G,K,te,oe,me,ae,ce){var Ae,Le,De,_e,Ye,we,ne,ft,Xe,Be,Re,qe,ze,Ze,ct=K-C,xt=te-G,wt=oe-K,Pt=me-te,Vt=ae-oe,ot=ce-me;for(Le=0;Le<41;Le++)Xe=(ne=(De=C+(Ae=Le/40)*ct)+Ae*((Ye=K+Ae*wt)-De))+Ae*(Ye+Ae*(oe+Ae*Vt-Ye)-ne),Be=(ft=(_e=G+Ae*xt)+Ae*((we=te+Ae*Pt)-_e))+Ae*(we+Ae*(me+Ae*ot-we)-ft),Le==0?(Re=Xe,qe=Be,ze=Xe,Ze=Be):(Re=Math.min(Re,Xe),qe=Math.min(qe,Be),ze=Math.max(ze,Xe),Ze=Math.max(Ze,Be));return new l(Math.round(Re),Math.round(qe),Math.round(ze-Re),Math.round(Ze-qe))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,G,K=(C=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:G}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(at.API),function(t){var e=function(i){var o,l,c,u,f,m,x,p,k,w;for(l=[],c=0,u=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(f=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(m=(f=((f=((f=((f=(f-(w=f%85))/85)-(k=f%85))/85)-(p=f%85))/85)-(x=f%85))/85)%85,l.push(m+33,x+33,p+33,k+33,w+33)):l.push(122);return function(N,y){for(var b=y;b>0;b--)N.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,u,f,m=String,x="length",p=255,k="charCodeAt",w="slice",N="replace";for(i[w](-2),i=i[w](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],u=0,f=(i+=o="uuuuu"[w](i[x]%5||5))[x];f>u;u+=5)l=52200625*(i[k](u)-33)+614125*(i[k](u+1)-33)+7225*(i[k](u+2)-33)+85*(i[k](u+3)-33)+(i[k](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,b){for(var A=b;A>0;A--)y.pop()}(c,o[x]),m.fromCharCode.apply(m,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=O5(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,o){var l=0,c=i||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,r,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,f){var m=new XMLHttpRequest,x=0,p=function(k){var w=k.length,N=[],y=String.fromCharCode;for(x=0;x<w;x+=1)N.push(y(255&k.charCodeAt(x)));return N.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(a,i,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(it.html2canvas?Promise.resolve(it.html2canvas):Qg(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(it.DOMPurify?Promise.resolve(it.DOMPurify):Qg(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Ht(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,f){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),x=u.firstChild;x;x=x.nextSibling)f!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||m.appendChild(c(x,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var x=0;x<u.length;++x){var p=u[x],k=p.src.find(function(w){return w.format==="truetype"});k&&c.addFont(k.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,u),m}).then(u,f).then(function(m){return c.updateProgress(1),m})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=c.call(u,o,l);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,at.getPageSize=function(o,l,c){if(Ht(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,m=(""+c).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var p,k=0,w=0;if(x.hasOwnProperty(m))k=x[m][1]/f,w=x[m][0]/f;else try{k=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",w>k&&(p=w,w=k,k=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",k>w&&(p=w,w=k,k=p)}return{width:w,height:k,unit:l,k:f,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(z5):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(at.API),at.API.addJS=function(t){return V3=t,this.internal.events.subscribe("postPutResources",function(){$p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($p+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),q3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+V3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$p!==void 0&&q3!==void 0&&this.internal.out("/Names <</JavaScript "+$p+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(i=0;i<u;i++){var m=r.internal.newObject();f.push(m);var x=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(m){for(var x,p=256*m.charCodeAt(4)+m.charCodeAt(5),k=m.length,w={width:0,height:0,numcomponents:1},N=4;N<k;N+=2){if(N+=p,e.indexOf(m.charCodeAt(N+1))!==-1){x=256*m.charCodeAt(N+5)+m.charCodeAt(N+6),w={width:256*m.charCodeAt(N+7)+m.charCodeAt(N+8),height:x,numcomponents:m.charCodeAt(N+9)};break}p=256*m.charCodeAt(N+2)+m.charCodeAt(N+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}}(at.API);var Kd,Wp,G3,$3,W3,$B=function(){var t,e,r;function n(i){var o,l,c,u,f,m,x,p,k,w,N,y,b,A;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(o=this.readUInt32(),k=(function(){var E,U;for(U=[],E=0;E<4;++E)U.push(String.fromCharCode(this.data[this.pos++]));return U}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,m.delay=1e3*f/u,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(k==="fdAT"&&(this.pos+=4,o-=4),i=(m!=null?m.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(b=0;0<=w?b<w:b>w;0<=w?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":x=(N=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,N.slice(0,x)),this.text[p]=String.fromCharCode.apply(String,N.slice(x+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(m,x,p,k){var w,N,y,b,A,E,U,V,M,_,$,J,P,S,W,R,Z,Y,z,D,Q,q=Math.ceil((u.width-m)/p),ee=Math.ceil((u.height-x)/k),C=u.width==q&&u.height==ee;for(S=o*q,J=C?l:new Uint8Array(S*ee),E=i.length,P=0,N=0;P<ee&&c<E;){switch(i[c++]){case 0:for(b=Z=0;Z<S;b=Z+=1)J[N++]=i[c++];break;case 1:for(b=Y=0;Y<S;b=Y+=1)w=i[c++],A=b<o?0:J[N-o],J[N++]=(w+A)%256;break;case 2:for(b=z=0;z<S;b=z+=1)w=i[c++],y=(b-b%o)/o,W=P&&J[(P-1)*S+y*o+b%o],J[N++]=(W+w)%256;break;case 3:for(b=D=0;D<S;b=D+=1)w=i[c++],y=(b-b%o)/o,A=b<o?0:J[N-o],W=P&&J[(P-1)*S+y*o+b%o],J[N++]=(w+Math.floor((A+W)/2))%256;break;case 4:for(b=Q=0;Q<S;b=Q+=1)w=i[c++],y=(b-b%o)/o,A=b<o?0:J[N-o],P===0?W=R=0:(W=J[(P-1)*S+y*o+b%o],R=y&&J[(P-1)*S+(y-1)*o+b%o]),U=A+W-R,V=Math.abs(U-A),_=Math.abs(U-W),$=Math.abs(U-R),M=V<=_&&V<=$?A:_<=$?W:R,J[N++]=(w+M)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!C){var G=((x+P*k)*u.width+m)*o,K=P*S;for(b=0;b<q;b+=1){for(var te=0;te<o;te+=1)l[G++]=J[K++];G+=(p-1)*o}}P++}}return i=AB(i),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,u,f,m,x,p;for(l=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+l.length),c=0,i=0,o=m=0,x=l.length;m<x;o=m+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(p=f[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,o){var l,c,u,f,m,x,p,k,w,N,y;if(c=this.colors,w=null,l=this.hasAlphaChannel,this.palette.length&&(w=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,l=!0),k=(u=i.data||i).length,m=w||o,f=x=0,c===1)for(;f<k;)p=w?4*o[f/4]:x,N=m[p++],u[f++]=N,u[f++]=N,u[f++]=N,u[f++]=l?m[p++]:255,x=p;else for(;f<k;)p=w?4*o[f/4]:x,u[f++]=m[p++],u[f++]=m[p++],u[f++]=m[p++],u[f++]=l?m[p++]:255,x=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(it)==="[object Window]"){try{e=it.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,u,f,m,x,p;if(this.animation){for(p=[],l=f=0,m=(x=this.animation.frames).length;f<m;l=++f)o=x[l],c=i.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,p.push(o.image=t(c));return p}},n.prototype.renderFrame=function(i,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,u,f,m,x=this;return l=0,m=this.animation,u=m.numFrames,c=m.frames,f=m.numPlays,(o=function(){var p,k;if(p=l++%u,k=c[p],x.renderFrame(i,p),u>1&&l/u<f)return x.animation._timeout=setTimeout(o,k.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function WB(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var u=!0,f=[],m=0,x=null,p=0,k=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,k=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];m=t[e++]|t[e++]<<8,x=t[e++],!(1&w)&&(x=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,E=t[e++],U=E>>6&1,V=1<<(7&E)+1,M=l,_=c,$=!1;E>>7&&($=!0,M=e,_=V,e+=3*V);var J=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}f.push({x:N,y,width:b,height:A,has_local_palette:$,palette_offset:M,palette_size:_,data_offset:J,data_length:e-J,transparent_index:x,interlaced:!!U,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return k},this.frameInfo=function(S){if(S<0||S>=f.length)throw new Error("Frame index out of range.");return f[S]},this.decodeAndBlitFrameBGRA=function(S,W){var R=this.frameInfo(S),Z=R.width*R.height,Y=new Uint8Array(Z);Q3(t,R.data_offset,Y,Z);var z=R.palette_offset,D=R.transparent_index;D===null&&(D=256);var Q=R.width,q=r-Q,ee=Q,C=4*(R.y*r+R.x),G=4*((R.y+R.height)*r+R.x),K=C,te=4*q;R.interlaced===!0&&(te+=4*r*7);for(var oe=8,me=0,ae=Y.length;me<ae;++me){var ce=Y[me];if(ee===0&&(ee=Q,(K+=te)>=G&&(te=4*q+4*r*(oe-1),K=C+(Q+q)*(oe<<1),oe>>=1)),ce===D)K+=4;else{var Ae=t[z+3*ce],Le=t[z+3*ce+1],De=t[z+3*ce+2];W[K++]=De,W[K++]=Le,W[K++]=Ae,W[K++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(S,W){var R=this.frameInfo(S),Z=R.width*R.height,Y=new Uint8Array(Z);Q3(t,R.data_offset,Y,Z);var z=R.palette_offset,D=R.transparent_index;D===null&&(D=256);var Q=R.width,q=r-Q,ee=Q,C=4*(R.y*r+R.x),G=4*((R.y+R.height)*r+R.x),K=C,te=4*q;R.interlaced===!0&&(te+=4*r*7);for(var oe=8,me=0,ae=Y.length;me<ae;++me){var ce=Y[me];if(ee===0&&(ee=Q,(K+=te)>=G&&(te=4*q+4*r*(oe-1),K=C+(Q+q)*(oe<<1),oe>>=1)),ce===D)K+=4;else{var Ae=t[z+3*ce],Le=t[z+3*ce+1],De=t[z+3*ce+2];W[K++]=Ae,W[K++]=Le,W[K++]=De,W[K++]=255}--ee}}}function Q3(t,e,r,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,u=(1<<c)-1,f=0,m=0,x=0,p=t[e++],k=new Int32Array(4096),w=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<c)break;var N=m&u;if(m>>=c,f-=c,N!==i){if(N===o)break;for(var y=N<l?N:w,b=0,A=y;A>i;)A=k[A]>>8,++b;var E=A;if(x+b+(y!==N?1:0)>n)return void Kt.log("Warning, gif stream longer than expected.");r[x++]=E;var U=x+=b;for(y!==N&&(r[x++]=E),A=y;b--;)A=k[A],r[--U]=255&A,A>>=8;w!==null&&l<4096&&(k[l++]=w<<8|E,l>=u+1&&c<12&&(++c,u=u<<1|1)),w=N}else l=o+1,u=(1<<(c=a+1))-1,w=null}return x!==n&&Kt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qb(t){var e,r,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),x=new Array(65535),p=new Array(64),k=new Array(64),w=[],N=0,y=7,b=new Array(64),A=new Array(64),E=new Array(64),U=new Array(256),V=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(C,G){for(var K=0,te=0,oe=new Array,me=1;me<=16;me++){for(var ae=1;ae<=C[me];ae++)oe[G[te]]=[],oe[G[te]][0]=K,oe[G[te]][1]=me,te++,K++;K*=2}return oe}function z(C){for(var G=C[0],K=C[1]-1;K>=0;)G&1<<K&&(N|=1<<y),K--,--y<0&&(N==255?(D(255),D(0)):D(N),y=7,N=0)}function D(C){w.push(C)}function Q(C){D(C>>8&255),D(255&C)}function q(C,G,K,te,oe){for(var me,ae=oe[0],ce=oe[240],Ae=function(Be,Re){var qe,ze,Ze,ct,xt,wt,Pt,Vt,ot,Nt,Ve=0;for(ot=0;ot<8;++ot){qe=Be[Ve],ze=Be[Ve+1],Ze=Be[Ve+2],ct=Be[Ve+3],xt=Be[Ve+4],wt=Be[Ve+5],Pt=Be[Ve+6];var hs=qe+(Vt=Be[Ve+7]),It=qe-Vt,sa=ze+Pt,Qt=ze-Pt,nr=Ze+wt,qa=Ze-wt,Ot=ct+xt,Gl=ct-xt,hr=hs+Ot,na=hs-Ot,Li=sa+nr,fr=sa-nr;Be[Ve]=hr+Li,Be[Ve+4]=hr-Li;var dt=.707106781*(fr+na);Be[Ve+2]=na+dt,Be[Ve+6]=na-dt;var Dt=.382683433*((hr=Gl+qa)-(fr=Qt+It)),$l=.5411961*hr+Dt,es=1.306562965*fr+Dt,Va=.707106781*(Li=qa+Qt),Ga=It+Va,nt=It-Va;Be[Ve+5]=nt+$l,Be[Ve+3]=nt-$l,Be[Ve+1]=Ga+es,Be[Ve+7]=Ga-es,Ve+=8}for(Ve=0,ot=0;ot<8;++ot){qe=Be[Ve],ze=Be[Ve+8],Ze=Be[Ve+16],ct=Be[Ve+24],xt=Be[Ve+32],wt=Be[Ve+40],Pt=Be[Ve+48];var aa=qe+(Vt=Be[Ve+56]),$a=qe-Vt,Gs=ze+Pt,Fr=ze-Pt,Tr=Ze+wt,mn=Ze-wt,pd=ct+xt,Ei=ct-xt,ia=aa+pd,oa=aa-pd,la=Gs+Tr,Wa=Gs-Tr;Be[Ve]=ia+la,Be[Ve+32]=ia-la;var _n=.707106781*(Wa+oa);Be[Ve+16]=oa+_n,Be[Ve+48]=oa-_n;var Qa=.382683433*((ia=Ei+mn)-(Wa=Fr+$a)),Wl=.5411961*ia+Qa,gd=1.306562965*Wa+Qa,xd=.707106781*(la=mn+Fr),bd=$a+xd,vd=$a-xd;Be[Ve+40]=vd+Wl,Be[Ve+24]=vd-Wl,Be[Ve+8]=bd+gd,Be[Ve+56]=bd-gd,Ve++}for(ot=0;ot<64;++ot)Nt=Be[ot]*Re[ot],p[ot]=Nt>0?Nt+.5|0:Nt-.5|0;return p}(C,G),Le=0;Le<64;++Le)k[M[Le]]=Ae[Le];var De=k[0]-K;K=k[0],De==0?z(te[0]):(z(te[x[me=32767+De]]),z(m[me]));for(var _e=63;_e>0&&k[_e]==0;)_e--;if(_e==0)return z(ae),K;for(var Ye,we=1;we<=_e;){for(var ne=we;k[we]==0&&we<=_e;)++we;var ft=we-ne;if(ft>=16){Ye=ft>>4;for(var Xe=1;Xe<=Ye;++Xe)z(ce);ft&=15}me=32767+k[we],z(oe[(ft<<4)+x[me]]),z(m[me]),we++}return _e!=63&&z(ae),K}function ee(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(G){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var oe=o((K[te]*G+50)/100);oe=Math.min(Math.max(oe,1),255),l[M[te]]=oe}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var ce=o((me[ae]*G+50)/100);ce=Math.min(Math.max(ce,1),255),c[M[ae]]=ce}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,De=0;De<8;De++)for(var _e=0;_e<8;_e++)u[Le]=1/(l[M[Le]]*Ae[De]*Ae[_e]*8),f[Le]=1/(c[M[Le]]*Ae[De]*Ae[_e]*8),Le++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,G){G&&ee(G),w=new Array,N=0,y=7,Q(65496),Q(65504),Q(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),Q(1),Q(1),D(0),D(0),function(){Q(65499),Q(132),D(0);for(var ze=0;ze<64;ze++)D(l[ze]);D(1);for(var Ze=0;Ze<64;Ze++)D(c[Ze])}(),function(ze,Ze){Q(65472),Q(17),D(8),Q(Ze),Q(ze),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(C.width,C.height),function(){Q(65476),Q(418),D(0);for(var ze=0;ze<16;ze++)D(_[ze+1]);for(var Ze=0;Ze<=11;Ze++)D($[Ze]);D(16);for(var ct=0;ct<16;ct++)D(J[ct+1]);for(var xt=0;xt<=161;xt++)D(P[xt]);D(1);for(var wt=0;wt<16;wt++)D(S[wt+1]);for(var Pt=0;Pt<=11;Pt++)D(W[Pt]);D(17);for(var Vt=0;Vt<16;Vt++)D(R[Vt+1]);for(var ot=0;ot<=161;ot++)D(Z[ot])}(),Q(65498),Q(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var K=0,te=0,oe=0;N=0,y=7,this.encode.displayName="_encode_";for(var me,ae,ce,Ae,Le,De,_e,Ye,we,ne=C.data,ft=C.width,Xe=C.height,Be=4*ft,Re=0;Re<Xe;){for(me=0;me<Be;){for(Le=Be*Re+me,_e=-1,Ye=0,we=0;we<64;we++)De=Le+(Ye=we>>3)*Be+(_e=4*(7&we)),Re+Ye>=Xe&&(De-=Be*(Re+1+Ye-Xe)),me+_e>=Be&&(De-=me+_e-Be+4),ae=ne[De++],ce=ne[De++],Ae=ne[De++],b[we]=(V[ae]+V[ce+256>>0]+V[Ae+512>>0]>>16)-128,A[we]=(V[ae+768>>0]+V[ce+1024>>0]+V[Ae+1280>>0]>>16)-128,E[we]=(V[ae+1280>>0]+V[ce+1536>>0]+V[Ae+1792>>0]>>16)-128;K=q(b,u,K,e,n),te=q(A,f,te,r,a),oe=q(E,f,oe,r,a),me+=32}Re+=8}if(y>=0){var qe=[];qe[1]=y+1,qe[0]=(1<<y+1)-1,z(qe)}return Q(65497),new Uint8Array(w)},t=t||50,function(){for(var C=String.fromCharCode,G=0;G<256;G++)U[G]=C(G)}(),e=Y(_,$),r=Y(S,W),n=Y(J,P),a=Y(R,Z),function(){for(var C=1,G=2,K=1;K<=15;K++){for(var te=C;te<G;te++)x[32767+te]=K,m[32767+te]=[],m[32767+te][1]=K,m[32767+te][0]=te;for(var oe=-(G-1);oe<=-C;oe++)x[32767+oe]=K,m[32767+oe]=[],m[32767+oe][1]=K,m[32767+oe][0]=G-1+oe;C<<=1,G<<=1}}(),function(){for(var C=0;C<256;C++)V[C]=19595*C,V[C+256>>0]=38470*C,V[C+512>>0]=7471*C+32768,V[C+768>>0]=-11059*C,V[C+1024>>0]=-21709*C,V[C+1280>>0]=32768*C+8421375,V[C+1536>>0]=-27439*C,V[C+1792>>0]=-5329*C}(),ee(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ga(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function J3(t){function e(_){if(!_)throw Error("assert :P")}function r(_,$,J){for(var P=0;4>P;P++)if(_[$+P]!=J.charCodeAt(P))return!0;return!1}function n(_,$,J,P,S){for(var W=0;W<S;W++)_[$+W]=J[P+W]}function a(_,$,J,P){for(var S=0;S<P;S++)_[$+S]=J}function i(_){return new Int32Array(_)}function o(_,$){for(var J=[],P=0;P<_;P++)J.push(new $);return J}function l(_,$){var J=[];return function P(S,W,R){for(var Z=R[W],Y=0;Y<Z&&(S.push(R.length>W+1?[]:new $),!(R.length<W+1));Y++)P(S[Y],W+1,R)}(J,0,_),J}var c=function(){var _=this;function $(d,h){for(var v=1<<h-1>>>0;d&v;)v>>>=1;return v?(d&v-1)+v:d}function J(d,h,v,j,I){e(!(j%v));do d[h+(j-=v)]=I;while(0<j)}function P(d,h,v,j,I){if(e(2328>=I),512>=I)var B=i(512);else if((B=i(I))==null)return 0;return function(O,F,H,X,de,xe){var be,pe,Ce=F,Ne=1<<H,ue=i(16),fe=i(16);for(e(de!=0),e(X!=null),e(O!=null),e(0<H),pe=0;pe<de;++pe){if(15<X[pe])return 0;++ue[X[pe]]}if(ue[0]==de)return 0;for(fe[1]=0,be=1;15>be;++be){if(ue[be]>1<<be)return 0;fe[be+1]=fe[be]+ue[be]}for(pe=0;pe<de;++pe)be=X[pe],0<X[pe]&&(xe[fe[be]++]=pe);if(fe[15]==1)return(X=new S).g=0,X.value=xe[0],J(O,Ce,1,Ne,X),Ne;var ke,Ee=-1,Se=Ne-1,$e=0,Fe=1,tt=1,Ue=1<<H;for(pe=0,be=1,de=2;be<=H;++be,de<<=1){if(Fe+=tt<<=1,0>(tt-=ue[be]))return 0;for(;0<ue[be];--ue[be])(X=new S).g=be,X.value=xe[pe++],J(O,Ce+$e,de,Ue,X),$e=$($e,be)}for(be=H+1,de=2;15>=be;++be,de<<=1){if(Fe+=tt<<=1,0>(tt-=ue[be]))return 0;for(;0<ue[be];--ue[be]){if(X=new S,($e&Se)!=Ee){for(Ce+=Ue,ke=1<<(Ee=be)-H;15>Ee&&!(0>=(ke-=ue[Ee]));)++Ee,ke<<=1;Ne+=Ue=1<<(ke=Ee-H),O[F+(Ee=$e&Se)].g=ke+H,O[F+Ee].value=Ce-F-Ee}X.g=be-H,X.value=xe[pe++],J(O,Ce+($e>>H),de,Ue,X),$e=$($e,be)}}return Fe!=2*fe[15]-1?0:Ne}(d,h,v,j,I,B)}function S(){this.value=this.g=0}function W(){this.value=this.g=0}function R(){this.G=o(5,S),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(ts,W)}function Z(d,h,v,j){e(d!=null),e(h!=null),e(2147483648>j),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=h,d.pa=v,d.Jd=h,d.Yc=v+j,d.Zc=4<=j?v+j-4+1:v,me(d)}function Y(d,h){for(var v=0;0<h--;)v|=ce(d,128)<<h;return v}function z(d,h){var v=Y(d,h);return ae(d)?-v:v}function D(d,h,v,j){var I,B=0;for(e(d!=null),e(h!=null),e(4294967288>j),d.Sb=j,d.Ra=0,d.u=0,d.h=0,4<j&&(j=4),I=0;I<j;++I)B+=h[v+I]<<8*I;d.Ra=B,d.bb=j,d.oa=h,d.pa=v}function Q(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Bd-8>>>0,++d.bb,d.u-=8;K(d)&&(d.h=1,d.u=0)}function q(d,h){if(e(0<=h),!d.h&&h<=_d){var v=G(d)&Td[h];return d.u+=h,Q(d),v}return d.h=1,d.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(d){return d.Ra>>>(d.u&Bd-1)>>>0}function K(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Bd}function te(d,h){d.u=h,d.h=K(d)}function oe(d){d.u>=xh&&(e(d.u>=xh),Q(d))}function me(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function ae(d){return Y(d,1)}function ce(d,h){var v=d.Ca;0>d.b&&me(d);var j=d.b,I=v*h>>>8,B=(d.I>>>j>I)+0;for(B?(v-=I,d.I-=I+1<<j>>>0):v=I+1,j=v,I=0;256<=j;)I+=8,j>>=8;return j=7^I+Ws[j],d.b-=j,d.Ca=(v<<j)-1,B}function Ae(d,h,v){d[h+0]=v>>24&255,d[h+1]=v>>16&255,d[h+2]=v>>8&255,d[h+3]=v>>0&255}function Le(d,h){return d[h+0]<<0|d[h+1]<<8}function De(d,h){return Le(d,h)|d[h+2]<<16}function _e(d,h){return Le(d,h)|Le(d,h+2)<<16}function Ye(d,h){var v=1<<h;return e(d!=null),e(0<h),d.X=i(v),d.X==null?0:(d.Mb=32-h,d.Xa=h,1)}function we(d,h){e(d!=null),e(h!=null),e(d.Xa==h.Xa),n(h.X,0,d.X,0,1<<h.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function ft(d,h,v,j){e(v!=null),e(j!=null);var I=v[0],B=j[0];return I==0&&(I=(d*B+h/2)/h),B==0&&(B=(h*I+d/2)/d),0>=I||0>=B?0:(v[0]=I,j[0]=B,1)}function Xe(d,h){return d+(1<<h)-1>>>h}function Be(d,h){return((4278255360&d)+(4278255360&h)>>>0&4278255360)+((16711935&d)+(16711935&h)>>>0&16711935)>>>0}function Re(d,h){_[h]=function(v,j,I,B,O,F,H){var X;for(X=0;X<O;++X){var de=_[d](F[H+X-1],I,B+X);F[H+X]=Be(v[j+X],de)}}}function qe(){this.ud=this.hd=this.jd=0}function ze(d,h){return((4278124286&(d^h))>>>1)+(d&h)>>>0}function Ze(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function ct(d,h){return Ze(d+(d-h+.5>>1))}function xt(d,h,v){return Math.abs(h-v)-Math.abs(d-v)}function wt(d,h,v,j,I,B,O){for(j=B[O-1],v=0;v<I;++v)B[O+v]=j=Be(d[h+v],j)}function Pt(d,h,v,j,I){var B;for(B=0;B<v;++B){var O=d[h+B],F=O>>8&255,H=16711935&(H=(H=16711935&O)+((F<<16)+F));j[I+B]=(4278255360&O)+H>>>0}}function Vt(d,h){h.jd=d>>0&255,h.hd=d>>8&255,h.ud=d>>16&255}function ot(d,h,v,j,I,B){var O;for(O=0;O<j;++O){var F=h[v+O],H=F>>>8,X=F,de=255&(de=(de=F>>>16)+((d.jd<<24>>24)*(H<<24>>24)>>>5));X=255&(X=(X=X+((d.hd<<24>>24)*(H<<24>>24)>>>5))+((d.ud<<24>>24)*(de<<24>>24)>>>5)),I[B+O]=(4278255360&F)+(de<<16)+X}}function Nt(d,h,v,j,I){_[h]=function(B,O,F,H,X,de,xe,be,pe){for(H=xe;H<be;++H)for(xe=0;xe<pe;++xe)X[de++]=I(F[j(B[O++])])},_[d]=function(B,O,F,H,X,de,xe){var be=8>>B.b,pe=B.Ea,Ce=B.K[0],Ne=B.w;if(8>be)for(B=(1<<B.b)-1,Ne=(1<<be)-1;O<F;++O){var ue,fe=0;for(ue=0;ue<pe;++ue)ue&B||(fe=j(H[X++])),de[xe++]=I(Ce[fe&Ne]),fe>>=be}else _["VP8LMapColor"+v](H,X,Ce,Ne,de,xe,O,F,pe)}}function Ve(d,h,v,j,I){for(v=h+v;h<v;){var B=d[h++];j[I++]=B>>16&255,j[I++]=B>>8&255,j[I++]=B>>0&255}}function hs(d,h,v,j,I){for(v=h+v;h<v;){var B=d[h++];j[I++]=B>>16&255,j[I++]=B>>8&255,j[I++]=B>>0&255,j[I++]=B>>24&255}}function It(d,h,v,j,I){for(v=h+v;h<v;){var B=(O=d[h++])>>16&240|O>>12&15,O=O>>0&240|O>>28&15;j[I++]=B,j[I++]=O}}function sa(d,h,v,j,I){for(v=h+v;h<v;){var B=(O=d[h++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;j[I++]=B,j[I++]=O}}function Qt(d,h,v,j,I){for(v=h+v;h<v;){var B=d[h++];j[I++]=B>>0&255,j[I++]=B>>8&255,j[I++]=B>>16&255}}function nr(d,h,v,j,I,B){if(B==0)for(v=h+v;h<v;)Ae(j,((B=d[h++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),I+=32;else n(j,I,d,h,v)}function qa(d,h){_[h][0]=_[d+"0"],_[h][1]=_[d+"1"],_[h][2]=_[d+"2"],_[h][3]=_[d+"3"],_[h][4]=_[d+"4"],_[h][5]=_[d+"5"],_[h][6]=_[d+"6"],_[h][7]=_[d+"7"],_[h][8]=_[d+"8"],_[h][9]=_[d+"9"],_[h][10]=_[d+"10"],_[h][11]=_[d+"11"],_[h][12]=_[d+"12"],_[h][13]=_[d+"13"],_[h][14]=_[d+"0"],_[h][15]=_[d+"0"]}function Ot(d){return d==I1||d==T1||d==rp||d==_1}function Gl(){this.eb=[],this.size=this.A=this.fb=0}function hr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function na(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Gl,this.f.kb=new hr,this.sd=null}function Li(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function dt(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Dt(d,h){var v=d.T,j=h.ba.f.RGBA,I=j.eb,B=j.fb+d.ka*j.A,O=Mn[h.ba.S],F=d.y,H=d.O,X=d.f,de=d.N,xe=d.ea,be=d.W,pe=h.cc,Ce=h.dc,Ne=h.Mc,ue=h.Nc,fe=d.ka,ke=d.ka+d.T,Ee=d.U,Se=Ee+1>>1;for(fe==0?O(F,H,null,null,X,de,xe,be,X,de,xe,be,I,B,null,null,Ee):(O(h.ec,h.fc,F,H,pe,Ce,Ne,ue,X,de,xe,be,I,B-j.A,I,B,Ee),++v);fe+2<ke;fe+=2)pe=X,Ce=de,Ne=xe,ue=be,de+=d.Rc,be+=d.Rc,B+=2*j.A,O(F,(H+=2*d.fa)-d.fa,F,H,pe,Ce,Ne,ue,X,de,xe,be,I,B-j.A,I,B,Ee);return H+=d.fa,d.j+ke<d.o?(n(h.ec,h.fc,F,H,Ee),n(h.cc,h.dc,X,de,Se),n(h.Mc,h.Nc,xe,be,Se),v--):1&ke||O(F,H,null,null,X,de,xe,be,X,de,xe,be,I,B+j.A,null,null,Ee),v}function $l(d,h,v){var j=d.F,I=[d.J];if(j!=null){var B=d.U,O=h.ba.S,F=O==tp||O==rp;h=h.ba.f.RGBA;var H=[0],X=d.ka;H[0]=d.T,d.Kb&&(X==0?--H[0]:(--X,I[0]-=d.width),d.j+d.ka+d.T==d.o&&(H[0]=d.o-d.j-X));var de=h.eb;X=h.fb+X*h.A,d=Xt(j,I[0],d.width,B,H,de,X+(F?0:3),h.A),e(v==H),d&&Ot(O)&&Rn(de,X,F,B,H,h.A)}return 0}function es(d){var h=d.ma,v=h.ba.S,j=11>v,I=v==Zm||v==ep||v==tp||v==E1||v==12||Ot(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!ph(h.Oa,d,I?11:12))return 0;if(I&&Ot(v)&&Ie(),d.da)alert("todo:use_scaling");else{if(j){if(h.Ib=dt,d.Kb){if(v=d.U+1>>1,h.memory=i(d.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+d.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=Dt,Ie()}}else alert("todo:EmitYUV");I&&(h.Jb=$l,j&&ge())}if(j&&!Cy){for(d=0;256>d;++d)uS[d]=89858*(d-128)+np>>sp,mS[d]=-22014*(d-128)+np,fS[d]=-45773*(d-128),hS[d]=113618*(d-128)+np>>sp;for(d=Ah;d<D1;++d)h=76283*(d-16)+np>>sp,pS[d-Ah]=pn(h,255),gS[d-Ah]=pn(h+8>>4,15);Cy=1}return 1}function Va(d){var h=d.ma,v=d.U,j=d.T;return e(!(1&d.ka)),0>=v||0>=j?0:(v=h.Ib(d,h),h.Jb!=null&&h.Jb(d,h,v),h.Dc+=v,1)}function Ga(d){d.ma.memory=null}function nt(d,h,v,j){return q(d,8)!=47?0:(h[0]=q(d,14)+1,v[0]=q(d,14)+1,j[0]=q(d,1),q(d,3)!=0?0:!d.h)}function aa(d,h){if(4>d)return d+1;var v=d-2>>1;return(2+(1&d)<<v)+q(h,v)+1}function $a(d,h){return 120<h?h-120:1<=(v=((v=Yk[h-1])>>4)*d+(8-(15&v)))?v:1;var v}function Gs(d,h,v){var j=G(v),I=d[h+=255&j].g-8;return 0<I&&(te(v,v.u+8),j=G(v),h+=d[h].value,h+=j&(1<<I)-1),te(v,v.u+d[h].g),d[h].value}function Fr(d,h,v){return v.g+=d.g,v.value+=d.value<<h>>>0,e(8>=v.g),d.g}function Tr(d,h,v){var j=d.xc;return e((h=j==0?0:d.vc[d.md*(v>>j)+(h>>j)])<d.Wb),d.Ya[h]}function mn(d,h,v,j){var I=d.ab,B=d.c*h,O=d.C;h=O+h;var F=v,H=j;for(j=d.Ta,v=d.Ua;0<I--;){var X=d.gc[I],de=O,xe=h,be=F,pe=H,Ce=(H=j,F=v,X.Ea);switch(e(de<xe),e(xe<=X.nc),X.hc){case 2:$m(be,pe,(xe-de)*Ce,H,F);break;case 0:var Ne=de,ue=xe,fe=H,ke=F,Ee=(Ue=X).Ea;Ne==0&&(P1(be,pe,null,null,1,fe,ke),wt(be,pe+1,0,0,Ee-1,fe,ke+1),pe+=Ee,ke+=Ee,++Ne);for(var Se=1<<Ue.b,$e=Se-1,Fe=Xe(Ee,Ue.b),tt=Ue.K,Ue=Ue.w+(Ne>>Ue.b)*Fe;Ne<ue;){var _t=tt,Ft=Ue,Lt=1;for(bh(be,pe,fe,ke-Ee,1,fe,ke);Lt<Ee;){var At=(Lt&~$e)+Se;At>Ee&&(At=Ee),(0,Po[_t[Ft++]>>8&15])(be,pe+ +Lt,fe,ke+Lt-Ee,At-Lt,fe,ke+Lt),Lt=At}pe+=Ee,ke+=Ee,++Ne&$e||(Ue+=Fe)}xe!=X.nc&&n(H,F-Ce,H,F+(xe-de-1)*Ce,Ce);break;case 1:for(Ce=be,ue=pe,Ee=(be=X.Ea)-(ke=be&~(fe=(pe=1<<X.b)-1)),Ne=Xe(be,X.b),Se=X.K,X=X.w+(de>>X.b)*Ne;de<xe;){for($e=Se,Fe=X,tt=new qe,Ue=ue+ke,_t=ue+be;ue<Ue;)Vt($e[Fe++],tt),Xl(tt,Ce,ue,pe,H,F),ue+=pe,F+=pe;ue<_t&&(Vt($e[Fe++],tt),Xl(tt,Ce,ue,Ee,H,F),ue+=Ee,F+=Ee),++de&fe||(X+=Ne)}break;case 3:if(be==H&&pe==F&&0<X.b){for(ue=H,be=Ce=F+(xe-de)*Ce-(ke=(xe-de)*Xe(X.Ea,X.b)),pe=H,fe=F,Ne=[],ke=(Ee=ke)-1;0<=ke;--ke)Ne[ke]=pe[fe+ke];for(ke=Ee-1;0<=ke;--ke)ue[be+ke]=Ne[ke];Bn(X,de,xe,H,Ce,H,F)}else Bn(X,de,xe,be,pe,H,F)}F=j,H=v}H!=v&&n(j,v,F,H,B)}function pd(d,h){var v=d.V,j=d.Ba+d.c*d.C,I=h-d.C;if(e(h<=d.l.o),e(16>=I),0<I){var B=d.l,O=d.Ta,F=d.Ua,H=B.width;if(mn(d,I,v,j),I=F=[F],e((v=d.C)<(j=h)),e(B.v<B.va),j>B.o&&(j=B.o),v<B.j){var X=B.j-v;v=B.j,I[0]+=X*H}if(v>=j?v=0:(I[0]+=4*B.v,B.ka=v-B.j,B.U=B.va-B.v,B.T=j-v,v=1),v){if(F=F[0],11>(v=d.ca).S){var de=v.f.RGBA,xe=(j=v.S,I=B.U,B=B.T,X=de.eb,de.A),be=B;for(de=de.fb+d.Ma*de.A;0<be--;){var pe=O,Ce=F,Ne=I,ue=X,fe=de;switch(j){case Xm:Qs(pe,Ce,Ne,ue,fe);break;case Zm:Es(pe,Ce,Ne,ue,fe);break;case I1:Es(pe,Ce,Ne,ue,fe),Rn(ue,fe,0,Ne,1,0);break;case xy:Bi(pe,Ce,Ne,ue,fe);break;case ep:nr(pe,Ce,Ne,ue,fe,1);break;case T1:nr(pe,Ce,Ne,ue,fe,1),Rn(ue,fe,0,Ne,1,0);break;case tp:nr(pe,Ce,Ne,ue,fe,0);break;case rp:nr(pe,Ce,Ne,ue,fe,0),Rn(ue,fe,1,Ne,1,0);break;case E1:Lo(pe,Ce,Ne,ue,fe);break;case _1:Lo(pe,Ce,Ne,ue,fe),Yt(ue,fe,Ne,1,0);break;case by:_i(pe,Ce,Ne,ue,fe);break;default:e(0)}F+=H,de+=xe}d.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=v.height)}}d.C=h,e(d.C<=d.i)}function Ei(d){var h;if(0<d.ua)return 0;for(h=0;h<d.Wb;++h){var v=d.Ya[h].G,j=d.Ya[h].H;if(0<v[1][j[1]+0].g||0<v[2][j[2]+0].g||0<v[3][j[3]+0].g)return 0}return 1}function ia(d,h,v,j,I,B){if(d.Z!=0){var O=d.qd,F=d.rd;for(e(_o[d.Z]!=null);h<v;++h)_o[d.Z](O,F,j,I,j,I,B),O=j,F=I,I+=B;d.qd=O,d.rd=F}}function oa(d,h){var v=d.l.ma,j=v.Z==0||v.Z==1?d.l.j:d.C;if(j=d.C<j?j:d.C,e(h<=d.l.o),h>j){var I=d.l.width,B=v.ca,O=v.tb+I*j,F=d.V,H=d.Ba+d.c*j,X=d.gc;e(d.ab==1),e(X[0].hc==3),Wm(X[0],j,h,F,H,B,O),ia(v,j,h,B,O,I)}d.C=d.Ma=h}function la(d,h,v,j,I,B,O){var F=d.$/j,H=d.$%j,X=d.m,de=d.s,xe=v+d.$,be=xe;I=v+j*I;var pe=v+j*B,Ce=280+de.ua,Ne=d.Pb?F:16777216,ue=0<de.ua?de.Wa:null,fe=de.wc,ke=xe<pe?Tr(de,H,F):null;e(d.C<B),e(pe<=I);var Ee=!1;e:for(;;){for(;Ee||xe<pe;){var Se=0;if(F>=Ne){var $e=xe-v;e((Ne=d).Pb),Ne.wd=Ne.m,Ne.xd=$e,0<Ne.s.ua&&we(Ne.s.Wa,Ne.s.vb),Ne=F+Zk}if(H&fe||(ke=Tr(de,H,F)),e(ke!=null),ke.Qb&&(h[xe]=ke.qb,Ee=!0),!Ee)if(oe(X),ke.jc){Se=X,$e=h;var Fe=xe,tt=ke.pd[G(Se)&ts-1];e(ke.jc),256>tt.g?(te(Se,Se.u+tt.g),$e[Fe]=tt.value,Se=0):(te(Se,Se.u+tt.g-256),e(256<=tt.value),Se=tt.value),Se==0&&(Ee=!0)}else Se=Gs(ke.G[0],ke.H[0],X);if(X.h)break;if(Ee||256>Se){if(!Ee)if(ke.nd)h[xe]=(ke.qb|Se<<8)>>>0;else{if(oe(X),Ee=Gs(ke.G[1],ke.H[1],X),oe(X),$e=Gs(ke.G[2],ke.H[2],X),Fe=Gs(ke.G[3],ke.H[3],X),X.h)break;h[xe]=(Fe<<24|Ee<<16|Se<<8|$e)>>>0}if(Ee=!1,++xe,++H>=j&&(H=0,++F,O!=null&&F<=B&&!(F%16)&&O(d,F),ue!=null))for(;be<xe;)Se=h[be++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se}else if(280>Se){if(Se=aa(Se-256,X),$e=Gs(ke.G[4],ke.H[4],X),oe(X),$e=$a(j,$e=aa($e,X)),X.h)break;if(xe-v<$e||I-xe<Se)break e;for(Fe=0;Fe<Se;++Fe)h[xe+Fe]=h[xe+Fe-$e];for(xe+=Se,H+=Se;H>=j;)H-=j,++F,O!=null&&F<=B&&!(F%16)&&O(d,F);if(e(xe<=I),H&fe&&(ke=Tr(de,H,F)),ue!=null)for(;be<xe;)Se=h[be++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se}else{if(!(Se<Ce))break e;for(Ee=Se-280,e(ue!=null);be<xe;)Se=h[be++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se;Se=xe,e(!(Ee>>>($e=ue).Xa)),h[Se]=$e.X[Ee],Ee=!0}Ee||e(X.h==K(X))}if(d.Pb&&X.h&&xe<I)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&we(d.s.vb,d.s.Wa);else{if(X.h)break e;O!=null&&O(d,F>B?B:F),d.a=0,d.$=xe-v}return 1}return d.a=3,0}function Wa(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var h=d.Wa;h!=null&&(h.X=null),d.vb=null,e(d!=null)}function _n(){var d=new C1;return d==null?null:(d.a=0,d.xb=wy,qa("Predictor","VP8LPredictors"),qa("Predictor","VP8LPredictors_C"),qa("PredictorAdd","VP8LPredictorsAdd"),qa("PredictorAdd","VP8LPredictorsAdd_C"),$m=Pt,Xl=ot,Qs=Ve,Es=hs,Lo=It,_i=sa,Bi=Qt,_.VP8LMapColor32b=Od,_.VP8LMapColor8b=Qm,d)}function Qa(d,h,v,j,I){var B=1,O=[d],F=[h],H=j.m,X=j.s,de=null,xe=0;e:for(;;){if(v)for(;B&&q(H,1);){var be=O,pe=F,Ce=j,Ne=1,ue=Ce.m,fe=Ce.gc[Ce.ab],ke=q(ue,2);if(Ce.Oc&1<<ke)B=0;else{switch(Ce.Oc|=1<<ke,fe.hc=ke,fe.Ea=be[0],fe.nc=pe[0],fe.K=[null],++Ce.ab,e(4>=Ce.ab),ke){case 0:case 1:fe.b=q(ue,3)+2,Ne=Qa(Xe(fe.Ea,fe.b),Xe(fe.nc,fe.b),0,Ce,fe.K),fe.K=fe.K[0];break;case 3:var Ee,Se=q(ue,8)+1,$e=16<Se?0:4<Se?1:2<Se?2:3;if(be[0]=Xe(fe.Ea,$e),fe.b=$e,Ee=Ne=Qa(Se,1,0,Ce,fe.K)){var Fe,tt=Se,Ue=fe,_t=1<<(8>>Ue.b),Ft=i(_t);if(Ft==null)Ee=0;else{var Lt=Ue.K[0],At=Ue.w;for(Ft[0]=Ue.K[0][0],Fe=1;Fe<1*tt;++Fe)Ft[Fe]=Be(Lt[At+Fe],Ft[Fe-1]);for(;Fe<4*_t;++Fe)Ft[Fe]=0;Ue.K[0]=null,Ue.K[0]=Ft,Ee=1}}Ne=Ee;break;case 2:break;default:e(0)}B=Ne}}if(O=O[0],F=F[0],B&&q(H,1)&&!(B=1<=(xe=q(H,4))&&11>=xe)){j.a=3;break e}var Jt;if(Jt=B)t:{var Gt,gt,Br,Js=j,Or=O,Ks=F,Mt=xe,xn=v,bn=Js.m,Vr=Js.s,rs=[null],Ts=1,Un=0,Xa=Xk[Mt];r:for(;;){if(xn&&q(bn,1)){var Gr=q(bn,3)+2,Fi=Xe(Or,Gr),sc=Xe(Ks,Gr),Ud=Fi*sc;if(!Qa(Fi,sc,0,Js,rs))break r;for(rs=rs[0],Vr.xc=Gr,Gt=0;Gt<Ud;++Gt){var Bo=rs[Gt]>>8&65535;rs[Gt]=Bo,Bo>=Ts&&(Ts=Bo+1)}}if(bn.h)break r;for(gt=0;5>gt;++gt){var pr=vy[gt];!gt&&0<Mt&&(pr+=1<<Mt),Un<pr&&(Un=pr)}var R1=o(Ts*Xa,S),Ey=Ts,Iy=o(Ey,R);if(Iy==null)var ip=null;else e(65536>=Ey),ip=Iy;var kh=i(Un);if(ip==null||kh==null||R1==null){Js.a=1;break r}var op=R1;for(Gt=Br=0;Gt<Ts;++Gt){var fa=ip[Gt],zd=fa.G,Hd=fa.H,Ty=0,lp=1,_y=0;for(gt=0;5>gt;++gt){pr=vy[gt],zd[gt]=op,Hd[gt]=Br,!gt&&0<Mt&&(pr+=1<<Mt);n:{var cp,F1=pr,dp=Js,Sh=kh,vS=op,yS=Br,M1=0,Oo=dp.m,wS=q(Oo,1);if(a(Sh,0,0,F1),wS){var NS=q(Oo,1)+1,jS=q(Oo,1),By=q(Oo,jS==0?1:8);Sh[By]=1,NS==2&&(Sh[By=q(Oo,8)]=1);var up=1}else{var Oy=i(19),Dy=q(Oo,4)+4;if(19<Dy){dp.a=3;var hp=0;break n}for(cp=0;cp<Dy;++cp)Oy[Kk[cp]]=q(Oo,3);var U1=void 0,Ch=void 0,Ry=dp,AS=Oy,fp=F1,Fy=Sh,z1=0,Do=Ry.m,My=8,Uy=o(128,S);s:for(;P(Uy,0,7,AS,19);){if(q(Do,1)){var kS=2+2*q(Do,3);if((U1=2+q(Do,kS))>fp)break s}else U1=fp;for(Ch=0;Ch<fp&&U1--;){oe(Do);var zy=Uy[0+(127&G(Do))];te(Do,Do.u+zy.g);var qd=zy.value;if(16>qd)Fy[Ch++]=qd,qd!=0&&(My=qd);else{var SS=qd==16,Hy=qd-16,CS=Qk[Hy],qy=q(Do,Wk[Hy])+CS;if(Ch+qy>fp)break s;for(var PS=SS?My:0;0<qy--;)Fy[Ch++]=PS}}z1=1;break s}z1||(Ry.a=3),up=z1}(up=up&&!Oo.h)&&(M1=P(vS,yS,8,Sh,F1)),up&&M1!=0?hp=M1:(dp.a=3,hp=0)}if(hp==0)break r;if(lp&&Jk[gt]==1&&(lp=op[Br].g==0),Ty+=op[Br].g,Br+=hp,3>=gt){var Ph,H1=kh[0];for(Ph=1;Ph<pr;++Ph)kh[Ph]>H1&&(H1=kh[Ph]);_y+=H1}}if(fa.nd=lp,fa.Qb=0,lp&&(fa.qb=(zd[3][Hd[3]+0].value<<24|zd[1][Hd[1]+0].value<<16|zd[2][Hd[2]+0].value)>>>0,Ty==0&&256>zd[0][Hd[0]+0].value&&(fa.Qb=1,fa.qb+=zd[0][Hd[0]+0].value<<8)),fa.jc=!fa.Qb&&6>_y,fa.jc){var mp,Mi=fa;for(mp=0;mp<ts;++mp){var Ro=mp,Fo=Mi.pd[Ro],pp=Mi.G[0][Mi.H[0]+Ro];256<=pp.value?(Fo.g=pp.g+256,Fo.value=pp.value):(Fo.g=0,Fo.value=0,Ro>>=Fr(pp,8,Fo),Ro>>=Fr(Mi.G[1][Mi.H[1]+Ro],16,Fo),Ro>>=Fr(Mi.G[2][Mi.H[2]+Ro],0,Fo),Fr(Mi.G[3][Mi.H[3]+Ro],24,Fo))}}}Vr.vc=rs,Vr.Wb=Ts,Vr.Ya=ip,Vr.yc=R1,Jt=1;break t}Jt=0}if(!(B=Jt)){j.a=3;break e}if(0<xe){if(X.ua=1<<xe,!Ye(X.Wa,xe)){j.a=1,B=0;break e}}else X.ua=0;var q1=j,Vy=O,LS=F,V1=q1.s,G1=V1.xc;if(q1.c=Vy,q1.i=LS,V1.md=Xe(Vy,G1),V1.wc=G1==0?-1:(1<<G1)-1,v){j.xb=iS;break e}if((de=i(O*F))==null){j.a=1,B=0;break e}B=(B=la(j,de,0,O,F,F,null))&&!H.h;break e}return B?(I!=null?I[0]=de:(e(de==null),e(v)),j.$=0,v||Wa(X)):Wa(X),B}function Wl(d,h){var v=d.c*d.i,j=v+h+16*h;return e(d.c<=h),d.V=i(j),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+v+h,1)}function gd(d,h){var v=d.C,j=h-v,I=d.V,B=d.Ba+d.c*v;for(e(h<=d.l.o);0<j;){var O=16<j?16:j,F=d.l.ma,H=d.l.width,X=H*O,de=F.ca,xe=F.tb+H*v,be=d.Ta,pe=d.Ua;mn(d,O,I,B),jr(be,pe,de,xe,X),ia(F,v,v+O,de,xe,H),j-=O,I+=O*d.c,v+=O}e(v==h),d.C=d.Ma=h}function xd(){this.ub=this.yd=this.td=this.Rb=0}function bd(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vd(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Sm(){this.Yb=function(){var d=[];return function h(v,j,I){for(var B=I[j],O=0;O<B&&(v.push(I.length>j+1?[]:0),!(I.length<j+1));O++)h(v[O],j+1,I)}(d,0,[3,11]),d}()}function n1(){this.jb=i(3),this.Wc=l([4,8],Sm),this.Xc=l([4,17],Sm)}function a1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function yd(){this.ld=this.La=this.dd=this.tc=0}function Cm(){this.Na=this.la=0}function i1(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Z0(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function o1(){this.uc=this.M=this.Nb=0,this.wa=Array(new yd),this.Y=0,this.ya=Array(new Z0),this.aa=0,this.l=new wd}function Pm(){this.y=i(16),this.f=i(8),this.ea=i(8)}function l1(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new xd,this.Kc=new bd,this.ed=new a1,this.Qa=new vd,this.Ic=this.$c=this.Aa=0,this.D=new o1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ee),this.ia=0,this.pb=o(4,i1),this.Pa=new n1,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pm),this.Hd=0,this.rb=Array(new Cm),this.sb=0,this.wa=Array(new yd),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Z0),this.L=this.aa=0,this.gd=l([4,2],yd),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function c1(){var d=new l1;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,jh||(jh=Im)),d}function wr(d,h,v){return d.a==0&&(d.a=h,d.sc=v,d.cb=0),0}function Lm(d,h,v){return 3<=v&&d[h+0]==157&&d[h+1]==1&&d[h+2]==42}function Em(d,h){if(d==null)return 0;if(d.a=0,d.sc="OK",h==null)return wr(d,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,j=h.w,I=h.ha;if(4>I)return wr(d,7,"Truncated header.");var B=v[j+0]|v[j+1]<<8|v[j+2]<<16,O=d.Od;if(O.Rb=!(1&B),O.td=B>>1&7,O.yd=B>>4&1,O.ub=B>>5,3<O.td)return wr(d,3,"Incorrect keyframe parameters.");if(!O.yd)return wr(d,4,"Frame not displayable.");j+=3,I-=3;var F=d.Kc;if(O.Rb){if(7>I)return wr(d,7,"cannot parse picture header");if(!Lm(v,j,I))return wr(d,3,"Bad code word");F.c=16383&(v[j+4]<<8|v[j+3]),F.Td=v[j+4]>>6,F.i=16383&(v[j+6]<<8|v[j+5]),F.Ud=v[j+6]>>6,j+=7,I-=7,d.za=F.c+15>>4,d.Ub=F.i+15>>4,h.width=F.c,h.height=F.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,a((B=d.Pa).jb,0,255,B.jb.length),e((B=d.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,a(B.Zb,0,0,B.Zb.length),a(B.Lb,0,0,B.Lb)}if(O.ub>I)return wr(d,7,"bad partition length");Z(B=d.m,v,j,O.ub),j+=O.ub,I-=O.ub,O.Rb&&(F.Ld=ae(B),F.Kd=ae(B)),F=d.Qa;var H,X=d.Pa;if(e(B!=null),e(F!=null),F.Cb=ae(B),F.Cb){if(F.Bb=ae(B),ae(B)){for(F.Fb=ae(B),H=0;4>H;++H)F.Zb[H]=ae(B)?z(B,7):0;for(H=0;4>H;++H)F.Lb[H]=ae(B)?z(B,6):0}if(F.Bb)for(H=0;3>H;++H)X.jb[H]=ae(B)?Y(B,8):255}else F.Bb=0;if(B.Ka)return wr(d,3,"cannot parse segment header");if((F=d.ed).zd=ae(B),F.Tb=Y(B,6),F.wb=Y(B,3),F.Pc=ae(B),F.Pc&&ae(B)){for(X=0;4>X;++X)ae(B)&&(F.vd[X]=z(B,6));for(X=0;4>X;++X)ae(B)&&(F.od[X]=z(B,6))}if(d.L=F.Tb==0?0:F.zd?1:2,B.Ka)return wr(d,3,"cannot parse filter header");var de=I;if(I=H=j,j=H+de,F=de,d.Xb=(1<<Y(d.m,2))-1,de<3*(X=d.Xb))v=7;else{for(H+=3*X,F-=3*X,de=0;de<X;++de){var xe=v[I+0]|v[I+1]<<8|v[I+2]<<16;xe>F&&(xe=F),Z(d.Jc[+de],v,H,xe),H+=xe,F-=xe,I+=3}Z(d.Jc[+X],v,H,F),v=H<j?0:5}if(v!=0)return wr(d,v,"cannot parse partitions");for(v=Y(H=d.m,7),I=ae(H)?z(H,4):0,j=ae(H)?z(H,4):0,F=ae(H)?z(H,4):0,X=ae(H)?z(H,4):0,H=ae(H)?z(H,4):0,de=d.Qa,xe=0;4>xe;++xe){if(de.Cb){var be=de.Zb[xe];de.Fb||(be+=v)}else{if(0<xe){d.pb[xe]=d.pb[0];continue}be=v}var pe=d.pb[xe];pe.Sc[0]=B1[pn(be+I,127)],pe.Sc[1]=O1[pn(be+0,127)],pe.Eb[0]=2*B1[pn(be+j,127)],pe.Eb[1]=101581*O1[pn(be+F,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=B1[pn(be+X,117)],pe.Qc[1]=O1[pn(be+H,127)],pe.lc=be+H}if(!O.Rb)return wr(d,4,"Not a key frame.");for(ae(B),O=d.Pa,v=0;4>v;++v){for(I=0;8>I;++I)for(j=0;3>j;++j)for(F=0;11>F;++F)X=ce(B,nS[v][I][j][F])?Y(B,8):rS[v][I][j][F],O.Wc[v][I].Yb[j][F]=X;for(I=0;17>I;++I)O.Xc[v][I]=O.Wc[v][aS[I]]}return d.kc=ae(B),d.kc&&(d.Bd=Y(B,8)),d.cb=1}function Im(d,h,v,j,I,B,O){var F=h[I].Yb[v];for(v=0;16>I;++I){if(!ce(d,F[v+0]))return I;for(;!ce(d,F[v+1]);)if(F=h[++I].Yb[0],v=0,I==16)return 16;var H=h[I+1].Yb;if(ce(d,F[v+2])){var X=d,de=0;if(ce(X,(be=F)[(xe=v)+3]))if(ce(X,be[xe+6])){for(F=0,xe=2*(de=ce(X,be[xe+8]))+(be=ce(X,be[xe+9+de])),de=0,be=eS[xe];be[F];++F)de+=de+ce(X,be[F]);de+=3+(8<<xe)}else ce(X,be[xe+7])?(de=7+2*ce(X,165),de+=ce(X,145)):de=5+ce(X,159);else de=ce(X,be[xe+4])?3+ce(X,be[xe+5]):2;F=H[2]}else de=1,F=H[1];H=O+tS[I],0>(X=d).b&&me(X);var xe,be=X.b,pe=(xe=X.Ca>>1)-(X.I>>be)>>31;--X.b,X.Ca+=pe,X.Ca|=1,X.I-=(xe+1&pe)<<be,B[H]=((de^pe)-pe)*j[(0<I)+0]}return 16}function eh(d){var h=d.rb[d.sb-1];h.la=0,h.Na=0,a(d.zc,0,0,d.zc.length),d.ja=0}function d1(d,h){if(d==null)return 0;if(h==null)return wr(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Em(d,h))return 0;if(e(d.cb),h.ac==null||h.ac(h)){h.ob&&(d.L=0);var v=ap[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=h.v-v>>4,d.zb=h.j-v>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=h.o+15+v>>4,d.Hb=h.va+15+v>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var j=d.ed;for(v=0;4>v;++v){var I;if(d.Qa.Cb){var B=d.Qa.Lb[v];d.Qa.Fb||(B+=j.Tb)}else B=j.Tb;for(I=0;1>=I;++I){var O=d.gd[v][I],F=B;if(j.Pc&&(F+=j.vd[0],I&&(F+=j.od[0])),0<(F=0>F?0:63<F?63:F)){var H=F;0<j.wb&&(H=4<j.wb?H>>2:H>>1)>9-j.wb&&(H=9-j.wb),1>H&&(H=1),O.dd=H,O.tc=2*F+H,O.ld=40<=F?2:15<=F?1:0}else O.tc=0;O.La=I}}}v=0}else wr(d,6,"Frame setup failed"),v=d.a;if(v=v==0){if(v){d.$c=0,0<d.Aa||(d.Ic=bS);e:{v=d.Ic,j=4*(H=d.za);var X=32*H,de=H+1,xe=0<d.L?H*(0<d.Aa?2:1):0,be=(d.Aa==2?2:1)*H;if((O=j+832+(I=3*(16*v+ap[d.L])/2*X)+(B=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=O)v=0;else{if(O>d.Vb){if(d.Vb=0,d.Ec=i(O),d.Fc=0,d.Ec==null){v=wr(d,1,"no memory during frame initialization.");break e}d.Vb=O}O=d.Ec,F=d.Fc,d.Ac=O,d.Bc=F,F+=j,d.Gd=o(X,Pm),d.Hd=0,d.rb=o(de+1,Cm),d.sb=1,d.wa=xe?o(xe,yd):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=H),e(!0),d.oc=O,d.pc=F,F+=832,d.ya=o(be,Z0),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=H),d.R=16*H,d.B=8*H,H=(X=ap[d.L])*d.R,X=X/2*d.B,d.sa=O,d.ta=F+H,d.qa=d.sa,d.ra=d.ta+16*v*d.R+X,d.Ha=d.qa,d.Ia=d.ra+8*v*d.B+X,d.$c=0,F+=I,d.mb=B?O:null,d.nb=B?F:null,e(F+B<=d.Fc+d.Vb),eh(d),a(d.Ac,d.Bc,0,j),v=1}}if(v){if(h.ka=0,h.y=d.sa,h.O=d.ta,h.f=d.qa,h.N=d.ra,h.ea=d.Ha,h.Vd=d.Ia,h.fa=d.R,h.Rc=d.B,h.F=null,h.J=0,!Km){for(v=-255;255>=v;++v)Mr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)Di[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Nh[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Md[255+v]=0>v?0:255<v?255:v;Km=1}Dd=f1,Oi=u1,vh=_m,Is=h1,On=Bm,Nr=Tm,Rd=ih,Jm=Kl,yh=S1,Zl=oh,ec=k1,Eo=Cd,tc=lh,Fd=qm,rc=Hm,Io=Ka,wh=Ti,Dn=A1,ha[0]=Ja,ha[1]=m1,ha[2]=b1,ha[3]=v1,ha[4]=Rm,ha[5]=kd,ha[6]=Fm,ha[7]=sh,ha[8]=w1,ha[9]=y1,To[0]=Om,To[1]=g1,To[2]=Ii,To[3]=jd,To[4]=fs,To[5]=x1,To[6]=Dm,Ri[0]=ko,Ri[1]=p1,Ri[2]=N1,Ri[3]=nh,Ri[4]=Jl,Ri[5]=j1,Ri[6]=ah,v=1}else v=0}v&&(v=function(pe,Ce){for(pe.M=0;pe.M<pe.Va;++pe.M){var Ne,ue=pe.Jc[pe.M&pe.Xb],fe=pe.m,ke=pe;for(Ne=0;Ne<ke.za;++Ne){var Ee=fe,Se=ke,$e=Se.Ac,Fe=Se.Bc+4*Ne,tt=Se.zc,Ue=Se.ya[Se.aa+Ne];if(Se.Qa.Bb?Ue.$b=ce(Ee,Se.Pa.jb[0])?2+ce(Ee,Se.Pa.jb[2]):ce(Ee,Se.Pa.jb[1]):Ue.$b=0,Se.kc&&(Ue.Ad=ce(Ee,Se.Bd)),Ue.Za=!ce(Ee,145)+0,Ue.Za){var _t=Ue.Ob,Ft=0;for(Se=0;4>Se;++Se){var Lt,At=tt[0+Se];for(Lt=0;4>Lt;++Lt){At=sS[$e[Fe+Lt]][At];for(var Jt=yy[ce(Ee,At[0])];0<Jt;)Jt=yy[2*Jt+ce(Ee,At[Jt])];At=-Jt,$e[Fe+Lt]=At}n(_t,Ft,$e,Fe,4),Ft+=4,tt[0+Se]=At}}else At=ce(Ee,156)?ce(Ee,128)?1:3:ce(Ee,163)?2:0,Ue.Ob[0]=At,a($e,Fe,At,4),a(tt,0,At,4);Ue.Dd=ce(Ee,142)?ce(Ee,114)?ce(Ee,183)?1:3:2:0}if(ke.m.Ka)return wr(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(ke=ue,Ee=(fe=pe).rb[fe.sb-1],$e=fe.rb[fe.sb+fe.ja],Ne=fe.ya[fe.aa+fe.ja],Fe=fe.kc?Ne.Ad:0)Ee.la=$e.la=0,Ne.Za||(Ee.Na=$e.Na=0),Ne.Hc=0,Ne.Gc=0,Ne.ia=0;else{var Gt,gt;if(Ee=$e,$e=ke,Fe=fe.Pa.Xc,tt=fe.ya[fe.aa+fe.ja],Ue=fe.pb[tt.$b],Se=tt.ad,_t=0,Ft=fe.rb[fe.sb-1],At=Lt=0,a(Se,_t,0,384),tt.Za)var Br=0,Js=Fe[3];else{Jt=i(16);var Or=Ee.Na+Ft.Na;if(Or=jh($e,Fe[1],Or,Ue.Eb,0,Jt,0),Ee.Na=Ft.Na=(0<Or)+0,1<Or)Dd(Jt,0,Se,_t);else{var Ks=Jt[0]+3>>3;for(Jt=0;256>Jt;Jt+=16)Se[_t+Jt]=Ks}Br=1,Js=Fe[0]}var Mt=15&Ee.la,xn=15&Ft.la;for(Jt=0;4>Jt;++Jt){var bn=1&xn;for(Ks=gt=0;4>Ks;++Ks)Mt=Mt>>1|(bn=(Or=jh($e,Js,Or=bn+(1&Mt),Ue.Sc,Br,Se,_t))>Br)<<7,gt=gt<<2|(3<Or?3:1<Or?2:Se[_t+0]!=0),_t+=16;Mt>>=4,xn=xn>>1|bn<<7,Lt=(Lt<<8|gt)>>>0}for(Js=Mt,Br=xn>>4,Gt=0;4>Gt;Gt+=2){for(gt=0,Mt=Ee.la>>4+Gt,xn=Ft.la>>4+Gt,Jt=0;2>Jt;++Jt){for(bn=1&xn,Ks=0;2>Ks;++Ks)Or=bn+(1&Mt),Mt=Mt>>1|(bn=0<(Or=jh($e,Fe[2],Or,Ue.Qc,0,Se,_t)))<<3,gt=gt<<2|(3<Or?3:1<Or?2:Se[_t+0]!=0),_t+=16;Mt>>=2,xn=xn>>1|bn<<5}At|=gt<<4*Gt,Js|=Mt<<4<<Gt,Br|=(240&xn)<<Gt}Ee.la=Js,Ft.la=Br,tt.Hc=Lt,tt.Gc=At,tt.ia=43690&At?0:Ue.ia,Fe=!(Lt|At)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[Ne.$b][Ne.Za],fe.wa[fe.Y+fe.ja].La|=!Fe),ke.Ka)return wr(pe,7,"Premature end-of-file encountered.")}if(eh(pe),fe=Ce,ke=1,Ne=(ue=pe).D,Ee=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(Ne.M=ue.M,Ne.uc=Ee,mh(ue,Ne),ke=1,Ne=(gt=ue.D).Nb,Ee=(At=ap[ue.L])*ue.R,$e=At/2*ue.B,Jt=16*Ne*ue.R,Ks=8*Ne*ue.B,Fe=ue.sa,tt=ue.ta-Ee+Jt,Ue=ue.qa,Se=ue.ra-$e+Ks,_t=ue.Ha,Ft=ue.Ia-$e+Ks,xn=(Mt=gt.M)==0,Lt=Mt>=ue.Va-1,ue.Aa==2&&mh(ue,gt),gt.uc)for(bn=(Or=ue).D.M,e(Or.D.uc),gt=Or.yb;gt<Or.Hb;++gt){Br=gt,Js=bn;var Vr=(rs=(pr=Or).D).Nb;Gt=pr.R;var rs=rs.wa[rs.Y+Br],Ts=pr.sa,Un=pr.ta+16*Vr*Gt+16*Br,Xa=rs.dd,Gr=rs.tc;if(Gr!=0)if(e(3<=Gr),pr.L==1)0<Br&&Io(Ts,Un,Gt,Gr+4),rs.La&&Dn(Ts,Un,Gt,Gr),0<Js&&rc(Ts,Un,Gt,Gr+4),rs.La&&wh(Ts,Un,Gt,Gr);else{var Fi=pr.B,sc=pr.qa,Ud=pr.ra+8*Vr*Fi+8*Br,Bo=pr.Ha,pr=pr.Ia+8*Vr*Fi+8*Br;Vr=rs.ld,0<Br&&(Jm(Ts,Un,Gt,Gr+4,Xa,Vr),Zl(sc,Ud,Bo,pr,Fi,Gr+4,Xa,Vr)),rs.La&&(Eo(Ts,Un,Gt,Gr,Xa,Vr),Fd(sc,Ud,Bo,pr,Fi,Gr,Xa,Vr)),0<Js&&(Rd(Ts,Un,Gt,Gr+4,Xa,Vr),yh(sc,Ud,Bo,pr,Fi,Gr+4,Xa,Vr)),rs.La&&(ec(Ts,Un,Gt,Gr,Xa,Vr),tc(sc,Ud,Bo,pr,Fi,Gr,Xa,Vr))}}if(ue.ia&&alert("todo:DitherRow"),fe.put!=null){if(gt=16*Mt,Mt=16*(Mt+1),xn?(fe.y=ue.sa,fe.O=ue.ta+Jt,fe.f=ue.qa,fe.N=ue.ra+Ks,fe.ea=ue.Ha,fe.W=ue.Ia+Ks):(gt-=At,fe.y=Fe,fe.O=tt,fe.f=Ue,fe.N=Se,fe.ea=_t,fe.W=Ft),Lt||(Mt-=At),Mt>fe.o&&(Mt=fe.o),fe.F=null,fe.J=null,ue.Fa!=null&&0<ue.Fa.length&&gt<Mt&&(fe.J=hh(ue,fe,gt,Mt-gt),fe.F=ue.mb,fe.F==null&&fe.F.length==0)){ke=wr(ue,3,"Could not decode alpha data.");break e}gt<fe.j&&(At=fe.j-gt,gt=fe.j,e(!(1&At)),fe.O+=ue.R*At,fe.N+=ue.B*(At>>1),fe.W+=ue.B*(At>>1),fe.F!=null&&(fe.J+=fe.width*At)),gt<Mt&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=gt-fe.j,fe.U=fe.va-fe.v,fe.T=Mt-gt,ke=fe.put(fe))}Ne+1!=ue.Ic||Lt||(n(ue.sa,ue.ta-Ee,Fe,tt+16*ue.R,Ee),n(ue.qa,ue.ra-$e,Ue,Se+8*ue.B,$e),n(ue.Ha,ue.Ia-$e,_t,Ft+8*ue.B,$e))}if(!ke)return wr(pe,6,"Output aborted.")}return 1}(d,h)),h.bc!=null&&h.bc(h),v&=1}return v?(d.cb=0,v):0}function ca(d,h,v,j,I){I=d[h+v+32*j]+(I>>3),d[h+v+32*j]=-256&I?0>I?0:255:I}function Nd(d,h,v,j,I,B){ca(d,h,0,v,j+I),ca(d,h,1,v,j+B),ca(d,h,2,v,j-B),ca(d,h,3,v,j-I)}function $s(d){return(20091*d>>16)+d}function th(d,h,v,j){var I,B=0,O=i(16);for(I=0;4>I;++I){var F=d[h+0]+d[h+8],H=d[h+0]-d[h+8],X=(35468*d[h+4]>>16)-$s(d[h+12]),de=$s(d[h+4])+(35468*d[h+12]>>16);O[B+0]=F+de,O[B+1]=H+X,O[B+2]=H-X,O[B+3]=F-de,B+=4,h++}for(I=B=0;4>I;++I)F=(d=O[B+0]+4)+O[B+8],H=d-O[B+8],X=(35468*O[B+4]>>16)-$s(O[B+12]),ca(v,j,0,0,F+(de=$s(O[B+4])+(35468*O[B+12]>>16))),ca(v,j,1,0,H+X),ca(v,j,2,0,H-X),ca(v,j,3,0,F-de),B++,j+=32}function Tm(d,h,v,j){var I=d[h+0]+4,B=35468*d[h+4]>>16,O=$s(d[h+4]),F=35468*d[h+1]>>16;Nd(v,j,0,I+O,d=$s(d[h+1]),F),Nd(v,j,1,I+B,d,F),Nd(v,j,2,I-B,d,F),Nd(v,j,3,I-O,d,F)}function u1(d,h,v,j,I){th(d,h,v,j),I&&th(d,h+16,v,j+4)}function _m(d,h,v,j){Oi(d,h+0,v,j,1),Oi(d,h+32,v,j+128,1)}function h1(d,h,v,j){var I;for(d=d[h+0]+4,I=0;4>I;++I)for(h=0;4>h;++h)ca(v,j,h,I,d)}function Bm(d,h,v,j){d[h+0]&&Is(d,h+0,v,j),d[h+16]&&Is(d,h+16,v,j+4),d[h+32]&&Is(d,h+32,v,j+128),d[h+48]&&Is(d,h+48,v,j+128+4)}function f1(d,h,v,j){var I,B=i(16);for(I=0;4>I;++I){var O=d[h+0+I]+d[h+12+I],F=d[h+4+I]+d[h+8+I],H=d[h+4+I]-d[h+8+I],X=d[h+0+I]-d[h+12+I];B[0+I]=O+F,B[8+I]=O-F,B[4+I]=X+H,B[12+I]=X-H}for(I=0;4>I;++I)O=(d=B[0+4*I]+3)+B[3+4*I],F=B[1+4*I]+B[2+4*I],H=B[1+4*I]-B[2+4*I],X=d-B[3+4*I],v[j+0]=O+F>>3,v[j+16]=X+H>>3,v[j+32]=O-F>>3,v[j+48]=X-H>>3,j+=64}function rh(d,h,v){var j,I=h-32,B=gn,O=255-d[I-1];for(j=0;j<v;++j){var F,H=B,X=O+d[h-1];for(F=0;F<v;++F)d[h+F]=H[X+d[I+F]];h+=32}}function m1(d,h){rh(d,h,4)}function p1(d,h){rh(d,h,8)}function g1(d,h){rh(d,h,16)}function Ii(d,h){var v;for(v=0;16>v;++v)n(d,h+32*v,d,h-32,16)}function jd(d,h){var v;for(v=16;0<v;--v)a(d,h,d[h-1],16),h+=32}function Ad(d,h,v){var j;for(j=0;16>j;++j)a(h,v+32*j,d,16)}function Om(d,h){var v,j=16;for(v=0;16>v;++v)j+=d[h-1+32*v]+d[h+v-32];Ad(j>>5,d,h)}function fs(d,h){var v,j=8;for(v=0;16>v;++v)j+=d[h-1+32*v];Ad(j>>4,d,h)}function x1(d,h){var v,j=8;for(v=0;16>v;++v)j+=d[h+v-32];Ad(j>>4,d,h)}function Dm(d,h){Ad(128,d,h)}function lt(d,h,v){return d+2*h+v+2>>2}function b1(d,h){var v,j=h-32;for(j=new Uint8Array([lt(d[j-1],d[j+0],d[j+1]),lt(d[j+0],d[j+1],d[j+2]),lt(d[j+1],d[j+2],d[j+3]),lt(d[j+2],d[j+3],d[j+4])]),v=0;4>v;++v)n(d,h+32*v,j,0,j.length)}function v1(d,h){var v=d[h-1],j=d[h-1+32],I=d[h-1+64],B=d[h-1+96];Ae(d,h+0,16843009*lt(d[h-1-32],v,j)),Ae(d,h+32,16843009*lt(v,j,I)),Ae(d,h+64,16843009*lt(j,I,B)),Ae(d,h+96,16843009*lt(I,B,B))}function Ja(d,h){var v,j=4;for(v=0;4>v;++v)j+=d[h+v-32]+d[h-1+32*v];for(j>>=3,v=0;4>v;++v)a(d,h+32*v,j,4)}function Rm(d,h){var v=d[h-1+0],j=d[h-1+32],I=d[h-1+64],B=d[h-1-32],O=d[h+0-32],F=d[h+1-32],H=d[h+2-32],X=d[h+3-32];d[h+0+96]=lt(j,I,d[h-1+96]),d[h+1+96]=d[h+0+64]=lt(v,j,I),d[h+2+96]=d[h+1+64]=d[h+0+32]=lt(B,v,j),d[h+3+96]=d[h+2+64]=d[h+1+32]=d[h+0+0]=lt(O,B,v),d[h+3+64]=d[h+2+32]=d[h+1+0]=lt(F,O,B),d[h+3+32]=d[h+2+0]=lt(H,F,O),d[h+3+0]=lt(X,H,F)}function Fm(d,h){var v=d[h+1-32],j=d[h+2-32],I=d[h+3-32],B=d[h+4-32],O=d[h+5-32],F=d[h+6-32],H=d[h+7-32];d[h+0+0]=lt(d[h+0-32],v,j),d[h+1+0]=d[h+0+32]=lt(v,j,I),d[h+2+0]=d[h+1+32]=d[h+0+64]=lt(j,I,B),d[h+3+0]=d[h+2+32]=d[h+1+64]=d[h+0+96]=lt(I,B,O),d[h+3+32]=d[h+2+64]=d[h+1+96]=lt(B,O,F),d[h+3+64]=d[h+2+96]=lt(O,F,H),d[h+3+96]=lt(F,H,H)}function kd(d,h){var v=d[h-1+0],j=d[h-1+32],I=d[h-1+64],B=d[h-1-32],O=d[h+0-32],F=d[h+1-32],H=d[h+2-32],X=d[h+3-32];d[h+0+0]=d[h+1+64]=B+O+1>>1,d[h+1+0]=d[h+2+64]=O+F+1>>1,d[h+2+0]=d[h+3+64]=F+H+1>>1,d[h+3+0]=H+X+1>>1,d[h+0+96]=lt(I,j,v),d[h+0+64]=lt(j,v,B),d[h+0+32]=d[h+1+96]=lt(v,B,O),d[h+1+32]=d[h+2+96]=lt(B,O,F),d[h+2+32]=d[h+3+96]=lt(O,F,H),d[h+3+32]=lt(F,H,X)}function sh(d,h){var v=d[h+0-32],j=d[h+1-32],I=d[h+2-32],B=d[h+3-32],O=d[h+4-32],F=d[h+5-32],H=d[h+6-32],X=d[h+7-32];d[h+0+0]=v+j+1>>1,d[h+1+0]=d[h+0+64]=j+I+1>>1,d[h+2+0]=d[h+1+64]=I+B+1>>1,d[h+3+0]=d[h+2+64]=B+O+1>>1,d[h+0+32]=lt(v,j,I),d[h+1+32]=d[h+0+96]=lt(j,I,B),d[h+2+32]=d[h+1+96]=lt(I,B,O),d[h+3+32]=d[h+2+96]=lt(B,O,F),d[h+3+64]=lt(O,F,H),d[h+3+96]=lt(F,H,X)}function y1(d,h){var v=d[h-1+0],j=d[h-1+32],I=d[h-1+64],B=d[h-1+96];d[h+0+0]=v+j+1>>1,d[h+2+0]=d[h+0+32]=j+I+1>>1,d[h+2+32]=d[h+0+64]=I+B+1>>1,d[h+1+0]=lt(v,j,I),d[h+3+0]=d[h+1+32]=lt(j,I,B),d[h+3+32]=d[h+1+64]=lt(I,B,B),d[h+3+64]=d[h+2+64]=d[h+0+96]=d[h+1+96]=d[h+2+96]=d[h+3+96]=B}function w1(d,h){var v=d[h-1+0],j=d[h-1+32],I=d[h-1+64],B=d[h-1+96],O=d[h-1-32],F=d[h+0-32],H=d[h+1-32],X=d[h+2-32];d[h+0+0]=d[h+2+32]=v+O+1>>1,d[h+0+32]=d[h+2+64]=j+v+1>>1,d[h+0+64]=d[h+2+96]=I+j+1>>1,d[h+0+96]=B+I+1>>1,d[h+3+0]=lt(F,H,X),d[h+2+0]=lt(O,F,H),d[h+1+0]=d[h+3+32]=lt(v,O,F),d[h+1+32]=d[h+3+64]=lt(j,v,O),d[h+1+64]=d[h+3+96]=lt(I,j,v),d[h+1+96]=lt(B,I,j)}function N1(d,h){var v;for(v=0;8>v;++v)n(d,h+32*v,d,h-32,8)}function nh(d,h){var v;for(v=0;8>v;++v)a(d,h,d[h-1],8),h+=32}function Ql(d,h,v){var j;for(j=0;8>j;++j)a(h,v+32*j,d,8)}function ko(d,h){var v,j=8;for(v=0;8>v;++v)j+=d[h+v-32]+d[h-1+32*v];Ql(j>>4,d,h)}function j1(d,h){var v,j=4;for(v=0;8>v;++v)j+=d[h+v-32];Ql(j>>3,d,h)}function Jl(d,h){var v,j=4;for(v=0;8>v;++v)j+=d[h-1+32*v];Ql(j>>3,d,h)}function ah(d,h){Ql(128,d,h)}function Sd(d,h,v){var j=d[h-v],I=d[h+0],B=3*(I-j)+L1[1020+d[h-2*v]-d[h+v]],O=Ym[112+(B+4>>3)];d[h-v]=gn[255+j+Ym[112+(B+3>>3)]],d[h+0]=gn[255+I-O]}function Mm(d,h,v,j){var I=d[h+0],B=d[h+v];return Fn[255+d[h-2*v]-d[h-v]]>j||Fn[255+B-I]>j}function Um(d,h,v,j){return 4*Fn[255+d[h-v]-d[h+0]]+Fn[255+d[h-2*v]-d[h+v]]<=j}function zm(d,h,v,j,I){var B=d[h-3*v],O=d[h-2*v],F=d[h-v],H=d[h+0],X=d[h+v],de=d[h+2*v],xe=d[h+3*v];return 4*Fn[255+F-H]+Fn[255+O-X]>j?0:Fn[255+d[h-4*v]-B]<=I&&Fn[255+B-O]<=I&&Fn[255+O-F]<=I&&Fn[255+xe-de]<=I&&Fn[255+de-X]<=I&&Fn[255+X-H]<=I}function Hm(d,h,v,j){var I=2*j+1;for(j=0;16>j;++j)Um(d,h+j,v,I)&&Sd(d,h+j,v)}function Ka(d,h,v,j){var I=2*j+1;for(j=0;16>j;++j)Um(d,h+j*v,1,I)&&Sd(d,h+j*v,1)}function Ti(d,h,v,j){var I;for(I=3;0<I;--I)Hm(d,h+=4*v,v,j)}function A1(d,h,v,j){var I;for(I=3;0<I;--I)Ka(d,h+=4,v,j)}function So(d,h,v,j,I,B,O,F){for(B=2*B+1;0<I--;){if(zm(d,h,v,B,O))if(Mm(d,h,v,F))Sd(d,h,v);else{var H=d,X=h,de=v,xe=H[X-2*de],be=H[X-de],pe=H[X+0],Ce=H[X+de],Ne=H[X+2*de],ue=27*(ke=L1[1020+3*(pe-be)+L1[1020+xe-Ce]])+63>>7,fe=18*ke+63>>7,ke=9*ke+63>>7;H[X-3*de]=gn[255+H[X-3*de]+ke],H[X-2*de]=gn[255+xe+fe],H[X-de]=gn[255+be+ue],H[X+0]=gn[255+pe-ue],H[X+de]=gn[255+Ce-fe],H[X+2*de]=gn[255+Ne-ke]}h+=j}}function da(d,h,v,j,I,B,O,F){for(B=2*B+1;0<I--;){if(zm(d,h,v,B,O))if(Mm(d,h,v,F))Sd(d,h,v);else{var H=d,X=h,de=v,xe=H[X-de],be=H[X+0],pe=H[X+de],Ce=Ym[112+((Ne=3*(be-xe))+4>>3)],Ne=Ym[112+(Ne+3>>3)],ue=Ce+1>>1;H[X-2*de]=gn[255+H[X-2*de]+ue],H[X-de]=gn[255+xe+Ne],H[X+0]=gn[255+be-Ce],H[X+de]=gn[255+pe-ue]}h+=j}}function ih(d,h,v,j,I,B){So(d,h,v,1,16,j,I,B)}function Kl(d,h,v,j,I,B){So(d,h,1,v,16,j,I,B)}function k1(d,h,v,j,I,B){var O;for(O=3;0<O;--O)da(d,h+=4*v,v,1,16,j,I,B)}function Cd(d,h,v,j,I,B){var O;for(O=3;0<O;--O)da(d,h+=4,1,v,16,j,I,B)}function S1(d,h,v,j,I,B,O,F){So(d,h,I,1,8,B,O,F),So(v,j,I,1,8,B,O,F)}function oh(d,h,v,j,I,B,O,F){So(d,h,1,I,8,B,O,F),So(v,j,1,I,8,B,O,F)}function lh(d,h,v,j,I,B,O,F){da(d,h+4*I,I,1,8,B,O,F),da(v,j+4*I,I,1,8,B,O,F)}function qm(d,h,v,j,I,B,O,F){da(d,h+4,1,I,8,B,O,F),da(v,j+4,1,I,8,B,O,F)}function Pd(){this.ba=new na,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ch(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vm(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new S}function C1(){this.xb=this.a=0,this.l=new wd,this.ca=new na,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vm,this.ab=0,this.gc=o(4,dh),this.Oc=0}function Ld(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yl(d,h,v,j,I,B,O){for(d=d==null?0:d[h+0],h=0;h<O;++h)I[B+h]=d+v[j+h]&255,d=I[B+h]}function uh(d,h,v,j,I,B,O){var F;if(d==null)Yl(null,null,v,j,I,B,O);else for(F=0;F<O;++F)I[B+F]=d[h+F]+v[j+F]&255}function Co(d,h,v,j,I,B,O){if(d==null)Yl(null,null,v,j,I,B,O);else{var F,H=d[h+0],X=H,de=H;for(F=0;F<O;++F)X=de+(H=d[h+F])-X,de=v[j+F]+(-256&X?0>X?0:255:X)&255,X=H,I[B+F]=de}}function hh(d,h,v,j){var I=h.width,B=h.o;if(e(d!=null&&h!=null),0>v||0>=j||v+j>B)return null;if(!d.Cc){if(d.ga==null){var O;if(d.ga=new Ld,(O=d.ga==null)||(O=h.width*h.o,e(d.Gb.length==0),d.Gb=i(O),d.Uc=0,d.Gb==null?O=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,O=1),O=!O),!O){O=d.ga;var F=d.Fa,H=d.P,X=d.qc,de=d.mb,xe=d.nb,be=H+1,pe=X-1,Ce=O.l;if(e(F!=null&&de!=null&&h!=null),_o[0]=null,_o[1]=Yl,_o[2]=uh,_o[3]=Co,O.ca=de,O.tb=xe,O.c=h.width,O.i=h.height,e(0<O.c&&0<O.i),1>=X)h=0;else if(O.$a=F[H+0]>>0&3,O.Z=F[H+0]>>2&3,O.Lc=F[H+0]>>4&3,H=F[H+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||H)h=0;else if(Ce.put=Va,Ce.ac=es,Ce.bc=Ga,Ce.ma=O,Ce.width=h.width,Ce.height=h.height,Ce.Da=h.Da,Ce.v=h.v,Ce.va=h.va,Ce.j=h.j,Ce.o=h.o,O.$a)e:{e(O.$a==1),h=_n();t:for(;;){if(h==null){h=0;break e}if(e(O!=null),O.mc=h,h.c=O.c,h.i=O.i,h.l=O.l,h.l.ma=O,h.l.width=O.c,h.l.height=O.i,h.a=0,D(h.m,F,be,pe),!Qa(O.c,O.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Ei(h.s)?(O.ic=1,F=h.c*h.i,h.Ta=null,h.Ua=0,h.V=i(F),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(O.ic=0,h=Wl(h,O.c)),!h))break t;h=1;break e}O.mc=null,h=0}else h=pe>=O.c*O.i;O=!h}if(O)return null;d.ga.Lc!=1?d.Ga=0:j=B-v}e(d.ga!=null),e(v+j<=B);e:{if(h=(F=d.ga).c,B=F.l.o,F.$a==0){if(be=d.rc,pe=d.Vc,Ce=d.Fa,H=d.P+1+v*h,X=d.mb,de=d.nb+v*h,e(H<=d.P+d.qc),F.Z!=0)for(e(_o[F.Z]!=null),O=0;O<j;++O)_o[F.Z](be,pe,Ce,H,X,de,h),be=X,pe=de,de+=h,H+=h;else for(O=0;O<j;++O)n(X,de,Ce,H,h),be=X,pe=de,de+=h,H+=h;d.rc=be,d.Vc=pe}else{if(e(F.mc!=null),h=v+j,e((O=F.mc)!=null),e(h<=O.i),O.C>=h)h=1;else if(F.ic||ge(),F.ic){F=O.V,be=O.Ba,pe=O.c;var Ne=O.i,ue=(Ce=1,H=O.$/pe,X=O.$%pe,de=O.m,xe=O.s,O.$),fe=pe*Ne,ke=pe*h,Ee=xe.wc,Se=ue<ke?Tr(xe,X,H):null;e(ue<=fe),e(h<=Ne),e(Ei(xe));t:for(;;){for(;!de.h&&ue<ke;){if(X&Ee||(Se=Tr(xe,X,H)),e(Se!=null),oe(de),256>(Ne=Gs(Se.G[0],Se.H[0],de)))F[be+ue]=Ne,++ue,++X>=pe&&(X=0,++H<=h&&!(H%16)&&oa(O,H));else{if(!(280>Ne)){Ce=0;break t}Ne=aa(Ne-256,de);var $e,Fe=Gs(Se.G[4],Se.H[4],de);if(oe(de),!(ue>=(Fe=$a(pe,Fe=aa(Fe,de)))&&fe-ue>=Ne)){Ce=0;break t}for($e=0;$e<Ne;++$e)F[be+ue+$e]=F[be+ue+$e-Fe];for(ue+=Ne,X+=Ne;X>=pe;)X-=pe,++H<=h&&!(H%16)&&oa(O,H);ue<ke&&X&Ee&&(Se=Tr(xe,X,H))}e(de.h==K(de))}oa(O,H>h?h:H);break t}!Ce||de.h&&ue<fe?(Ce=0,O.a=de.h?5:3):O.$=ue,h=Ce}else h=la(O,O.V,O.Ba,O.c,O.i,h,gd);if(!h){j=0;break e}}v+j>=B&&(d.Cc=1),j=1}if(!j)return null;if(d.Cc&&((j=d.ga)!=null&&(j.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+v*I}function g(d,h,v,j,I,B){for(;0<I--;){var O,F=d,H=h+(v?1:0),X=d,de=h+(v?0:3);for(O=0;O<j;++O){var xe=X[de+4*O];xe!=255&&(xe*=32897,F[H+4*O+0]=F[H+4*O+0]*xe>>23,F[H+4*O+1]=F[H+4*O+1]*xe>>23,F[H+4*O+2]=F[H+4*O+2]*xe>>23)}h+=B}}function T(d,h,v,j,I){for(;0<j--;){var B;for(B=0;B<v;++B){var O=d[h+2*B+0],F=15&(X=d[h+2*B+1]),H=4369*F,X=(240&X|X>>4)*H>>16;d[h+2*B+0]=(240&O|O>>4)*H>>16&240|(15&O|O<<4)*H>>16>>4&15,d[h+2*B+1]=240&X|F}h+=I}}function re(d,h,v,j,I,B,O,F){var H,X,de=255;for(X=0;X<I;++X){for(H=0;H<j;++H){var xe=d[h+H];B[O+4*H]=xe,de&=xe}h+=v,O+=F}return de!=255}function le(d,h,v,j,I){var B;for(B=0;B<I;++B)v[j+B]=d[h+B]>>8}function ge(){Rn=g,Yt=T,Xt=re,jr=le}function je(d,h,v){_[d]=function(j,I,B,O,F,H,X,de,xe,be,pe,Ce,Ne,ue,fe,ke,Ee){var Se,$e=Ee-1>>1,Fe=F[H+0]|X[de+0]<<16,tt=xe[be+0]|pe[Ce+0]<<16;e(j!=null);var Ue=3*Fe+tt+131074>>2;for(h(j[I+0],255&Ue,Ue>>16,Ne,ue),B!=null&&(Ue=3*tt+Fe+131074>>2,h(B[O+0],255&Ue,Ue>>16,fe,ke)),Se=1;Se<=$e;++Se){var _t=F[H+Se]|X[de+Se]<<16,Ft=xe[be+Se]|pe[Ce+Se]<<16,Lt=Fe+_t+tt+Ft+524296,At=Lt+2*(_t+tt)>>3;Ue=At+Fe>>1,Fe=(Lt=Lt+2*(Fe+Ft)>>3)+_t>>1,h(j[I+2*Se-1],255&Ue,Ue>>16,Ne,ue+(2*Se-1)*v),h(j[I+2*Se-0],255&Fe,Fe>>16,Ne,ue+(2*Se-0)*v),B!=null&&(Ue=Lt+tt>>1,Fe=At+Ft>>1,h(B[O+2*Se-1],255&Ue,Ue>>16,fe,ke+(2*Se-1)*v),h(B[O+2*Se+0],255&Fe,Fe>>16,fe,ke+(2*Se+0)*v)),Fe=_t,tt=Ft}1&Ee||(Ue=3*Fe+tt+131074>>2,h(j[I+Ee-1],255&Ue,Ue>>16,Ne,ue+(Ee-1)*v),B!=null&&(Ue=3*tt+Fe+131074>>2,h(B[O+Ee-1],255&Ue,Ue>>16,fe,ke+(Ee-1)*v)))}}function Ie(){Mn[Xm]=oS,Mn[Zm]=Ny,Mn[xy]=lS,Mn[ep]=jy,Mn[tp]=Ay,Mn[E1]=ky,Mn[by]=cS,Mn[I1]=Ny,Mn[T1]=jy,Mn[rp]=Ay,Mn[_1]=ky}function Ge(d){return d&~dS?0>d?0:255:d>>Sy}function et(d,h){return Ge((19077*d>>8)+(26149*h>>8)-14234)}function mt(d,h,v){return Ge((19077*d>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function ut(d,h){return Ge((19077*d>>8)+(33050*h>>8)-17685)}function Ct(d,h,v,j,I){j[I+0]=et(d,v),j[I+1]=mt(d,h,v),j[I+2]=ut(d,h)}function or(d,h,v,j,I){j[I+0]=ut(d,h),j[I+1]=mt(d,h,v),j[I+2]=et(d,v)}function mr(d,h,v,j,I){var B=mt(d,h,v);h=B<<3&224|ut(d,h)>>3,j[I+0]=248&et(d,v)|B>>5,j[I+1]=h}function _r(d,h,v,j,I){var B=240&ut(d,h)|15;j[I+0]=240&et(d,v)|mt(d,h,v)>>4,j[I+1]=B}function ms(d,h,v,j,I){j[I+0]=255,Ct(d,h,v,j,I+1)}function qr(d,h,v,j,I){or(d,h,v,j,I),j[I+3]=255}function ua(d,h,v,j,I){Ct(d,h,v,j,I),j[I+3]=255}function pn(d,h){return 0>d?0:d>h?h:d}function Ya(d,h,v){_[d]=function(j,I,B,O,F,H,X,de,xe){for(var be=de+(-2&xe)*v;de!=be;)h(j[I+0],B[O+0],F[H+0],X,de),h(j[I+1],B[O+0],F[H+0],X,de+v),I+=2,++O,++H,de+=2*v;1&xe&&h(j[I+0],B[O+0],F[H+0],X,de)}}function Gm(d,h,v){return v==0?d==0?h==0?6:5:h==0?4:0:v}function fh(d,h,v,j,I){switch(d>>>30){case 3:Oi(h,v,j,I,0);break;case 2:Nr(h,v,j,I);break;case 1:Is(h,v,j,I)}}function mh(d,h){var v,j,I=h.M,B=h.Nb,O=d.oc,F=d.pc+40,H=d.oc,X=d.pc+584,de=d.oc,xe=d.pc+600;for(v=0;16>v;++v)O[F+32*v-1]=129;for(v=0;8>v;++v)H[X+32*v-1]=129,de[xe+32*v-1]=129;for(0<I?O[F-1-32]=H[X-1-32]=de[xe-1-32]=129:(a(O,F-32-1,127,21),a(H,X-32-1,127,9),a(de,xe-32-1,127,9)),j=0;j<d.za;++j){var be=h.ya[h.aa+j];if(0<j){for(v=-1;16>v;++v)n(O,F+32*v-4,O,F+32*v+12,4);for(v=-1;8>v;++v)n(H,X+32*v-4,H,X+32*v+4,4),n(de,xe+32*v-4,de,xe+32*v+4,4)}var pe=d.Gd,Ce=d.Hd+j,Ne=be.ad,ue=be.Hc;if(0<I&&(n(O,F-32,pe[Ce].y,0,16),n(H,X-32,pe[Ce].f,0,8),n(de,xe-32,pe[Ce].ea,0,8)),be.Za){var fe=O,ke=F-32+16;for(0<I&&(j>=d.za-1?a(fe,ke,pe[Ce].y[15],4):n(fe,ke,pe[Ce+1].y,0,4)),v=0;4>v;v++)fe[ke+128+v]=fe[ke+256+v]=fe[ke+384+v]=fe[ke+0+v];for(v=0;16>v;++v,ue<<=2)fe=O,ke=F+Py[v],ha[be.Ob[v]](fe,ke),fh(ue,Ne,16*+v,fe,ke)}else if(fe=Gm(j,I,be.Ob[0]),To[fe](O,F),ue!=0)for(v=0;16>v;++v,ue<<=2)fh(ue,Ne,16*+v,O,F+Py[v]);for(v=be.Gc,fe=Gm(j,I,be.Dd),Ri[fe](H,X),Ri[fe](de,xe),ue=Ne,fe=H,ke=X,255&(be=v>>0)&&(170&be?vh(ue,256,fe,ke):On(ue,256,fe,ke)),be=de,ue=xe,255&(v>>=8)&&(170&v?vh(Ne,320,be,ue):On(Ne,320,be,ue)),I<d.Ub-1&&(n(pe[Ce].y,0,O,F+480,16),n(pe[Ce].f,0,H,X+224,8),n(pe[Ce].ea,0,de,xe+224,8)),v=8*B*d.B,pe=d.sa,Ce=d.ta+16*j+16*B*d.R,Ne=d.qa,be=d.ra+8*j+v,ue=d.Ha,fe=d.Ia+8*j+v,v=0;16>v;++v)n(pe,Ce+v*d.R,O,F+32*v,16);for(v=0;8>v;++v)n(Ne,be+v*d.B,H,X+32*v,8),n(ue,fe+v*d.B,de,xe+32*v,8)}}function Ed(d,h,v,j,I,B,O,F,H){var X=[0],de=[0],xe=0,be=H!=null?H.kd:0,pe=H??new ch;if(d==null||12>v)return 7;pe.data=d,pe.w=h,pe.ha=v,h=[h],v=[v],pe.gb=[pe.gb];e:{var Ce=h,Ne=v,ue=pe.gb;if(e(d!=null),e(Ne!=null),e(ue!=null),ue[0]=0,12<=Ne[0]&&!r(d,Ce[0],"RIFF")){if(r(d,Ce[0]+8,"WEBP")){ue=3;break e}var fe=_e(d,Ce[0]+4);if(12>fe||4294967286<fe){ue=3;break e}if(be&&fe>Ne[0]-8){ue=7;break e}ue[0]=fe,Ce[0]+=12,Ne[0]-=12}ue=0}if(ue!=0)return ue;for(fe=0<pe.gb[0],v=v[0];;){e:{var ke=d;Ne=h,ue=v;var Ee=X,Se=de,$e=Ce=[0];if((Ue=xe=[xe])[0]=0,8>ue[0])ue=7;else{if(!r(ke,Ne[0],"VP8X")){if(_e(ke,Ne[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Fe=_e(ke,Ne[0]+8),tt=1+De(ke,Ne[0]+12);if(2147483648<=tt*(ke=1+De(ke,Ne[0]+15))){ue=3;break e}$e!=null&&($e[0]=Fe),Ee!=null&&(Ee[0]=tt),Se!=null&&(Se[0]=ke),Ne[0]+=18,ue[0]-=18,Ue[0]=1}ue=0}}if(xe=xe[0],Ce=Ce[0],ue!=0)return ue;if(Ne=!!(2&Ce),!fe&&xe)return 3;if(B!=null&&(B[0]=!!(16&Ce)),O!=null&&(O[0]=Ne),F!=null&&(F[0]=0),O=X[0],Ce=de[0],xe&&Ne&&H==null){ue=0;break}if(4>v){ue=7;break}if(fe&&xe||!fe&&!xe&&!r(d,h[0],"ALPH")){v=[v],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Fe=d,ue=h,fe=v;var Ue=pe.gb;Ee=pe.na,Se=pe.P,$e=pe.Sa,tt=22,e(Fe!=null),e(fe!=null),ke=ue[0];var _t=fe[0];for(e(Ee!=null),e($e!=null),Ee[0]=null,Se[0]=null,$e[0]=0;;){if(ue[0]=ke,fe[0]=_t,8>_t){ue=7;break e}var Ft=_e(Fe,ke+4);if(4294967286<Ft){ue=3;break e}var Lt=8+Ft+1&-2;if(tt+=Lt,0<Ue&&tt>Ue){ue=3;break e}if(!r(Fe,ke,"VP8 ")||!r(Fe,ke,"VP8L")){ue=0;break e}if(_t[0]<Lt){ue=7;break e}r(Fe,ke,"ALPH")||(Ee[0]=Fe,Se[0]=ke+8,$e[0]=Ft),ke+=Lt,_t-=Lt}}if(v=v[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],ue!=0)break}v=[v],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(Ue=d,ue=h,fe=v,Ee=pe.gb[0],Se=pe.Ja,$e=pe.xa,Fe=ue[0],ke=!r(Ue,Fe,"VP8 "),tt=!r(Ue,Fe,"VP8L"),e(Ue!=null),e(fe!=null),e(Se!=null),e($e!=null),8>fe[0])ue=7;else{if(ke||tt){if(Ue=_e(Ue,Fe+4),12<=Ee&&Ue>Ee-12){ue=3;break e}if(be&&Ue>fe[0]-8){ue=7;break e}Se[0]=Ue,ue[0]+=8,fe[0]-=8,$e[0]=tt}else $e[0]=5<=fe[0]&&Ue[Fe+0]==47&&!(Ue[Fe+4]>>5),Se[0]=fe[0];ue=0}if(v=v[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],h=h[0],ue!=0)break;if(4294967286<pe.Ja)return 3;if(F==null||Ne||(F[0]=pe.xa?2:1),O=[O],Ce=[Ce],pe.xa){if(5>v){ue=7;break}F=O,be=Ce,Ne=B,d==null||5>v?d=0:5<=v&&d[h+0]==47&&!(d[h+4]>>5)?(fe=[0],Ue=[0],Ee=[0],D(Se=new C,d,h,v),nt(Se,fe,Ue,Ee)?(F!=null&&(F[0]=fe[0]),be!=null&&(be[0]=Ue[0]),Ne!=null&&(Ne[0]=Ee[0]),d=1):d=0):d=0}else{if(10>v){ue=7;break}F=Ce,d==null||10>v||!Lm(d,h+3,v-3)?d=0:(be=d[h+0]|d[h+1]<<8|d[h+2]<<16,Ne=16383&(d[h+7]<<8|d[h+6]),d=16383&(d[h+9]<<8|d[h+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=pe.Ja||!Ne||!d?d=0:(O&&(O[0]=Ne),F&&(F[0]=d),d=1))}if(!d||(O=O[0],Ce=Ce[0],xe&&(X[0]!=O||de[0]!=Ce)))return 3;H!=null&&(H[0]=pe,H.offset=h-H.w,e(4294967286>h-H.w),e(H.offset==H.ha-v));break}return ue==0||ue==7&&xe&&H==null?(B!=null&&(B[0]|=pe.na!=null&&0<pe.na.length),j!=null&&(j[0]=O),I!=null&&(I[0]=Ce),0):ue}function ph(d,h,v){var j=h.width,I=h.height,B=0,O=0,F=j,H=I;if(h.Da=d!=null&&0<d.Da,h.Da&&(F=d.cd,H=d.bd,B=d.v,O=d.j,11>v||(B&=-2,O&=-2),0>B||0>O||0>=F||0>=H||B+F>j||O+H>I))return 0;if(h.v=B,h.j=O,h.va=B+F,h.o=O+H,h.U=F,h.T=H,h.da=d!=null&&0<d.da,h.da){if(!ft(F,H,v=[d.ib],B=[d.hb]))return 0;h.ib=v[0],h.hb=B[0]}return h.ob=d!=null&&d.ob,h.Kb=d==null||!d.Sd,h.da&&(h.ob=h.ib<3*j/4&&h.hb<3*I/4,h.Kb=0),1}function gh(d){if(d==null)return 2;if(11>d.S){var h=d.f.RGBA;h.fb+=(d.height-1)*h.A,h.A=-h.A}else h=d.f.kb,d=d.height,h.O+=(d-1)*h.fa,h.fa=-h.fa,h.N+=(d-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(d-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(d-1)*h.lb,h.lb=-h.lb);return 0}function Id(d,h,v,j){if(j==null||0>=d||0>=h)return 2;if(v!=null){if(v.Da){var I=v.cd,B=v.bd,O=-2&v.v,F=-2&v.j;if(0>O||0>F||0>=I||0>=B||O+I>d||F+B>h)return 2;d=I,h=B}if(v.da){if(!ft(d,h,I=[v.ib],B=[v.hb]))return 2;d=I[0],h=B[0]}}j.width=d,j.height=h;e:{var H=j.width,X=j.height;if(d=j.S,0>=H||0>=X||!(d>=Xm&&13>d))d=2;else{if(0>=j.Rd&&j.sd==null){O=B=I=h=0;var de=(F=H*Ly[d])*X;if(11>d||(B=(X+1)/2*(h=(H+1)/2),d==12&&(O=(I=H)*X)),(X=i(de+2*B+O))==null){d=1;break e}j.sd=X,11>d?((H=j.f.RGBA).eb=X,H.fb=0,H.A=F,H.size=de):((H=j.f.kb).y=X,H.O=0,H.fa=F,H.Fd=de,H.f=X,H.N=0+de,H.Ab=h,H.Cd=B,H.ea=X,H.W=0+de+B,H.Db=h,H.Ed=B,d==12&&(H.F=X,H.J=0+de+2*B),H.Tc=O,H.lb=I)}if(h=1,I=j.S,B=j.width,O=j.height,I>=Xm&&13>I)if(11>I)d=j.f.RGBA,h&=(F=Math.abs(d.A))*(O-1)+B<=d.size,h&=F>=B*Ly[I],h&=d.eb!=null;else{d=j.f.kb,F=(B+1)/2,de=(O+1)/2,H=Math.abs(d.fa),X=Math.abs(d.Ab);var xe=Math.abs(d.Db),be=Math.abs(d.lb),pe=be*(O-1)+B;h&=H*(O-1)+B<=d.Fd,h&=X*(de-1)+F<=d.Cd,h=(h&=xe*(de-1)+F<=d.Ed)&H>=B&X>=F&xe>=F,h&=d.y!=null,h&=d.f!=null,h&=d.ea!=null,I==12&&(h&=be>=B,h&=pe<=d.Tc,h&=d.F!=null)}else h=0;d=h?0:2}}return d!=0||v!=null&&v.fd&&(d=gh(j)),d}var ts=64,Td=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_d=24,Bd=32,xh=8,Ws=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Re("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(d){return d},_.Predictor2=function(d,h,v){return h[v+0]},_.Predictor3=function(d,h,v){return h[v+1]},_.Predictor4=function(d,h,v){return h[v-1]},_.Predictor5=function(d,h,v){return ze(ze(d,h[v+1]),h[v+0])},_.Predictor6=function(d,h,v){return ze(d,h[v-1])},_.Predictor7=function(d,h,v){return ze(d,h[v+0])},_.Predictor8=function(d,h,v){return ze(h[v-1],h[v+0])},_.Predictor9=function(d,h,v){return ze(h[v+0],h[v+1])},_.Predictor10=function(d,h,v){return ze(ze(d,h[v-1]),ze(h[v+0],h[v+1]))},_.Predictor11=function(d,h,v){var j=h[v+0];return 0>=xt(j>>24&255,d>>24&255,(h=h[v-1])>>24&255)+xt(j>>16&255,d>>16&255,h>>16&255)+xt(j>>8&255,d>>8&255,h>>8&255)+xt(255&j,255&d,255&h)?j:d},_.Predictor12=function(d,h,v){var j=h[v+0];return(Ze((d>>24&255)+(j>>24&255)-((h=h[v-1])>>24&255))<<24|Ze((d>>16&255)+(j>>16&255)-(h>>16&255))<<16|Ze((d>>8&255)+(j>>8&255)-(h>>8&255))<<8|Ze((255&d)+(255&j)-(255&h)))>>>0},_.Predictor13=function(d,h,v){var j=h[v-1];return(ct((d=ze(d,h[v+0]))>>24&255,j>>24&255)<<24|ct(d>>16&255,j>>16&255)<<16|ct(d>>8&255,j>>8&255)<<8|ct(d>>0&255,j>>0&255))>>>0};var P1=_.PredictorAdd0;_.PredictorAdd1=wt,Re("Predictor2","PredictorAdd2"),Re("Predictor3","PredictorAdd3"),Re("Predictor4","PredictorAdd4"),Re("Predictor5","PredictorAdd5"),Re("Predictor6","PredictorAdd6"),Re("Predictor7","PredictorAdd7"),Re("Predictor8","PredictorAdd8"),Re("Predictor9","PredictorAdd9"),Re("Predictor10","PredictorAdd10"),Re("Predictor11","PredictorAdd11"),Re("Predictor12","PredictorAdd12"),Re("Predictor13","PredictorAdd13");var bh=_.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var $m,Bn=_.ColorIndexInverseTransform,Od=_.MapARGB,Wm=_.VP8LColorIndexInverseTransformAlpha,Qm=_.MapAlpha,Po=_.VP8LPredictorsAdd=[];Po.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Xl,Qs,Es,Lo,_i,Bi,Dd,Oi,Nr,vh,Is,On,Rd,Jm,yh,Zl,ec,Eo,tc,Fd,rc,Io,wh,Dn,Rn,Yt,Xt,jr,Mr=i(511),Di=i(2041),Nh=i(225),Md=i(767),Km=0,L1=Di,Ym=Nh,gn=Md,Fn=Mr,Xm=0,Zm=1,xy=2,ep=3,tp=4,E1=5,by=6,I1=7,T1=8,rp=9,_1=10,Wk=[2,3,7],Qk=[3,3,11],vy=[280,256,256,256,40],Jk=[0,1,1,1,0],Kk=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Yk=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xk=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zk=8,B1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],O1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jh=null,eS=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],tS=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rS=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sS=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],nS=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],aS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],To=[],ha=[],Ri=[],iS=1,wy=2,_o=[],Mn=[];je("UpsampleRgbLinePair",Ct,3),je("UpsampleBgrLinePair",or,3),je("UpsampleRgbaLinePair",ua,4),je("UpsampleBgraLinePair",qr,4),je("UpsampleArgbLinePair",ms,4),je("UpsampleRgba4444LinePair",_r,2),je("UpsampleRgb565LinePair",mr,2);var oS=_.UpsampleRgbLinePair,lS=_.UpsampleBgrLinePair,Ny=_.UpsampleRgbaLinePair,jy=_.UpsampleBgraLinePair,Ay=_.UpsampleArgbLinePair,ky=_.UpsampleRgba4444LinePair,cS=_.UpsampleRgb565LinePair,sp=16,np=1<<sp-1,Ah=-227,D1=482,Sy=6,dS=(256<<Sy)-1,Cy=0,uS=i(256),hS=i(256),fS=i(256),mS=i(256),pS=i(D1-Ah),gS=i(D1-Ah);Ya("YuvToRgbRow",Ct,3),Ya("YuvToBgrRow",or,3),Ya("YuvToRgbaRow",ua,4),Ya("YuvToBgraRow",qr,4),Ya("YuvToArgbRow",ms,4),Ya("YuvToRgba4444Row",_r,2),Ya("YuvToRgb565Row",mr,2);var Py=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ap=[0,2,8],xS=[8,7,6,4,4,2,2,2,1,1,1,1],bS=1;this.WebPDecodeRGBA=function(d,h,v,j,I){var B=Zm,O=new Pd,F=new na;O.ba=F,F.S=B,F.width=[F.width],F.height=[F.height];var H=F.width,X=F.height,de=new Li;if(de==null||d==null)var xe=2;else e(de!=null),xe=Ed(d,h,v,de.width,de.height,de.Pd,de.Qd,de.format,null);if(xe!=0?H=0:(H!=null&&(H[0]=de.width[0]),X!=null&&(X[0]=de.height[0]),H=1),H){F.width=F.width[0],F.height=F.height[0],j!=null&&(j[0]=F.width),I!=null&&(I[0]=F.height);e:{if(j=new wd,(I=new ch).data=d,I.w=h,I.ha=v,I.kd=1,h=[0],e(I!=null),((d=Ed(I.data,I.w,I.ha,null,null,null,h,null,I))==0||d==7)&&h[0]&&(d=4),(h=d)==0){if(e(O!=null),j.data=I.data,j.w=I.w+I.offset,j.ha=I.ha-I.offset,j.put=Va,j.ac=es,j.bc=Ga,j.ma=O,I.xa){if((d=_n())==null){O=1;break e}if(function(be,pe){var Ce=[0],Ne=[0],ue=[0];t:for(;;){if(be==null)return 0;if(pe==null)return be.a=2,0;if(be.l=pe,be.a=0,D(be.m,pe.data,pe.w,pe.ha),!nt(be.m,Ce,Ne,ue)){be.a=3;break t}if(be.xb=wy,pe.width=Ce[0],pe.height=Ne[0],!Qa(Ce[0],Ne[0],1,be,null))break t;return 1}return e(be.a!=0),0}(d,j)){if(j=(h=Id(j.width,j.height,O.Oa,O.ba))==0){t:{j=d;r:for(;;){if(j==null){j=0;break t}if(e(j.s.yc!=null),e(j.s.Ya!=null),e(0<j.s.Wb),e((v=j.l)!=null),e((I=v.ma)!=null),j.xb!=0){if(j.ca=I.ba,j.tb=I.tb,e(j.ca!=null),!ph(I.Oa,v,ep)){j.a=2;break r}if(!Wl(j,v.width)||v.da)break r;if((v.da||Ot(j.ca.S))&&ge(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&ge()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!Ye(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!la(j,j.V,j.Ba,j.c,j.i,v.o,pd))break r;I.Dc=j.Ma,j=1;break t}e(j.a!=0),j=0}j=!j}j&&(h=d.a)}else h=d.a}else{if((d=new c1)==null){O=1;break e}if(d.Fa=I.na,d.P=I.P,d.qc=I.Sa,Em(d,j)){if((h=Id(j.width,j.height,O.Oa,O.ba))==0){if(d.Aa=0,v=O.Oa,e((I=d)!=null),v!=null){if(0<(H=0>(H=v.Md)?0:100<H?255:255*H/100)){for(X=de=0;4>X;++X)12>(xe=I.pb[X]).lc&&(xe.ia=H*xS[0>xe.lc?0:xe.lc]>>3),de|=xe.ia;de&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=v.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}d1(d,j)||(h=d.a)}}else h=d.a}h==0&&O.Oa!=null&&O.Oa.fd&&(h=gh(O.ba))}O=h}B=O!=0?null:11>B?F.f.RGBA.eb:F.f.kb.y}else B=null;return B};var Ly=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(_,$){for(var J="",P=0;P<4;P++)J+=String.fromCharCode(_[$++]);return J}function f(_,$){return(_[$+0]<<0|_[$+1]<<8|_[$+2]<<16)>>>0}function m(_,$){return(_[$+0]<<0|_[$+1]<<8|_[$+2]<<16|_[$+3]<<24)>>>0}new c;var x=[0],p=[0],k=[],w=new c,N=t,y=function(_,$){var J={},P=0,S=!1,W=0,R=0;if(J.frames=[],!function(G,K,te,oe){for(var me=0;me<oe;me++)if(G[K+me]!=te.charCodeAt(me))return!0;return!1}(_,$,"RIFF",4)){var Z,Y;for(m(_,$+=4),$+=8;$<_.length;){var z=u(_,$),D=m(_,$+=4);$+=4;var Q=D+(1&D);switch(z){case"VP8 ":case"VP8L":J.frames[P]===void 0&&(J.frames[P]={}),(C=J.frames[P]).src_off=S?R:$-8,C.src_size=W+D+8,P++,S&&(S=!1,W=0,R=0);break;case"VP8X":(C=J.header={}).feature_flags=_[$];var q=$+4;C.canvas_width=1+f(_,q),q+=3,C.canvas_height=1+f(_,q),q+=3;break;case"ALPH":S=!0,W=Q+8,R=$-8;break;case"ANIM":(C=J.header).bgcolor=m(_,$),q=$+4,C.loop_count=(Z=_)[(Y=q)+0]<<0|Z[Y+1]<<8,q+=2;break;case"ANMF":var ee,C;(C=J.frames[P]={}).offset_x=2*f(_,$),$+=3,C.offset_y=2*f(_,$),$+=3,C.width=1+f(_,$),$+=3,C.height=1+f(_,$),$+=3,C.duration=f(_,$),$+=3,ee=_[$++],C.dispose=1&ee,C.blend=ee>>1&1}z!="ANMF"&&($+=Q)}return J}}(N,0);y.response=N,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,A=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,x=[b.canvas_height],p=[b.canvas_width];for(var E=0;E<A.length&&A[E].blend!=0;E++);}var U=A[0],V=w.WebPDecodeRGBA(N,U.src_off,U.src_size,p,x);U.rgba=V,U.imgwidth=p[0],U.imgheight=x[0];for(var M=0;M<p[0]*x[0]*4;M++)k[M]=V[M];return this.width=p,this.height=x,this.data=k,this}(function(t){var e=function(){return typeof O5=="function"},r=function(x,p,k,w){var N=4,y=o;switch(w){case t.image_compression.FAST:N=1,y=i;break;case t.image_compression.MEDIUM:N=6,y=l;break;case t.image_compression.SLOW:N=9,y=c}x=n(x,p,k,y);var b=O5(x,{level:N});return t.__addimage__.arrayBufferToBinaryString(b)},n=function(x,p,k,w){for(var N,y,b,A=x.length/p,E=new Uint8Array(x.length+A),U=f(),V=0;V<A;V+=1){if(b=V*p,N=x.subarray(b,b+p),w)E.set(w(N,k,y),b+V);else{for(var M,_=U.length,$=[];M<_;M+=1)$[M]=U[M](N,k,y);var J=m($.concat());E.set($[J],b+V)}y=N}return E},a=function(x){var p=Array.apply([],x);return p.unshift(0),p},i=function(x,p){var k,w=[],N=x.length;w[0]=1;for(var y=0;y<N;y+=1)k=x[y-p]||0,w[y+1]=x[y]-k+256&255;return w},o=function(x,p,k){var w,N=[],y=x.length;N[0]=2;for(var b=0;b<y;b+=1)w=k&&k[b]||0,N[b+1]=x[b]-w+256&255;return N},l=function(x,p,k){var w,N,y=[],b=x.length;y[0]=3;for(var A=0;A<b;A+=1)w=x[A-p]||0,N=k&&k[A]||0,y[A+1]=x[A]+256-(w+N>>>1)&255;return y},c=function(x,p,k){var w,N,y,b,A=[],E=x.length;A[0]=4;for(var U=0;U<E;U+=1)w=x[U-p]||0,N=k&&k[U]||0,y=k&&k[U-p]||0,b=u(w,N,y),A[U+1]=x[U]-b+256&255;return A},u=function(x,p,k){if(x===p&&p===k)return x;var w=Math.abs(p-k),N=Math.abs(x-k),y=Math.abs(x+p-k-k);return w<=N&&w<=y?x:N<=y?p:k},f=function(){return[a,i,o,l,c]},m=function(x){var p=x.map(function(k){return k.reduce(function(w,N){return w+Math.abs(N)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(x,p,k,w){var N,y,b,A,E,U,V,M,_,$,J,P,S,W,R,Z=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(b=new $B(x)).imgData,y=b.bits,N=b.colorSpace,E=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){_=(M=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,J=new Uint8Array(_*b.colors),$=new Uint8Array(_);var z,D=b.pixelBitlength-b.bits;for(W=0,R=0;W<_;W++){for(S=M[W],z=0;z<D;)J[R++]=S>>>z&255,z+=b.bits;$[W]=S>>>z&255}}if(b.bits===16){_=(M=new Uint32Array(b.decodePixels().buffer)).length,J=new Uint8Array(_*(32/b.pixelBitlength)*b.colors),$=new Uint8Array(_*(32/b.pixelBitlength)),P=b.colors>1,W=0,R=0;for(var Q=0;W<_;)S=M[W++],J[R++]=S>>>0&255,P&&(J[R++]=S>>>16&255,S=M[W++],J[R++]=S>>>0&255),$[Q++]=S>>>16&255;y=8}w!==t.image_compression.NONE&&e()?(x=r(J,b.width*b.colors,b.colors,w),V=r($,b.width,1,w)):(x=J,V=$,Z=void 0)}if(b.colorType===3&&(N=this.color_spaces.INDEXED,U=b.palette,b.transparency.indexed)){var q=b.transparency.indexed,ee=0;for(W=0,_=q.length;W<_;++W)ee+=q[W];if((ee/=255)===_-1&&q.indexOf(0)!==-1)A=[q.indexOf(0)];else if(ee!==_){for(M=b.decodePixels(),$=new Uint8Array(M.length),W=0,_=M.length;W<_;W++)$[W]=q[M[W]];V=r($,b.width,1)}}var C=function(G){var K;switch(G){case t.image_compression.FAST:K=11;break;case t.image_compression.MEDIUM:K=13;break;case t.image_compression.SLOW:K=14;break;default:K=12}return K}(w);return Z===this.decode.FLATE_DECODE&&(Y="/Predictor "+C+" "),Y+="/Colors "+E+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:k,data:x,index:p,filter:Z,decodeParameters:Y,transparency:A,palette:U,sMask:V,predictor:C,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:N}}}})(at.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new WB(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new Qb(100).encode(u,100);return t.processJPEG.call(this,f,r,n,a)},t.processGIF87A=t.processGIF89A}(at.API),ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ga.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Kt.log("bit decode error:"+r)}},ga.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ga.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ga.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},ga.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},ga.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,f=a*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},ga.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ga.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},ga.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new ga(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Qb(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(at.API),J3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new J3(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},u=new Qb(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(at.API),at.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var f=n[u],m=n[u+1],x=n[u+2],p=n[u+3];i[l++]=f,i[l++]=m,i[l++]=x,o[c++]=p}var k=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:k,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Kd=at.API,Wp=Kd.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,x=0,p=t.length,k=0,w=l[0]||c,N=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?N.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(x=m&&Ht(u[n])==="object"&&!isNaN(parseInt(u[n][k],10))?u[n][k]/f:0,N.push((l[n]||w)/c+x)),k=n;return N},G3=Kd.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Kd.processArabic&&(t=Kd.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Wp.apply(this,arguments).reduce(function(i,o){return i+o},0)},$3=function(t,e,r,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},W3=function(t,e,r){r||(r={});var n,a,i,o,l,c,u,f=[],m=[f],x=r.textIndent||0,p=0,k=0,w=t.split(" "),N=Wp.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),b=[];w.map(function(E){(E=E.split(/\s*\n/)).length>1?b=b.concat(E.map(function(U,V){return(V&&U.length?`
`:"")+U})):b.push(E[0])}),w=b,c=G3.apply(this,[y,r])}for(i=0,o=w.length;i<o;i++){var A=0;if(n=w[i],c&&n[0]==`
`&&(n=n.substr(1),A=1),x+p+(k=(a=Wp.apply(this,[n,r])).reduce(function(E,U){return E+U},0))>e||A){if(k>e){for(l=$3.apply(this,[n,a,e-(x+p),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);k=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(E,U){return E+U},0)}else f=[n];m.push(f),x=k+c,p=N}else f.push(n),x+=p+k,p=N}return u=c?function(E,U){return(U?y:"")+E.join(" ")}:function(E){return E.join(" ")},m.map(u)},Kd.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(W3.apply(this,[n[l],o,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var x,p,k,w,N=["{"];for(var y in m){if(x=m[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof x=="number")x<0?(k=i(x).slice(3),w="-"):(k=i(x).slice(2),w=""),k=w+k.slice(0,-1)+n[k.slice(-1)];else{if(Ht(x)!=="object")throw new Error("Don't know what to do with value type "+Ht(x)+".");k=o(x)}N.push(p+k)}return N.push("}"),N.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,p,k,w,N={},y=1,b=N,A=[],E="",U="",V=m.length-1,M=1;M<V;M+=1)(w=m[M])=="'"?x?(k=x.join(""),x=void 0):x=[]:x?x.push(w):w=="{"?(A.push([b,k]),b={},k=void 0):w=="}"?((p=A.pop())[0][p[1]]=b,k=void 0,b=p[0]):w=="-"?y=-1:k===void 0?r.hasOwnProperty(w)?(E+=r[w],k=parseInt(E,16)*y,y=1,E=""):E+=w:r.hasOwnProperty(w)?(U+=r[w],b[k]=parseInt(U,16)*y,y=1,k=void 0,U=""):U+=w;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var x=m.font,p=f.Unicode[x.postScriptName];p&&(x.metadata.Unicode={},x.metadata.Unicode.widths=p.widths,x.metadata.Unicode.kerning=p.kerning);var k=u.Unicode[x.postScriptName];k&&(x.metadata.Unicode.encoding=k,x.encoding=k.codePages[0])}])}(at.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(uf(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(at),function(t){function e(){return(it.canvg?Promise.resolve(it.canvg):Qg(()=>import("./index.es-d73763d1.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}at.API.addSvgAsImage=function(r,n,a,i,o,l,c,u){if(isNaN(n)||isNaN(a))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=o;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(k){return k.fromString(m,r,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(x)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),n,a,i,o,c,u)})}}(),at.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},at.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,m=0;function x(k,w){var N,y=!1;for(N=0;N<k.length;N+=1)k[N]===w&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Ht(t)==="object"){for(a in t)if(i=t[a],x(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&x(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(f=0;f<i[u].length;f+=1)typeof i[u][f]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,w=[];for(k in r)r[k].explicitSet===!0&&(r[k].type==="name"?w.push("/"+k+" /"+r[k].value):w.push("/"+k+" "+r[k].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,x=i.length;m<x;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(i){var o,l,c,u,f,m,x;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,x=(l=Object.keys(i).sort(function(p,k){return p-k})).length;m<x;m++)o=l[m],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(u=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,x=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",k=0;k<x.length;k++)p+=String.fromCharCode(x[k]);var w=u();f({data:p,addLength1:!0,objectId:w}),c("endobj");var N=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+tu(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+tu(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+N+" 0 R"),c("/BaseFont /"+tu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);var k=u();f({data:x,addLength1:!0,objectId:k}),c("endobj");var w=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var N=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+k+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+tu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+tu(l.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,u=i.y,f=i.options||{},m=i.mutex||{},x=m.pdfEscape,p=m.activeFontKey,k=m.fonts,w=p,N="",y=0,b="",A=k[w].encoding;if(k[w].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:m};for(b=l,w=p,Array.isArray(l)&&(b=l[0]),y=0;y<b.length;y+=1)k[w].metadata.hasOwnProperty("cmap")&&(o=k[w].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),o||b[y].charCodeAt(0)<256&&k[w].metadata.hasOwnProperty("Unicode")?N+=b[y]:N+="";var E="";return parseInt(w.slice(1))<14||A==="WinAnsiEncoding"?E=x(N,w).split("").map(function(U){return U.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(E=r(N,k[w])),m.isHex=!0,{text:E,x:c,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,u,f,m=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,A=0;this.__bidiEngine__={};var E=function(P){var S=P.charCodeAt(),W=S>>8,R=w[W];return R!==void 0?m[256*R+(255&S)]:W===252||W===253?"AL":y.test(W)?"L":W===8?"R":"N"},U=function(P){for(var S,W=0;W<P.length;W++){if((S=E(P.charAt(W)))==="L")return!1;if(S==="R")return!0}return!1},V=function(P,S,W,R){var Z,Y,z,D,Q=S[R];switch(Q){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(Q="AN");break;case"AL":b=!0,Q="R";break;case"WS":Q="N";break;case"CS":R<1||R+1>=S.length||(Z=W[R-1])!=="EN"&&Z!=="AN"||(Y=S[R+1])!=="EN"&&Y!=="AN"?Q="N":b&&(Y="AN"),Q=Y===Z?Y:"N";break;case"ES":Q=(Z=R>0?W[R-1]:"B")==="EN"&&R+1<S.length&&S[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&W[R-1]==="EN"){Q="EN";break}if(b){Q="N";break}for(z=R+1,D=S.length;z<D&&S[z]==="ET";)z++;Q=z<D&&S[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(D=S.length,z=R+1;z<D&&S[z]==="NSM";)z++;if(z<D){var q=P[R],ee=q>=1425&&q<=2303||q===64286;if(Z=S[z],ee&&(Z==="R"||Z==="AL")){Q="R";break}}}Q=R<1||(Z=S[R-1])==="B"?"N":W[R-1];break;case"B":b=!1,a=!0,Q=A;break;case"S":i=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":Q="N"}return Q},M=function(P,S,W){var R=P.split("");return W&&_(R,W,{hiLevel:A}),R.reverse(),S&&S.reverse(),R.join("")},_=function(P,S,W){var R,Z,Y,z,D,Q=-1,q=P.length,ee=0,C=[],G=A?p:x,K=[];for(b=!1,a=!1,i=!1,Z=0;Z<q;Z++)K[Z]=E(P[Z]);for(Y=0;Y<q;Y++){if(D=ee,C[Y]=V(P,K,C,Y),R=240&(ee=G[D][k[C[Y]]]),ee&=15,S[Y]=z=G[ee][5],R>0)if(R===16){for(Z=Q;Z<Y;Z++)S[Z]=1;Q=-1}else Q=-1;if(G[ee][6])Q===-1&&(Q=Y);else if(Q>-1){for(Z=Q;Z<Y;Z++)S[Z]=z;Q=-1}K[Y]==="B"&&(S[Y]=0),W.hiLevel|=z}i&&function(te,oe,me){for(var ae=0;ae<me;ae++)if(te[ae]==="S"){oe[ae]=A;for(var ce=ae-1;ce>=0&&te[ce]==="WS";ce--)oe[ce]=A}}(K,S,q)},$=function(P,S,W,R,Z){if(!(Z.hiLevel<P)){if(P===1&&A===1&&!a)return S.reverse(),void(W&&W.reverse());for(var Y,z,D,Q,q=S.length,ee=0;ee<q;){if(R[ee]>=P){for(D=ee+1;D<q&&R[D]>=P;)D++;for(Q=ee,z=D-1;Q<z;Q++,z--)Y=S[Q],S[Q]=S[z],S[z]=Y,W&&(Y=W[Q],W[Q]=W[z],W[z]=Y);ee=D}ee++}}},J=function(P,S,W){var R=P.split(""),Z={hiLevel:A};return W||(W=[]),_(R,W,Z),function(Y,z,D){if(D.hiLevel!==0&&f)for(var Q,q=0;q<Y.length;q++)z[q]===1&&(Q=N.indexOf(Y[q]))>=0&&(Y[q]=N[Q+1])}(R,W,Z),$(2,R,S,W,Z),$(1,R,S,W,Z),R.join("")};return this.__bidiEngine__.doBidiReorder=function(P,S,W){if(function(Z,Y){if(Y)for(var z=0;z<Z.length;z++)Y[z]=z;l===void 0&&(l=U(Z)),u===void 0&&(u=U(Z))}(P,S),o||!c||u)if(o&&c&&l^u)A=l?1:0,P=M(P,S,W);else if(!o&&c&&u)A=l?1:0,P=J(P,S,W),P=M(P,S);else if(!o||l||c||u){if(o&&!c&&l^u)P=M(P,S),l?(A=0,P=J(P,S,W)):(A=1,P=J(P,S,W),P=M(P,S));else if(o&&l&&!c&&u)A=1,P=J(P,S,W),P=M(P,S);else if(!o&&!c&&l^u){var R=f;l?(A=1,P=J(P,S,W),A=0,f=!1,P=J(P,S,W),f=R):(A=0,P=J(P,S,W),P=M(P,S),A=1,f=!1,P=J(P,S,W),f=R,P=M(P,S))}}else A=0,P=J(P,S,W);else A=l?1:0,P=J(P,S,W);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,f=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ml(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new lO(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new QB(this.contents),this.head=new KB(this),this.name=new tO(this),this.cmap=new Hk(this),this.toUnicode={},this.hhea=new YB(this),this.maxp=new rO(this),this.hmtx=new sO(this),this.post=new ZB(this),this.os2=new XB(this),this.loca=new oO(this),this.glyf=new nO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ha,Ml=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),QB=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,o,l,c,u,f,m,x,p,k,w;for(w in p=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),o=Math.floor(m/c),f=16*p-m,(a=new Ml).writeInt(this.scalarType),a.writeShort(p),a.writeShort(m),a.writeShort(o),a.writeShort(f),i=16*p,u=a.pos+i,l=null,k=[],r)for(x=r[w],a.writeString(w),a.writeInt(t(x)),a.writeInt(u),a.writeInt(x.length),k=k.concat(x),w==="head"&&(l=u),u+=x.length;u%4;)k.push(0),u++;return a.write(k),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,o;for(r=qk.call(r);r.length%4;)r.push(0);for(i=new Ml(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),JB={}.hasOwnProperty,Pi=function(t,e){for(var r in e)JB.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ha=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var KB=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Ml).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),K3=function(){function t(e,r){var n,a,i,o,l,c,u,f,m,x,p,k,w,N,y,b,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),x=p/2,e.pos+=6,i=function(){var E,U;for(U=[],c=E=0;0<=x?E<x:E>x;c=0<=x?++E:--E)U.push(e.readUInt16());return U}(),e.pos+=2,w=function(){var E,U;for(U=[],c=E=0;0<=x?E<x:E>x;c=0<=x?++E:--E)U.push(e.readUInt16());return U}(),u=function(){var E,U;for(U=[],c=E=0;0<=x?E<x:E>x;c=0<=x?++E:--E)U.push(e.readUInt16());return U}(),f=function(){var E,U;for(U=[],c=E=0;0<=x?E<x:E>x;c=0<=x?++E:--E)U.push(e.readUInt16());return U}(),a=(this.length-e.pos+this.offset)/2,l=function(){var E,U;for(U=[],c=E=0;0<=a?E<a:E>a;c=0<=a?++E:--E)U.push(e.readUInt16());return U}(),c=y=0,A=i.length;y<A;c=++y)for(N=i[c],n=b=k=w[c];k<=N?b<=N:b>=N;n=k<=N?++b:--b)f[c]===0?o=n+u[c]:(o=l[f[c]/2+(n-k)-(x-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=m}return t.encode=function(e,r){var n,a,i,o,l,c,u,f,m,x,p,k,w,N,y,b,A,E,U,V,M,_,$,J,P,S,W,R,Z,Y,z,D,Q,q,ee,C,G,K,te,oe,me,ae,ce,Ae,Le,De;switch(R=new Ml,o=Object.keys(e).sort(function(_e,Ye){return _e-Ye}),r){case"macroman":for(w=0,N=function(){var _e=[];for(k=0;k<256;++k)_e.push(0);return _e}(),b={0:0},i={},Z=0,Q=o.length;Z<Q;Z++)b[ce=e[a=o[Z]]]==null&&(b[ce]=++w),i[a]={old:e[a],new:b[e[a]]},N[a]=b[e[a]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(N),{charMap:i,subtable:R.data,maxGlyphID:w+1};case"unicode":for(S=[],m=[],A=0,b={},n={},y=u=null,Y=0,q=o.length;Y<q;Y++)b[U=e[a=o[Y]]]==null&&(b[U]=++A),n[a]={old:U,new:b[U]},l=b[U]-a,y!=null&&l===u||(y&&m.push(y),S.push(a),u=l),y=a;for(y&&m.push(y),m.push(65535),S.push(65535),J=2*($=S.length),_=2*Math.pow(Math.log($)/Math.LN2,2),x=Math.log(_/2)/Math.LN2,M=2*$-_,c=[],V=[],p=[],k=z=0,ee=S.length;z<ee;k=++z){if(P=S[k],f=m[k],P===65535){c.push(0),V.push(0);break}if(P-(W=n[P].new)>=32768)for(c.push(0),V.push(2*(p.length+$-k)),a=D=P;P<=f?D<=f:D>=f;a=P<=f?++D:--D)p.push(n[a].new);else c.push(W-P),V.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*$+2*p.length),R.writeUInt16(0),R.writeUInt16(J),R.writeUInt16(_),R.writeUInt16(x),R.writeUInt16(M),me=0,C=m.length;me<C;me++)a=m[me],R.writeUInt16(a);for(R.writeUInt16(0),ae=0,G=S.length;ae<G;ae++)a=S[ae],R.writeUInt16(a);for(Ae=0,K=c.length;Ae<K;Ae++)l=c[Ae],R.writeUInt16(l);for(Le=0,te=V.length;Le<te;Le++)E=V[Le],R.writeUInt16(E);for(De=0,oe=p.length;De<oe;De++)w=p[De],R.writeUInt16(w);return{charMap:n,subtable:R.data,maxGlyphID:A+1}}},t}(),Hk=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new K3(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=K3.encode(r,n),(i=new Ml).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),YB=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),XB=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),ZB=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},e}(),eO=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},tO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,o,l,c,u,f,m,x,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=m=0,x=a.length;m<x;o=++m)i=a[o],r.pos=i.offset,f=r.readString(i.length),l=new eO(f,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),rO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),sO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)m.push(r.readInt16());return m}(),this.widths=(function(){var f,m,x,p;for(p=[],f=0,m=(x=this.metrics).length;f<m;f++)o=x[f],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),qk=[].slice,nO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,o,l,c,u,f,m,x;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Ml(n.read(i))).readShort(),f=c.readShort(),x=c.readShort(),u=c.readShort(),m=c.readShort(),this.cache[r]=l===-1?new iO(c,f,x,u,m):new aO(c,l,f,x,u,m),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)i=r[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},e}(),aO=function(){function t(e,r,n,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),iO=function(){function t(e,r,n,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ml(qk.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),oO=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,Ha),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var f=new Array(4*a.length),m=0;m<a.length;++m)f[4*m+3]=255&a[m],f[4*m+2]=(65280&a[m])>>8,f[4*m+1]=(16711680&a[m])>>16,f[4*m]=(4278190080&a[m])>>24;return f},e}(),lO=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,o,l,c,u,f,m,x,p,k,w,N,y;for(a in n=Hk.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},y=n.charMap)p[(c=y[a]).old]=c.new;for(k in x=n.maxGlyphID,o)k in p||(p[k]=x++);return f=function(b){var A,E;for(A in E={},b)E[b[A]]=A;return E}(p),m=Object.keys(f).sort(function(b,A){return b-A}),w=function(){var b,A,E;for(E=[],b=0,A=m.length;b<A;b++)l=m[b],E.push(f[l]);return E}(),i=this.font.glyf.encode(o,w,p),u=this.font.loca.encode(i.offsets,w),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e}();const cO=({user:t,showToast:e})=>{var W,R,Z,Y;const[r,n]=ie.useState(""),[a,i]=ie.useState(null),[o,l]=ie.useState(!1),[c,u]=ie.useState({isOpen:!1,herb:null}),[f,m]=ie.useState({quality:!1,purity:!1,authenticity:!1}),[x,p]=ie.useState(!1),[k,w]=ie.useState({isOpen:!1,txHash:null}),{isConnected:N,submitToBlockchain:y,connectWallet:b}=km(),A=(t==null?void 0:t.role)==="Admin",E=z=>{const D=Math.floor(Math.random()*9e5)+1e5;return`${(z==null?void 0:z.toUpperCase().slice(0,3))||"HRB"}-${D}`},U=()=>{try{const z=localStorage.getItem("ayurherb_processing_steps"),D=z?JSON.parse(z):{},Q=localStorage.getItem("ayurherb_lab_tests"),q=Q?JSON.parse(Q):{},ee=localStorage.getItem("ayurherb_verifications"),C=ee?JSON.parse(ee):{},G=localStorage.getItem("ayurherb_collections");return(G?JSON.parse(G):[]).map(oe=>{const me=oe.batchId||oe.id,ae=D[me]||[],ce=q[me]||[],Ae=C[me]&&C[me].verified;return{...oe,batchId:me,herbId:E(oe.herbName),processingSteps:ae,labTests:ce,hasProcessing:ae.length>0,hasTesting:ce.length>0,isVerified:Ae,verificationData:C[me]||null,status:ce.length>0?"tested":ae.length>0?"processed":"collected"}})}catch(z){return console.error("Error loading herb data:",z),[]}},V=z=>{const D=U(),Q=z.split("-")[0],q=D.find(ee=>{var C;return((C=ee.herbName)==null?void 0:C.toUpperCase().slice(0,3))===Q});return q?(q.herbId=z,q):null},M=async z=>{try{await navigator.clipboard.writeText(z),e(`ID copied to clipboard: ${z}`,"success")}catch{const Q=document.createElement("textarea");Q.value=z,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q),e(`ID copied to clipboard: ${z}`,"success")}},_=()=>{if(!r.trim()){e("Please enter a herb ID to search","warning");return}l(!0),setTimeout(()=>{const z=V(r.trim());z?(i(z),e(`Herb ${r} found successfully!`,"success")):(i(null),e(`Herb ID ${r} not found`,"error")),l(!1)},1e3)},$=z=>{z.key==="Enter"&&_()},J=z=>{if(!A){e&&e("Access denied. Admin privileges required.","error");return}u({isOpen:!0,herb:z}),m({quality:!1,purity:!1,authenticity:!1})},P=async()=>{var Q,q,ee;const{herb:z}=c;if(!Object.values(f).every(C=>C)){e&&e("Please complete all verification checks before proceeding.","warning");return}if(!N){e&&e("Please connect your wallet to verify on blockchain.","warning");try{await b()}catch{e&&e("Failed to connect wallet. Please try again.","error");return}}p(!0);try{const C={batchId:z.batchId,herbName:z.herbName,herbId:z.herbId,verificationChecks:f,verifiedBy:(t==null?void 0:t.name)||(t==null?void 0:t.email)||"Admin",verificationDate:new Date().toISOString(),adminAddress:(t==null?void 0:t.walletAddress)||"Admin",verificationStatus:"VERIFIED",qualityCheck:f.quality,purityCheck:f.purity,authenticityCheck:f.authenticity},G=await y(C);if(G.success){const K=JSON.parse(localStorage.getItem("ayurherb_verifications")||"{}");K[z.batchId]={...C,blockchain:G.blockchain,txHash:(Q=G.blockchain)==null?void 0:Q.transactionHash,blockNumber:(q=G.blockchain)==null?void 0:q.blockNumber,verified:!0,verifiedAt:new Date().toISOString()},localStorage.setItem("ayurherb_verifications",JSON.stringify(K)),i(te=>({...te,isVerified:!0,verificationData:K[z.batchId]})),u({isOpen:!1,herb:null}),w({isOpen:!0,txHash:(ee=G.blockchain)==null?void 0:ee.transactionHash}),e&&e("Herb verification completed successfully!","success")}}catch(C){console.error("Verification failed:",C),e&&e("Verification failed. Please try again.","error")}finally{p(!1)}},S=z=>{const D=new at,Q=D.internal.pageSize.width,q=D.internal.pageSize.height;let ee=20;const C=(K,te,oe,me=Q-20,ae=10)=>{D.setFontSize(ae);const ce=D.splitTextToSize(K,me);return D.text(ce,te,oe),oe+ce.length*(ae*.5)},G=(K=30)=>{ee+K>q-20&&(D.addPage(),ee=20)};try{D.setFillColor(34,197,94),D.rect(0,0,Q,40,"F"),D.setTextColor(255,255,255),D.setFontSize(24),D.setFont("helvetica","bold"),D.text("AyurHerb Supply Chain Report",Q/2,25,{align:"center"}),ee=50,D.setTextColor(0,0,0),D.setFillColor(240,240,240),D.rect(10,ee,Q-20,8,"F"),D.setFontSize(16),D.setFont("helvetica","bold"),D.text("HERB INFORMATION",15,ee+6),ee+=15,D.setFont("helvetica","normal"),ee=C(`Herb Name: ${z.herbName||"N/A"}`,15,ee,Q-30,12),ee=C(`Unique ID: ${z.herbId||"N/A"}`,15,ee+5,Q-30,12),ee=C(`Batch ID: ${z.batchId||"N/A"}`,15,ee+5,Q-30,12),ee=C(`Quantity: ${z.quantity||"N/A"}`,15,ee+5,Q-30,12),ee=C(`Location: ${z.location||"N/A"}`,15,ee+5,Q-30,12),ee=C(`Collector: ${z.collector||z.collectorId||"N/A"}`,15,ee+5,Q-30,12),ee=C(`Status: ${z.status?z.status.charAt(0).toUpperCase()+z.status.slice(1):"N/A"}`,15,ee+5,Q-30,12),ee=C(`Collection Date: ${z.harvestDate||z.submissionDate||new Date().toLocaleDateString()}`,15,ee+5,Q-30,12),z.isVerified&&(ee+=10,D.setFillColor(255,193,7),D.rect(10,ee,Q-20,8,"F"),D.setFontSize(14),D.setFont("helvetica","bold"),D.text("✓ ADMIN VERIFIED",15,ee+6),ee+=15,z.verificationData&&(D.setFont("helvetica","normal"),ee=C(`Verified By: ${z.verificationData.verifiedBy||"Admin"}`,15,ee,Q-30,10),ee=C(`Verification Date: ${new Date(z.verificationData.verificationDate).toLocaleString()}`,15,ee+3,Q-30,10),ee=C(`Quality Check: ${z.verificationData.qualityCheck?"✓ Passed":"✗ Not Verified"}`,15,ee+3,Q-30,10),ee=C(`Purity Check: ${z.verificationData.purityCheck?"✓ Passed":"✗ Not Verified"}`,15,ee+3,Q-30,10),ee=C(`Authenticity Check: ${z.verificationData.authenticityCheck?"✓ Passed":"✗ Not Verified"}`,15,ee+3,Q-30,10),z.verificationData.txHash&&(ee=C(`Blockchain TX: ${z.verificationData.txHash}`,15,ee+3,Q-30,8)))),ee+=15,G(50),z.processingSteps&&z.processingSteps.length>0&&(D.setFillColor(59,130,246),D.rect(10,ee,Q-20,8,"F"),D.setTextColor(255,255,255),D.setFontSize(16),D.setFont("helvetica","bold"),D.text(`PROCESSING STEPS (${z.processingSteps.length})`,15,ee+6),ee+=15,D.setTextColor(0,0,0),z.processingSteps.forEach((te,oe)=>{var me;G(40),D.setFillColor(245,245,245),D.rect(15,ee,Q-30,6,"F"),D.setFontSize(12),D.setFont("helvetica","bold"),D.text(`Step ${oe+1}: ${te.stepType||"Unknown Step"}`,20,ee+4),ee+=10,D.setFont("helvetica","normal"),ee=C(`Date: ${te.timestamp||te.date||"N/A"}`,20,ee,Q-40,10),te.temperature&&(ee=C(`Temperature: ${te.temperature}`,20,ee+3,Q-40,10)),te.duration&&(ee=C(`Duration: ${te.duration}`,20,ee+3,Q-40,10)),te.notes&&(ee=C(`Notes: ${te.notes}`,20,ee+3,Q-40,10)),(me=te.blockchain)!=null&&me.confirmed&&(ee=C("✓ Blockchain Verified",20,ee+3,Q-40,10)),ee+=8})),ee+=10,G(50),z.labTests&&z.labTests.length>0&&(D.setFillColor(16,185,129),D.rect(10,ee,Q-20,8,"F"),D.setTextColor(255,255,255),D.setFontSize(16),D.setFont("helvetica","bold"),D.text(`LAB TEST RESULTS (${z.labTests.length})`,15,ee+6),ee+=15,D.setTextColor(0,0,0),z.labTests.forEach((te,oe)=>{var ae,ce;G(40);const me=((ae=te.status)==null?void 0:ae.toLowerCase())==="passed"?[34,197,94]:((ce=te.status)==null?void 0:ce.toLowerCase())==="failed"?[239,68,68]:[245,158,11];D.setFillColor(...me),D.rect(15,ee,Q-30,6,"F"),D.setTextColor(255,255,255),D.setFontSize(12),D.setFont("helvetica","bold"),D.text(`Test ${oe+1}: ${te.testType||"Unknown Test"}`,20,ee+4),ee+=10,D.setTextColor(0,0,0),D.setFont("helvetica","normal"),ee=C(`Result: ${te.resultValue||"N/A"} ${te.unit||""}`,20,ee,Q-40,10),ee=C(`Status: ${te.status||"Pending"}`,20,ee+3,Q-40,10),ee=C(`Tester: ${te.tester||"Lab Technician"}`,20,ee+3,Q-40,10),ee=C(`Test Date: ${te.testDate||new Date().toLocaleDateString()}`,20,ee+3,Q-40,10),te.notes&&(ee=C(`Notes: ${te.notes}`,20,ee+3,Q-40,10)),ee+=8})),G(30),ee=Math.max(ee+20,q-40),D.setFillColor(100,100,100),D.rect(0,ee,Q,30,"F"),D.setTextColor(255,255,255),D.setFontSize(10),D.setFont("helvetica","normal"),D.text("Generated by AyurHerb Supply Chain System",Q/2,ee+10,{align:"center"}),D.text(`Report Generated: ${new Date().toLocaleString()}`,Q/2,ee+20,{align:"center"});const K=`AyurHerb_Report_${z.herbId||z.batchId||"Unknown"}_${new Date().toISOString().split("T")[0]}.pdf`;D.save(K),e&&e("PDF report downloaded successfully!","success")}catch(K){console.error("Error generating PDF:",K),e&&e("Failed to generate PDF report. Please try again.","error")}};return s.jsxs("div",{className:"space-y-8 p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500 to-blue-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Bt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-emerald-200 to-blue-300 bg-clip-text text-transparent mb-2",children:"Verification & Report"}),s.jsx("p",{className:"text-xl text-gray-300 font-light",children:"Comprehensive verification and reporting system for supply chain integrity"})]})]})})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-emerald-500/20 rounded-2xl blur-lg"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[s.jsx(an,{className:"w-6 h-6 text-emerald-400"}),"Herb Verification Search"]}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:r,onChange:z=>n(z.target.value),onKeyPress:$,placeholder:"Type or paste the Unique ID of Herb",className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all duration-200"}),s.jsx(an,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),s.jsx("button",{onClick:_,disabled:o,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 disabled:from-gray-600 disabled:to-gray-700 text-white font-semibold rounded-xl transition-all duration-200 flex items-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Searching..."]}):s.jsxs(s.Fragment,{children:[s.jsx(an,{className:"w-4 h-4"}),"Search"]})})]})]})]}),a&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-xl",children:s.jsx(as,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:a.herbName||"Unknown Herb"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 bg-emerald-500/30 border-2 border-emerald-500/50 rounded-xl shadow-lg backdrop-blur-sm",children:[s.jsxs("span",{className:"text-emerald-200 text-lg font-mono font-bold tracking-wide",children:["ID: ",a.herbId]}),s.jsx("button",{onClick:()=>M(a.herbId),className:"p-2 hover:bg-emerald-500/40 rounded-lg transition-colors duration-200 group",title:"Copy ID to clipboard",children:s.jsx(B0,{className:"w-4 h-4 text-emerald-300 group-hover:text-emerald-100"})})]}),s.jsxs("button",{onClick:()=>S(a),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-500 via-indigo-600 to-purple-600 hover:from-blue-600 hover:via-indigo-700 hover:to-purple-700 text-white font-bold rounded-xl transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/40 transform hover:scale-110 border-2 border-blue-400/30",title:"Download comprehensive PDF report",children:[s.jsx(Qc,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base font-extrabold",children:"Download Report"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-300",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"font-medium",children:a.quantity||"N/A"})]}),s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"font-medium",children:a.location||"N/A"})]})]})]})]}),s.jsxs("div",{className:"text-right space-y-2",children:[s.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${a.status==="tested"?"bg-emerald-500/20 border border-emerald-500/30":a.status==="processed"?"bg-blue-500/20 border border-blue-500/30":"bg-orange-500/20 border border-orange-500/30"}`,children:[a.status==="tested"?s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}):a.status==="processed"?s.jsx(is,{className:"w-4 h-4 text-blue-400"}):s.jsx(pt,{className:"w-4 h-4 text-orange-400"}),s.jsx("span",{className:`text-sm font-medium ${a.status==="tested"?"text-emerald-300":a.status==="processed"?"text-blue-300":"text-orange-300"}`,children:a.status==="tested"?"Tested":a.status==="processed"?"Processed":"Collected"})]}),a.isVerified&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-500/20 border border-yellow-500/40 rounded-full",children:[s.jsx(Ba,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-300 text-sm font-medium",children:"Admin Verified"})]}),A&&(a.isVerified?s.jsx("div",{className:"px-6 py-3 bg-gradient-to-r from-yellow-500 via-amber-500 to-orange-500 text-white font-bold rounded-xl cursor-default opacity-90 border-2 border-yellow-400/30 shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ba,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base font-extrabold",children:"Verified"})]})}):s.jsx("button",{onClick:()=>J(a),className:"px-6 py-3 bg-gradient-to-r from-yellow-500 via-amber-500 to-orange-500 hover:from-yellow-600 hover:via-amber-600 hover:to-orange-600 text-white font-bold rounded-xl transition-all duration-300 hover:shadow-2xl hover:shadow-yellow-500/40 transform hover:scale-110 border-2 border-yellow-400/30",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ba,{className:"w-5 h-5"}),s.jsx("span",{className:"text-base font-extrabold",children:"Verify"})]})}))]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[s.jsx(Ni,{className:"w-4 h-4"}),s.jsx("span",{children:new Date().toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Batch ID"}),s.jsx("p",{className:"text-emerald-400 font-bold text-sm",children:a.batchId})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Collector"}),s.jsx("p",{className:"text-white font-bold text-sm",children:a.collector||a.collectorId||"Unknown"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Processing Steps"}),s.jsxs("p",{className:"text-blue-400 font-bold text-sm",children:[((W=a.processingSteps)==null?void 0:W.length)||0," Steps"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Lab Tests"}),s.jsxs("p",{className:"text-green-400 font-bold text-sm",children:[((R=a.labTests)==null?void 0:R.length)||0," Tests"]})]})]}),a.processingSteps&&a.processingSteps.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(is,{className:"w-5 h-5 text-blue-400"}),"Processing Steps (",a.processingSteps.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.processingSteps.map((z,D)=>s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl blur opacity-60"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500/10 to-purple-500/5 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(is,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-lg font-bold text-white",children:z.stepType}),s.jsx("p",{className:"text-blue-300 text-sm",children:new Date().toLocaleDateString()})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(Bt,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"On-Chain"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Step Type"}),s.jsx("p",{className:"text-blue-400 font-bold text-sm",children:z.stepType})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Temperature"}),s.jsx("p",{className:"text-orange-400 font-bold text-sm",children:z.temperature?`${z.temperature}°C`:"N/A"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Duration"}),s.jsx("p",{className:"text-purple-400 font-bold text-sm",children:z.duration||"N/A"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Date"}),s.jsx("p",{className:"text-white font-bold text-sm",children:new Date().toLocaleDateString()})]})]}),z.notes&&s.jsxs("div",{className:"mt-3 p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Notes"}),s.jsx("p",{className:"text-gray-300 text-sm",children:z.notes})]}),z.blockchainTx&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Zr,{className:"w-3 h-3"}),s.jsxs("span",{children:["TX: ",z.blockchainTx.slice(0,10),"...",z.blockchainTx.slice(-6)]}),z.blockNumber&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsxs("span",{children:["Block: ",z.blockNumber]})]})]})]})]},D))})]}),a.labTests&&a.labTests.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Cn,{className:"w-5 h-5 text-green-400"}),"Lab Tests (",a.labTests.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.labTests.map((z,D)=>{var Q,q,ee,C,G,K,te,oe;return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-xl blur opacity-60"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/10 to-teal-500/5 backdrop-blur-sm border border-emerald-500/30 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:s.jsx(Cn,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-lg font-bold text-white",children:z.testType}),s.jsxs("p",{className:"text-emerald-300 text-sm",children:["by ",z.tester||"Lab Technician"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${((Q=z.status)==null?void 0:Q.toLowerCase())==="passed"?"bg-emerald-500/20 border border-emerald-500/30":((q=z.status)==null?void 0:q.toLowerCase())==="failed"?"bg-red-500/20 border border-red-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:[((ee=z.status)==null?void 0:ee.toLowerCase())==="passed"?s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}):((C=z.status)==null?void 0:C.toLowerCase())==="failed"?s.jsx(Il,{className:"w-4 h-4 text-red-400"}):s.jsx(zt,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:`text-sm font-medium ${((G=z.status)==null?void 0:G.toLowerCase())==="passed"?"text-emerald-300":((K=z.status)==null?void 0:K.toLowerCase())==="failed"?"text-red-300":"text-yellow-300"}`,children:z.status||"Pending"})]}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:new Date().toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Result Value"}),s.jsxs("p",{className:"text-emerald-400 font-bold text-sm",children:[z.resultValue," ",z.unit||""]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Status"}),s.jsx("p",{className:`font-bold text-sm ${((te=z.status)==null?void 0:te.toLowerCase())==="passed"?"text-emerald-400":((oe=z.status)==null?void 0:oe.toLowerCase())==="failed"?"text-red-400":"text-yellow-400"}`,children:z.status||"Pending"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Blockchain"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bt,{className:"w-3 h-3 text-emerald-400"}),s.jsx("p",{className:"text-emerald-400 font-bold text-xs",children:"Verified"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Test Date"}),s.jsx("p",{className:"text-white font-bold text-sm",children:new Date().toLocaleDateString()})]})]}),z.notes&&s.jsxs("div",{className:"mt-3 p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Notes"}),s.jsx("p",{className:"text-gray-300 text-sm",children:z.notes})]}),z.blockchainTx&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Zr,{className:"w-3 h-3"}),s.jsxs("span",{children:["TX: ",z.blockchainTx.slice(0,10),"...",z.blockchainTx.slice(-6)]}),z.blockNumber&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsxs("span",{children:["Block: ",z.blockNumber]})]})]})]})]},D)})})]})]})]}),!a&&!o&&s.jsx("div",{className:"flex items-center justify-center min-h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(an,{className:"w-12 h-12 text-emerald-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Search for Herb Verification"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Enter a herb ID above to view verification details"})]})}),c.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"relative max-w-2xl w-full",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500/30 via-amber-500/30 to-orange-500/30 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/95 via-gray-800/95 to-gray-900/95 backdrop-blur-xl border border-yellow-500/30 rounded-3xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-yellow-400 via-amber-500 to-orange-500 rounded-2xl blur-lg opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-yellow-500 via-amber-600 to-orange-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(Ba,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black bg-gradient-to-r from-white via-yellow-200 to-amber-300 bg-clip-text text-transparent",children:"Admin Verification"}),s.jsxs("p",{className:"text-yellow-300 font-medium",children:[((Z=c.herb)==null?void 0:Z.herbName)||"Unknown Herb"," - ",(Y=c.herb)==null?void 0:Y.herbId]})]})]}),s.jsx("button",{onClick:()=>u({isOpen:!1,herb:null}),className:"w-10 h-10 bg-red-500/20 hover:bg-red-500/30 border border-red-500/40 rounded-xl flex items-center justify-center transition-all duration-300 hover:scale-110",children:s.jsx(J0,{className:"w-5 h-5 text-red-400"})})]}),s.jsxs("div",{className:"space-y-6 mb-8",children:[s.jsx("h4",{className:"text-xl font-bold text-white mb-4",children:"Complete all verification checks:"}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-green-500/40 transition-all duration-300",children:s.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:f.quality,onChange:z=>m(D=>({...D,quality:z.target.checked})),className:"sr-only"}),s.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-300 ${f.quality?"bg-green-500 border-green-500":"border-gray-400 hover:border-green-400"}`,children:f.quality&&s.jsx(rt,{className:"w-4 h-4 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"text-lg font-bold text-white mb-1",children:"Quality Verification"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Confirm that the herb meets quality standards and specifications"})]})]})})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 to-cyan-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-blue-500/40 transition-all duration-300",children:s.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:f.purity,onChange:z=>m(D=>({...D,purity:z.target.checked})),className:"sr-only"}),s.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-300 ${f.purity?"bg-blue-500 border-blue-500":"border-gray-400 hover:border-blue-400"}`,children:f.purity&&s.jsx(rt,{className:"w-4 h-4 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"text-lg font-bold text-white mb-1",children:"Purity Verification"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Verify that the herb is free from contaminants and adulterants"})]})]})})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-purple-500/40 transition-all duration-300",children:s.jsxs("label",{className:"flex items-center gap-4 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:f.authenticity,onChange:z=>m(D=>({...D,authenticity:z.target.checked})),className:"sr-only"}),s.jsx("div",{className:`w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-300 ${f.authenticity?"bg-purple-500 border-purple-500":"border-gray-400 hover:border-purple-400"}`,children:f.authenticity&&s.jsx(rt,{className:"w-4 h-4 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"text-lg font-bold text-white mb-1",children:"Authenticity Verification"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Confirm the herb's identity and origin authenticity"})]})]})})]})]}),!N&&s.jsxs("div",{className:"mb-6 p-4 bg-orange-500/20 border border-orange-500/40 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nn,{className:"w-5 h-5 text-orange-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-300 font-medium",children:"Wallet Connection Required"}),s.jsx("p",{className:"text-orange-200 text-sm",children:"Connect your wallet to verify on Sepolia blockchain"})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Xx,{})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>u({isOpen:!1,herb:null}),className:"flex-1 px-6 py-3 bg-gray-600/50 hover:bg-gray-600/70 border border-gray-500/50 rounded-xl text-white font-medium transition-all duration-300",children:"Cancel"}),s.jsx("button",{onClick:P,disabled:x||!Object.values(f).every(z=>z),className:`flex-1 px-6 py-3 rounded-xl font-bold transition-all duration-300 ${x||!Object.values(f).every(z=>z)?"bg-gray-500/50 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 via-amber-500 to-orange-500 text-white hover:shadow-2xl hover:shadow-yellow-500/25 transform hover:scale-105"}`,children:x?s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}),s.jsx("span",{children:"Verifying..."})]}):s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(Bt,{className:"w-5 h-5"}),s.jsx("span",{children:"Verify on Blockchain"})]})})]})]})]})}),k.isOpen&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"relative max-w-lg w-full",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/30 via-emerald-500/30 to-teal-500/30 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-gray-900/95 via-gray-800/95 to-gray-900/95 backdrop-blur-xl border border-green-500/30 rounded-3xl p-8 text-center",children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-green-400 via-emerald-500 to-teal-500 rounded-full blur-2xl opacity-60 animate-pulse"}),s.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-green-500 via-emerald-600 to-teal-600 rounded-full flex items-center justify-center shadow-2xl mx-auto",children:s.jsx(rt,{className:"w-10 h-10 text-white"})})]}),s.jsx("h3",{className:"text-3xl font-black bg-gradient-to-r from-white via-green-200 to-emerald-300 bg-clip-text text-transparent mb-4",children:"Verification Confirmed!"}),s.jsx("p",{className:"text-green-300 font-medium mb-6",children:"The herb has been successfully verified and recorded on the Sepolia blockchain."}),k.txHash&&s.jsxs("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500/40 rounded-xl",children:[s.jsx("p",{className:"text-green-300 text-sm font-medium mb-2",children:"Transaction Hash:"}),s.jsx("p",{className:"text-white text-xs font-mono break-all",children:k.txHash}),s.jsxs("a",{href:`https://sepolia.etherscan.io/tx/${k.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 mt-3 px-4 py-2 bg-green-500/30 hover:bg-green-500/40 border border-green-500/50 rounded-lg text-green-300 text-sm font-medium transition-all duration-300",children:[s.jsx(Zr,{className:"w-4 h-4"}),"View on Etherscan"]})]}),s.jsx("button",{onClick:()=>w({isOpen:!1,txHash:null}),className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 via-emerald-500 to-teal-500 text-white font-bold rounded-xl transition-all duration-300 hover:shadow-2xl hover:shadow-green-500/25 transform hover:scale-105",children:"Continue"})]})]})})]})},dO=({user:t,showToast:e})=>{const r=Ci(),[n,a]=ie.useState(""),[i,o]=ie.useState([]),[l,c]=ie.useState([]),[u,f]=ie.useState(!0),[m,x]=ie.useState(!1),[p,k]=ie.useState("name"),[w,N]=ie.useState("all"),[y,b]=ie.useState(!1),[A,E]=ie.useState(null);ie.useEffect(()=>{U()},[]),ie.useEffect(()=>{M()},[n,i,p,w]);const U=async()=>{try{f(!0);const S=await ad.getBatches(),W=await ad.getProcessedBatches(),Z=[...S,...W].map(Y=>({id:Y.id,name:Y.herb,batchId:Y.batchId,farmer:Y.farmer,location:Y.location,quantity:Y.quantity,qualityScore:Y.qualityScore,qualityGrade:Y.qualityGrade,harvestDate:Y.harvestDate,status:Y.status,moisture:Y.moisture,processingSteps:Y.processingSteps||[],image:V(Y.herb)})).filter((Y,z,D)=>z===D.findIndex(Q=>Q.batchId===Y.batchId));o(Z)}catch{e("Failed to load products","error")}finally{f(!1)}},V=S=>({Ashwagandha:"🌿",Turmeric:"🟡",Brahmi:"🍃",Neem:"🌱",Tulsi:"🌿",Ginger:"🫚",Allovera:"🌵"})[S]||"🌿",M=()=>{if(!n.trim()){c([]);return}let S=[...i];x(!0),setTimeout(()=>{S=S.filter(W=>W.name.toLowerCase().includes(n.toLowerCase())||W.batchId.toLowerCase().includes(n.toLowerCase())||W.farmer.toLowerCase().includes(n.toLowerCase())||W.location.toLowerCase().includes(n.toLowerCase())),w!=="all"&&(S=S.filter(W=>W.status.toLowerCase()===w.toLowerCase())),S.sort((W,R)=>{switch(p){case"name":return W.name.localeCompare(R.name);case"quality":return(R.qualityScore||0)-(W.qualityScore||0);case"date":return new Date(R.harvestDate)-new Date(W.harvestDate);case"farmer":return W.farmer.localeCompare(R.farmer);default:return 0}}),c(S),x(!1)},500)},_=S=>{a(S.target.value)},$=S=>{r(`/product/${S}`)},J=S=>{const W=`🌿 AYURHERB PRODUCT DETAILS 🌿

📦 BATCH INFORMATION:
Batch ID: ${S.batchInfo.batchId}
Herb Type: ${S.batchInfo.herbType}
Location: ${S.batchInfo.location}
Quantity: ${S.batchInfo.quantity}
Quality: ${S.batchInfo.quality}
Harvest Date: ${S.batchInfo.harvestDate}

🔥 DRYING PROCESS:
Temperature: ${S.dryingProcess.temperature}
Duration: ${S.dryingProcess.duration}
Progress: ${S.dryingProcess.progress}

🧪 LAB TESTING RESULTS:
Test Type: ${S.labTesting.testType}
Result: ${S.labTesting.result}
Status: ${S.labTesting.status}
Test Date: ${S.labTesting.testDate}

🔐 VERIFICATION:
${S.verification.status}
Blockchain Ref: ${S.verification.blockchainRef}
${S.verification.certification}

Authentic Ayurvedic Product
Quality Assured
Blockchain Verified`;return`https://api.qrserver.com/v1/create-qr-code/?size=400x400&ecc=M&data=${encodeURIComponent(W)}`},P=S=>({verified:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",processing:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",completed:"bg-purple-500/20 text-purple-400 border-purple-500/30"})[S.toLowerCase()]||"bg-gray-500/20 text-gray-400 border-gray-500/30";return u?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-dark-700 rounded w-1/3 mb-6"}),s.jsx("div",{className:"h-16 bg-dark-700 rounded-xl mb-6"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((S,W)=>s.jsx("div",{className:"h-80 bg-dark-700 rounded-xl"},W))})]})}):s.jsxs("div",{className:"space-y-8 p-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500/20 via-blue-500/20 to-emerald-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500 to-emerald-500 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-primary-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(pt,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-primary-200 to-emerald-300 bg-clip-text text-transparent mb-2",children:"View Products"}),s.jsx("p",{className:"text-xl text-gray-300 font-light",children:"Search and explore our ayurvedic product catalog"}),s.jsx("div",{className:"flex items-center gap-4 mt-4",children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-emerald-300 text-sm font-medium",children:[l.length," Products Available"]})]})})]})]})})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-500/10 via-blue-500/10 to-emerald-500/10 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:s.jsx(an,{className:`w-5 h-5 ${m?"animate-spin":""} text-gray-400`})}),s.jsx("input",{type:"text",value:n,onChange:_,placeholder:"Search product name, batch ID, farmer, or location...",className:"w-full pl-12 pr-4 py-4 bg-dark-700/50 border border-dark-600 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500/50 transition-all duration-200"}),n&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:s.jsx("button",{onClick:()=>a(""),className:"text-gray-400 hover:text-white transition-colors",children:"✕"})})]}),n&&s.jsx("div",{className:"mt-3 text-sm text-gray-400",children:m?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"}),"Searching products..."]}):s.jsxs("span",{children:["Found ",l.length,' products matching "',n,'"']})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 rounded-xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-slate-800/90 to-slate-700/90 backdrop-blur-xl border border-slate-600/50 rounded-xl shadow-lg group-hover:border-blue-500/50 transition-all duration-300",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-lg flex items-center justify-center border border-blue-500/30 group-hover:from-blue-500/30 group-hover:to-purple-500/30 transition-all duration-300",children:s.jsx(N6,{className:"w-4 h-4 text-blue-400 group-hover:text-blue-300"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:w,onChange:S=>N(S.target.value),className:"appearance-none bg-transparent text-white font-semibold text-sm cursor-pointer focus:outline-none pr-8 min-w-[120px]",children:[s.jsx("option",{value:"all",className:"bg-slate-800 text-white py-2",children:"🌟 All Status"}),s.jsx("option",{value:"verified",className:"bg-slate-800 text-white py-2",children:"✅ Verified"}),s.jsx("option",{value:"processing",className:"bg-slate-800 text-white py-2",children:"⚡ Processing"}),s.jsx("option",{value:"pending",className:"bg-slate-800 text-white py-2",children:"⏳ Pending"}),s.jsx("option",{value:"completed",className:"bg-slate-800 text-white py-2",children:"🎉 Completed"})]}),s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-md flex items-center justify-center border border-blue-500/30",children:s.jsx("svg",{className:"w-3 h-3 text-blue-400 group-hover:text-blue-300 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]})]})]}),s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-primary-500/20 to-cyan-500/20 rounded-xl blur opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs("div",{className:"relative flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-slate-800/90 to-slate-700/90 backdrop-blur-xl border border-slate-600/50 rounded-xl shadow-lg group-hover:border-emerald-500/50 transition-all duration-300",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500/20 to-primary-500/20 rounded-lg flex items-center justify-center border border-emerald-500/30 group-hover:from-emerald-500/30 group-hover:to-primary-500/30 transition-all duration-300",children:s.jsx(vP,{className:"w-4 h-4 text-emerald-400 group-hover:text-emerald-300"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:p,onChange:S=>k(S.target.value),className:"appearance-none bg-transparent text-white font-semibold text-sm cursor-pointer focus:outline-none pr-8 min-w-[140px]",children:[s.jsx("option",{value:"name",className:"bg-slate-800 text-white py-2",children:"🔤 Sort by Name"}),s.jsx("option",{value:"quality",className:"bg-slate-800 text-white py-2",children:"⭐ Sort by Quality"}),s.jsx("option",{value:"date",className:"bg-slate-800 text-white py-2",children:"📅 Sort by Date"}),s.jsx("option",{value:"farmer",className:"bg-slate-800 text-white py-2",children:"👨‍🌾 Sort by Farmer"})]}),s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-emerald-500/20 to-primary-500/20 rounded-md flex items-center justify-center border border-emerald-500/30",children:s.jsx("svg",{className:"w-3 h-3 text-emerald-400 group-hover:text-emerald-300 transition-colors duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-slate-700/50 to-slate-600/50 rounded-lg border border-slate-500/30",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-slate-300 text-sm font-medium",children:n?`${l.length} ${l.length===1?"Product":"Products"}`:"Start searching..."})]})]})]})]}),l.length===0?s.jsx("div",{className:"text-center py-20",children:n?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-red-500/10 via-orange-500/10 to-yellow-500/10 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/5 via-white/2 to-transparent backdrop-blur-xl border border-white/10 rounded-3xl p-12 max-w-xl mx-auto",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-orange-500/30",children:s.jsx(pt,{className:"w-12 h-12 text-orange-400"})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"No Products Found"}),s.jsxs("p",{className:"text-gray-300 mb-6",children:['No products match your search "',s.jsx("span",{className:"text-primary-400 font-semibold",children:n}),'"']}),s.jsx("button",{onClick:()=>a(""),className:"px-6 py-3 bg-gradient-to-r from-primary-500 to-emerald-500 hover:from-primary-600 hover:to-emerald-600 text-white font-semibold rounded-xl transition-all duration-200 transform hover:scale-105",children:"Clear Search"})]})]}):s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-primary-500/10 via-blue-500/10 to-emerald-500/10 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/5 via-white/2 to-transparent backdrop-blur-xl border border-white/10 rounded-3xl p-12 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary-500/30 to-emerald-500/30 rounded-3xl blur opacity-50 animate-pulse"}),s.jsx("div",{className:"relative w-32 h-32 bg-gradient-to-br from-primary-500/20 to-emerald-500/20 rounded-3xl flex items-center justify-center mx-auto border border-primary-500/30 backdrop-blur-sm",children:s.jsx(an,{className:"w-16 h-16 text-primary-400"})})]}),s.jsx("h3",{className:"text-3xl font-black bg-gradient-to-r from-white via-primary-200 to-emerald-300 bg-clip-text text-transparent mb-4",children:"Search for Products"}),s.jsx("p",{className:"text-xl text-gray-300 mb-6 leading-relaxed",children:"Start typing in the search bar above to discover our premium ayurvedic products"}),s.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:["Ashwagandha","Turmeric","Brahmi","Neem","Allovera"].map((S,W)=>s.jsx("div",{onClick:()=>$(S),className:"group px-4 py-2 bg-gradient-to-r from-primary-500/20 to-emerald-500/20 hover:from-primary-500/30 hover:to-emerald-500/30 border border-primary-500/30 hover:border-primary-500/50 rounded-full text-primary-300 hover:text-primary-200 font-medium transition-all duration-300 transform hover:scale-105 cursor-pointer",style:{animationDelay:`${W*100}ms`},children:s.jsxs("span",{className:"relative",children:['Try "',S,'"']})},S))}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("span",{children:"Search by name"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),s.jsx("span",{children:"Search by farmer"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"1s"}}),s.jsx("span",{children:"Search by location"})]})]})]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map((S,W)=>s.jsx("div",{className:"group transform transition-all duration-700 hover:scale-[1.02] hover:-translate-y-2",style:{animationDelay:`${W*150}ms`,animation:"fadeInUp 0.8s ease-out forwards"},children:s.jsxs("div",{className:"relative h-full overflow-hidden",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary-500/30 via-blue-500/30 to-emerald-500/30 rounded-3xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-700"}),s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary-400/20 via-blue-400/20 to-emerald-400/20 rounded-2xl blur opacity-20 group-hover:opacity-40 transition-all duration-500"}),s.jsxs("div",{className:"relative h-full bg-gradient-to-br from-slate-800/90 via-slate-900/80 to-slate-800/90 backdrop-blur-2xl border border-slate-700/50 rounded-2xl overflow-hidden shadow-2xl group-hover:shadow-3xl group-hover:border-primary-500/30 transition-all duration-500",children:[s.jsxs("div",{className:"relative bg-gradient-to-r from-primary-500/10 via-blue-500/10 to-emerald-500/10 p-6 border-b border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary-500/30 to-emerald-500/30 rounded-2xl blur opacity-50 group-hover:opacity-80 transition-opacity duration-500"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-primary-500/20 to-emerald-500/20 rounded-2xl flex items-center justify-center border border-primary-500/30 backdrop-blur-sm",children:s.jsx("span",{className:"text-4xl filter drop-shadow-lg",children:S.image})})]}),s.jsxs("div",{className:`relative px-4 py-2 rounded-full text-xs font-bold border backdrop-blur-sm ${P(S.status)} shadow-lg`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent rounded-full"}),s.jsx("span",{className:"relative",children:S.status})]})]}),s.jsx("h3",{className:"text-2xl font-black bg-gradient-to-r from-white via-primary-200 to-emerald-300 bg-clip-text text-transparent mb-2 group-hover:from-primary-300 group-hover:to-emerald-400 transition-all duration-500",children:S.name}),s.jsxs("p",{className:"text-sm text-slate-400 font-medium",children:["Batch: ",s.jsx("span",{className:"text-primary-400",children:S.batchId})]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-slate-800/50 border border-slate-700/30 hover:bg-slate-700/50 transition-colors duration-300",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg flex items-center justify-center border border-blue-500/30",children:s.jsx(Si,{className:"w-4 h-4 text-blue-400"})}),s.jsx("span",{className:"text-slate-300 font-medium",children:S.farmer})]}),s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-slate-800/50 border border-slate-700/30 hover:bg-slate-700/50 transition-colors duration-300",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500/20 to-green-500/20 rounded-lg flex items-center justify-center border border-emerald-500/30",children:s.jsx(Zn,{className:"w-4 h-4 text-emerald-400"})}),s.jsx("span",{className:"text-slate-300 font-medium",children:S.location})]}),s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-slate-800/50 border border-slate-700/30 hover:bg-slate-700/50 transition-colors duration-300",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-lg flex items-center justify-center border border-purple-500/30",children:s.jsx(Ni,{className:"w-4 h-4 text-purple-400"})}),s.jsx("span",{className:"text-slate-300 font-medium",children:new Date(S.harvestDate).toLocaleDateString()})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/30 rounded-xl p-4 border border-slate-600/30 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Quality Score"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-500/20 rounded-lg border border-yellow-500/30",children:[s.jsx(on,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-yellow-300 font-bold text-sm",children:S.qualityScore||"N/A"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Quantity"}),s.jsx("span",{className:"text-white font-bold bg-primary-500/20 px-3 py-1 rounded-lg border border-primary-500/30",children:S.quantity})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Grade"}),s.jsx("span",{className:"text-emerald-300 font-bold bg-emerald-500/20 px-3 py-1 rounded-lg border border-emerald-500/30",children:S.qualityGrade||"Pending"})]})]}),S.processingSteps&&S.processingSteps.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/30 rounded-xl p-4 border border-slate-600/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-primary-500/20 to-blue-500/20 rounded-lg flex items-center justify-center border border-primary-500/30",children:s.jsx(pi,{className:"w-3 h-3 text-primary-400"})}),s.jsxs("p",{className:"text-sm text-slate-300 font-semibold",children:["Processing Steps: ",S.processingSteps.length]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.processingSteps.slice(0,3).map((R,Z)=>s.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-primary-500/20 to-blue-500/20 text-primary-300 text-xs font-medium rounded-full border border-primary-500/30 hover:from-primary-500/30 hover:to-blue-500/30 transition-all duration-300",children:R.step||R.stepType},Z)),S.processingSteps.length>3&&s.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-slate-600/50 to-slate-500/50 text-slate-300 text-xs font-medium rounded-full border border-slate-500/30",children:["+",S.processingSteps.length-3," more"]})]})]})]}),s.jsx("div",{className:"p-6 pt-0",children:s.jsxs("button",{className:"group/btn w-full relative overflow-hidden px-6 py-4 bg-gradient-to-r from-primary-500 via-blue-500 to-emerald-500 hover:from-primary-600 hover:via-blue-600 hover:to-emerald-600 text-white font-bold rounded-xl transition-all duration-300 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl hover:shadow-primary-500/25 transform hover:scale-[1.02]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 -translate-x-full group-hover/btn:translate-x-full transition-transform duration-700"}),s.jsxs("div",{className:"relative flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 bg-white/20 rounded-lg flex items-center justify-center",children:s.jsx(ki,{className:"w-4 h-4"})}),s.jsx("span",{className:"text-sm font-bold tracking-wide",children:"View Details"})]})]})})]})]})},S.id))}),y&&A&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"relative max-w-md w-full",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary-500/30 via-blue-500/30 to-emerald-500/30 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-2xl border border-white/20 rounded-3xl p-8 shadow-2xl",children:[s.jsx("button",{onClick:()=>b(!1),className:"absolute top-4 right-4 w-8 h-8 bg-red-500/20 hover:bg-red-500/30 border border-red-500/30 rounded-full flex items-center justify-center text-red-400 hover:text-red-300 transition-all duration-200",children:"✕"}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white via-primary-200 to-emerald-300 bg-clip-text text-transparent mb-2",children:"Allovera Product Details"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Scan the QR code to see details"})]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-2 bg-white/20 rounded-2xl blur"}),s.jsx("div",{className:"relative bg-white p-4 rounded-2xl",children:s.jsx("img",{src:J(A),alt:"QR Code for Allovera Details",className:"w-80 h-80 object-contain"})})]})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"}),s.jsx("p",{className:"text-emerald-300 font-medium text-sm",children:"Scan with any QR code reader"})]}),s.jsx("p",{className:"text-slate-400 text-xs",children:"The QR code contains complete product details and verification information"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/30 rounded-xl p-4 border border-slate-600/30 mb-6",children:[s.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-emerald-400"}),"Batch Information"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Batch ID:"}),s.jsx("span",{className:"text-white font-medium",children:A.batchInfo.batchId})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Herb Type:"}),s.jsx("span",{className:"text-white font-medium",children:A.batchInfo.herbType})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Quality:"}),s.jsx("span",{className:"text-emerald-400 font-medium",children:A.batchInfo.quality})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-400",children:"Quantity:"}),s.jsx("span",{className:"text-white font-medium",children:A.batchInfo.quantity})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{className:"w-full px-6 py-3 bg-gradient-to-r from-emerald-500 to-primary-500 hover:from-emerald-600 hover:to-primary-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 transform hover:scale-105",children:[s.jsx(pt,{className:"w-4 h-4"}),"Add Item to Cart"]}),s.jsxs("button",{className:"w-full px-6 py-3 bg-gradient-to-r from-primary-500 to-blue-500 hover:from-primary-600 hover:to-blue-600 text-white font-semibold rounded-xl transition-all duration-200 flex items-center justify-center gap-2 transform hover:scale-105",children:[s.jsx(on,{className:"w-4 h-4"}),"Buy Now"]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-xl",children:[s.jsx(Bt,{className:"w-5 h-5 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 font-medium text-sm",children:"Blockchain Verified • Ayush Certified"})]})]})]})})]})},uO=({user:t,showToast:e})=>{const{herbName:r}=Dx(),n=Ci(),[a,i]=ie.useState(!0),[o,l]=ie.useState(null),[c,u]=ie.useState(1);ie.useState(!1);const[f,m]=ie.useState(!1),[x,p]=ie.useState(0);ie.useEffect(()=>{k()},[r]);const k=async()=>{var V,M,_,$,J,P,S;try{i(!0);const W=localStorage.getItem("ayurherb_processing_steps"),R=W?JSON.parse(W):{},Z=localStorage.getItem("ayurherb_lab_tests"),Y=Z?JSON.parse(Z):{},z=localStorage.getItem("ayurherb_verifications"),D=z?JSON.parse(z):{},Q=localStorage.getItem("ayurherb_collections"),q=Q?JSON.parse(Q):[];let ee=null,C=null;Object.keys(R).forEach(ae=>{const ce=R[ae];if(ce.length>0){const Ae=q.find(Le=>{var De;return(Le.batchId===ae||Le.id===ae)&&((De=Le.herbName)==null?void 0:De.toLowerCase())===(r==null?void 0:r.toLowerCase())});Ae&&Ae.herbName&&(ee={batchId:ae,collection:Ae,processingSteps:ce,labTests:Y[ae]||[],verification:D[ae]||null},C=ae)}});const G=((V=ee==null?void 0:ee.verification)==null?void 0:V.verified)||!1;if(m(G),!G){e(`${r} is not yet verified by admin. Cannot purchase unverified products.`,"warning");return}if(!ee){e(`No processed batch found for ${r}`,"error");return}const oe=({allovera:380,ashwagandha:450,turmeric:280,brahmi:420,neem:220,tulsi:350}[r==null?void 0:r.toLowerCase()]||300)+Math.floor(Math.random()*100)-50;p(oe);const me={name:r,image:w(r),price:oe,originalPrice:oe+50,inStock:!0,stockCount:Math.floor(Math.random()*50)+10,rating:(4.2+Math.random()*.8).toFixed(1),reviews:Math.floor(Math.random()*200)+50,description:N(r),benefits:y(r),collection:ee.collection,processing:ee.processingSteps,labTests:ee.labTests,verification:ee.verification,batchId:ee.batchId,collectorId:((M=ee.collection)==null?void 0:M.collectorAddress)||((_=ee.collection)==null?void 0:_.collectorId)||(($=ee.collection)==null?void 0:$.collector)||"N/A",location:((J=ee.collection)==null?void 0:J.location)||"N/A",harvestDate:((P=ee.collection)==null?void 0:P.submissionDate)||((S=ee.collection)==null?void 0:S.harvestDate)||new Date().toISOString(),qualityGrade:"Premium (A++)",moisture:"8.5%",purity:"99.2%"};l(me)}catch(W){console.error("Error loading product data:",W),e("Failed to load product details","error")}finally{i(!1)}},w=V=>({Allovera:"🌵",Ashwagandha:"🌿",Turmeric:"🟡",Brahmi:"🍃",Neem:"🌱",Tulsi:"🌿"})[V]||"🌿",N=V=>({Allovera:"Premium quality organic Aloe Vera gel extract, known for its healing and moisturizing properties. Sourced from certified organic farms.",Ashwagandha:"High-quality Ashwagandha root powder, traditionally used for stress relief and energy enhancement. Standardized extract with optimal potency.",Turmeric:"Pure turmeric powder with high curcumin content, perfect for anti-inflammatory benefits and culinary use.",Brahmi:"Brahmi herb extract known for cognitive enhancement and memory support. Carefully processed to retain active compounds.",Neem:"Organic Neem leaf powder with natural antibacterial and antifungal properties. Ideal for skincare and health applications.",Tulsi:"Sacred Tulsi leaves, dried and powdered for maximum potency. Known for immune support and respiratory health."})[V]||"Premium quality ayurvedic herb with traditional medicinal properties.",y=V=>({Allovera:["Skin Healing","Moisturizing","Anti-inflammatory","Digestive Health"],Ashwagandha:["Stress Relief","Energy Boost","Immunity","Sleep Quality"],Turmeric:["Anti-inflammatory","Joint Health","Antioxidant","Digestive Aid"],Brahmi:["Memory Enhancement","Cognitive Support","Stress Relief","Mental Clarity"],Neem:["Antibacterial","Skin Health","Blood Purification","Immune Support"],Tulsi:["Respiratory Health","Immune Boost","Stress Relief","Antioxidant"]})[V]||["Natural Healing","Health Support","Traditional Medicine"],b=V=>{const M=`AYURHERB PRODUCT DETAILS

BATCH ID: ${V.batchId||"N/A"}
COLLECTOR ID: ${V.collectorId||"N/A"}

PROCESSING STEPS:
${V.processing&&V.processing.length>0?V.processing.map(($,J)=>`${J+1}. ${$.stepType||"Unknown Step"}
Temperature: ${$.temperature||"N/A"}
Duration: ${$.duration||"N/A"}
Date: ${$.timestamp?new Date($.timestamp).toLocaleDateString():$.date?new Date($.date).toLocaleDateString():"N/A"}`).join(`
`):"No processing steps recorded"}

LAB TEST RESULTS:
${V.labTests&&V.labTests.length>0?V.labTests.map(($,J)=>`${J+1}. ${$.testType||"Unknown Test"}
Result: ${$.resultValue||$.result||"N/A"}${$.unit?" "+$.unit:""}
Status: ${$.status||"Pending"}
Date: ${$.testDate?new Date($.testDate).toLocaleDateString():$.timestamp?new Date($.timestamp).toLocaleDateString():$.date?new Date($.date).toLocaleDateString():"N/A"}`).join(`
`):"No lab tests recorded"}`;return`https://api.qrserver.com/v1/create-qr-code/?size=500x500&ecc=M&data=${encodeURIComponent(M)}`},A=V=>{const M=c+V;M>=1&&M<=o.stockCount&&u(M)},E=()=>{const V={id:Date.now(),name:o.name,price:o.price,originalPrice:o.originalPrice,quantity:c,image:o.image,batchId:o.batchId,inStock:!0,stockCount:o.stockCount},M=JSON.parse(localStorage.getItem("ayurherb_cart")||"[]"),_=M.findIndex($=>$.batchId===V.batchId);_>=0?M[_].quantity+=c:M.push(V),localStorage.setItem("ayurherb_cart",JSON.stringify(M)),e(`${c} kg of ${o.name} added to cart!`,"success")},U=()=>{E(),n("/cart")};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-12 bg-slate-700 rounded-xl w-1/3"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"h-96 bg-slate-700 rounded-xl"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-8 bg-slate-700 rounded w-3/4"}),s.jsx("div",{className:"h-6 bg-slate-700 rounded w-1/2"}),s.jsx("div",{className:"h-32 bg-slate-700 rounded"})]})]})]})})}):f?o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>n("/view-product"),className:"flex items-center gap-2 px-4 py-2 bg-slate-700/50 hover:bg-slate-600/50 rounded-xl transition-all duration-200",children:[s.jsx(nd,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Products"})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Admin Verified"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-8xl mb-6",children:o.image}),s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent mb-2",children:o.name}),s.jsx("div",{className:"flex items-center justify-center gap-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(on,{className:"w-5 h-5 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-white font-semibold",children:o.rating}),s.jsxs("span",{className:"text-gray-400",children:["(",o.reviews," reviews)"]})]})}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-800/50 to-slate-700/30 rounded-2xl p-6 border border-slate-600/30",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center justify-center gap-2",children:[s.jsx(k6,{className:"w-5 h-5 text-emerald-400"}),"Product QR Code"]}),s.jsx("div",{className:"bg-white p-4 rounded-xl mx-auto w-fit",children:s.jsx("img",{src:b(o),alt:"Product QR Code",className:"w-64 h-64 object-contain"})}),s.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"Scan for complete traceability and verification details"})]})]})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/20 via-emerald-500/20 to-teal-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"text-gray-500 line-through text-xl",children:["₹",o.originalPrice]}),s.jsxs("span",{className:"text-3xl font-bold text-white",children:["₹",o.price]}),s.jsxs("span",{className:"text-sm font-medium text-white bg-red-500 px-2 py-1 rounded-full",children:[Math.round((o.originalPrice-o.price)/o.originalPrice*100),"% OFF"]})]}),s.jsx("p",{className:"text-gray-400",children:"per kg"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-emerald-400 font-semibold",children:"In Stock"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[o.stockCount," kg available"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("span",{className:"text-white font-medium",children:"Quantity:"}),s.jsxs("div",{className:"flex items-center gap-3 bg-slate-700/50 rounded-xl p-1",children:[s.jsx("button",{onClick:()=>A(-1),disabled:c<=1,className:"p-2 hover:bg-slate-600/50 rounded-lg transition-all duration-200 disabled:opacity-50",children:s.jsx(A6,{className:"w-4 h-4 text-gray-300"})}),s.jsxs("span",{className:"text-white font-semibold w-12 text-center",children:[c," kg"]}),s.jsx("button",{onClick:()=>A(1),disabled:c>=o.stockCount,className:"p-2 hover:bg-slate-600/50 rounded-lg transition-all duration-200 disabled:opacity-50",children:s.jsx(Ra,{className:"w-4 h-4 text-gray-300"})})]}),s.jsxs("div",{className:"text-emerald-400 font-bold",children:["Total: ₹",(o.price*c).toLocaleString()]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:E,className:"flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300",children:[s.jsx(ao,{className:"w-5 h-5"}),"Add to Cart"]}),s.jsxs("button",{onClick:U,className:"flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300",children:[s.jsx(yl,{className:"w-5 h-5"}),"Buy Now"]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Description"}),s.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:o.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Benefits:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.benefits.map((V,M)=>s.jsx("span",{className:"px-3 py-1 bg-emerald-500/20 text-emerald-300 text-sm rounded-full border border-emerald-500/30",children:V},M))})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500/20 via-orange-500/20 to-red-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5 text-yellow-400"}),"Batch Information"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Quality Grade:"}),s.jsx("span",{className:"text-emerald-400 font-medium",children:o.qualityGrade})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Location:"}),s.jsx("span",{className:"text-white font-medium",children:o.location})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Harvest Date:"}),s.jsx("span",{className:"text-white font-medium",children:new Date(o.harvestDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Purity:"}),s.jsx("span",{className:"text-emerald-400 font-medium",children:o.purity})]})]})]})]})]})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center py-16",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Product Not Found"}),s.jsx("button",{onClick:()=>n("/view-product"),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl",children:"Back to Products"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("button",{onClick:()=>n("/view-product"),className:"flex items-center gap-2 mb-6 px-4 py-2 bg-slate-700/50 hover:bg-slate-600/50 rounded-xl transition-all duration-200",children:[s.jsx(nd,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Products"})]}),s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-red-500/30 to-orange-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-red-500/20 to-orange-600/20 border-2 border-red-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm mx-auto",children:s.jsx(nn,{className:"w-12 h-12 text-red-400"})})]}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Product Not Verified"}),s.jsxs("p",{className:"text-gray-400 text-lg mb-8",children:[r," has not been verified by an admin yet. Only verified products can be purchased."]}),s.jsx("button",{onClick:()=>n("/view-product"),className:"px-8 py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300",children:"Browse Verified Products"})]})]})})},hO=()=>{const[t,e]=ie.useState([]),[r,n]=ie.useState(!0),[a,i]=ie.useState(""),[o,l]=ie.useState(!1);ie.useEffect(()=>{c()},[]);const c=()=>{try{n(!0);const U=JSON.parse(localStorage.getItem("ayurherb_cart")||"[]").map(V=>({...V,description:u(V.name),category:f(V.name),rating:(4.2+Math.random()*.8).toFixed(1),reviews:Math.floor(Math.random()*200)+50,benefits:m(V.name),seller:"AyurHerb Premium"}));e(U)}catch(E){console.error("Error loading cart:",E)}finally{n(!1)}},u=E=>({Allovera:"Premium quality organic Aloe Vera gel extract",Ashwagandha:"Premium quality organic ashwagandha root powder",Turmeric:"High curcumin content turmeric extract capsules",Brahmi:"Pure brahmi oil for hair and scalp nourishment",Neem:"Organic Neem leaf powder with natural properties",Tulsi:"Sacred Tulsi leaves, dried and powdered"})[E]||"Premium quality ayurvedic herb product",f=E=>({Allovera:"Gel Extract",Ashwagandha:"Powders",Turmeric:"Capsules",Brahmi:"Oils",Neem:"Powders",Tulsi:"Powders"})[E]||"Herbs",m=E=>({Allovera:["Skin Healing","Moisturizing","Anti-inflammatory"],Ashwagandha:["Stress Relief","Energy Boost","Immunity"],Turmeric:["Anti-inflammatory","Joint Health","Antioxidant"],Brahmi:["Hair Growth","Memory Enhancement","Scalp Health"],Neem:["Antibacterial","Skin Health","Blood Purification"],Tulsi:["Respiratory Health","Immune Boost","Stress Relief"]})[E]||["Natural Healing","Health Support"],x=(E,U)=>{if(U<1)return;const V=t.map(_=>_.id===E?{..._,quantity:U}:_);e(V);const M=V.map(({description:_,category:$,rating:J,reviews:P,benefits:S,seller:W,...R})=>R);localStorage.setItem("ayurherb_cart",JSON.stringify(M))},p=E=>{const U=t.filter(M=>M.id!==E);e(U);const V=U.map(({description:M,category:_,rating:$,reviews:J,benefits:P,seller:S,...W})=>W);localStorage.setItem("ayurherb_cart",JSON.stringify(V))},k=()=>{a.toLowerCase()==="ayur10"&&l(!0)},w=t.reduce((E,U)=>E+U.price*U.quantity,0),N=t.reduce((E,U)=>E+(U.originalPrice-U.price)*U.quantity,0),y=o?w*.1:0,b=w>500?0:50,A=w-y+b;return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-12 bg-slate-700 rounded-xl w-1/3"}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:[...Array(3)].map((E,U)=>s.jsx("div",{className:"h-32 bg-slate-700 rounded-xl"},U))}),s.jsx("div",{className:"h-96 bg-slate-700 rounded-xl"})]})]})})}):t.length===0?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 border-2 border-emerald-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm mx-auto",children:s.jsx(ao,{className:"w-12 h-12 text-emerald-400"})})]}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Your Cart is Empty"}),s.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Discover our premium ayurvedic products and start your wellness journey"}),s.jsx("button",{className:"px-8 py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300",children:"Continue Shopping"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"p-2 bg-slate-700/50 hover:bg-slate-600/50 rounded-xl transition-all duration-200",children:s.jsx(nd,{className:"w-6 h-6 text-gray-300"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"Shopping Cart"}),s.jsxs("p",{className:"text-gray-400 mt-1",children:[t.length," items in your cart"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(Bt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Secure Checkout"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.map((E,U)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 rounded-2xl flex items-center justify-center text-4xl border border-emerald-500/30",children:E.image}),E.originalPrice>E.price&&s.jsxs("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:[Math.round((E.originalPrice-E.price)/E.originalPrice*100),"% OFF"]})]}),s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:E.name}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:E.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(on,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-gray-300",children:E.rating}),s.jsxs("span",{className:"text-gray-500",children:["(",E.reviews,")"]})]}),s.jsx("span",{className:"text-emerald-400 font-medium",children:E.seller})]})]}),s.jsx("button",{onClick:()=>p(E.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-all duration-200",children:s.jsx(S6,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:E.benefits.map((V,M)=>s.jsx("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 text-xs rounded-full border border-emerald-500/30",children:V},M))}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 bg-slate-700/50 rounded-xl p-1",children:[s.jsx("button",{onClick:()=>x(E.id,E.quantity-1),className:"p-2 hover:bg-slate-600/50 rounded-lg transition-all duration-200",children:s.jsx(A6,{className:"w-4 h-4 text-gray-300"})}),s.jsx("span",{className:"text-white font-semibold w-8 text-center",children:E.quantity}),s.jsx("button",{onClick:()=>x(E.id,E.quantity+1),className:"p-2 hover:bg-slate-600/50 rounded-lg transition-all duration-200",children:s.jsx(Ra,{className:"w-4 h-4 text-gray-300"})})]}),s.jsxs("div",{className:"text-sm text-gray-400",children:[E.stockCount," left in stock"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[E.originalPrice>E.price&&s.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["₹",E.originalPrice]}),s.jsxs("span",{className:"text-2xl font-bold text-white",children:["₹",E.price]})]}),s.jsxs("div",{className:"text-emerald-400 text-sm font-medium",children:["Total: ₹",(E.price*E.quantity).toLocaleString()]})]})]})]})]})})]},E.id))}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 via-purple-500/20 to-pink-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(yl,{className:"w-5 h-5 text-blue-400"}),"Order Summary"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-gray-300",children:[s.jsxs("span",{children:["Subtotal (",t.length," items)"]}),s.jsxs("span",{children:["₹",w.toLocaleString()]})]}),N>0&&s.jsxs("div",{className:"flex justify-between text-emerald-400",children:[s.jsx("span",{children:"You saved"}),s.jsxs("span",{children:["-₹",N.toLocaleString()]})]}),o&&s.jsxs("div",{className:"flex justify-between text-emerald-400",children:[s.jsx("span",{children:"Promo discount (10%)"}),s.jsxs("span",{children:["-₹",y.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-gray-300",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(W2,{className:"w-4 h-4"}),"Shipping"]}),s.jsx("span",{children:b===0?"FREE":`₹${b}`})]}),s.jsx("div",{className:"border-t border-gray-600 pt-4",children:s.jsxs("div",{className:"flex justify-between text-xl font-bold text-white",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["₹",A.toLocaleString()]})]})})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500/20 via-orange-500/20 to-red-500/20 rounded-2xl blur"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(zL,{className:"w-5 h-5 text-yellow-400"}),"Promo Code"]}),o?s.jsxs("div",{className:"flex items-center gap-2 text-emerald-400",children:[s.jsx(rt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:'Promo code "AYUR10" applied!'})]}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:a,onChange:E=>i(E.target.value),placeholder:"Enter promo code",className:"flex-1 px-4 py-3 bg-slate-700/50 border border-slate-600/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-500/50"}),s.jsx("button",{onClick:k,className:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white font-semibold rounded-xl hover:from-yellow-600 hover:to-orange-600 transition-all duration-300",children:"Apply"})]}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Try: AYUR10 for 10% off"})]})]}),s.jsx("button",{className:"w-full py-4 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-bold text-lg rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all duration-300 shadow-lg hover:shadow-emerald-500/25",children:"Proceed to Checkout"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/20 via-emerald-500/20 to-teal-500/20 rounded-2xl blur"}),s.jsx("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-emerald-400",children:[s.jsx(W2,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Free delivery on orders above ₹500"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-blue-400",children:[s.jsx(zt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Delivery in 2-3 business days"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-purple-400",children:[s.jsx(Bt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"100% authentic products"})]})]})})]})]})]})]})})},fO=({showToast:t})=>{const{collections:e}=K0(),[r,n]=ie.useState([]),[a,i]=ie.useState([]),[o,l]=ie.useState(""),[c,u]=ie.useState(!0),[f,m]=ie.useState({totalCollections:0,processedBatches:0,testedBatches:0,pendingProcessing:0,pendingTesting:0}),x=N=>{const y=Math.floor(Math.random()*9e5)+1e5;return`${(N==null?void 0:N.toUpperCase().slice(0,3))||"HRB"}-${y}`},p=async N=>{try{await navigator.clipboard.writeText(N),t(`ID copied to clipboard: ${N}`,"success")}catch{const b=document.createElement("textarea");b.value=N,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),t(`ID copied to clipboard: ${N}`,"success")}},k=()=>{try{const N=localStorage.getItem("ayurherb_processing_steps"),y=N?JSON.parse(N):{},b=localStorage.getItem("ayurherb_lab_tests"),A=b?JSON.parse(b):{};let E=e;if(!E||E.length===0){const P=localStorage.getItem("ayurherb_collections");E=P?JSON.parse(P):[]}const U=E.map(P=>{const S=P.batchId||P.id,W=y[S]||[],R=A[S]||[];return{...P,batchId:S,herbId:x(P.herbName),processingSteps:W,labTests:R,hasProcessing:W.length>0,hasTesting:R.length>0,status:R.length>0?"tested":W.length>0?"processed":"collected",lastActivity:R.length>0?R[R.length-1].testDate:W.length>0?W[W.length-1].timestamp||W[W.length-1].date:P.submissionDate||P.date}}),V=U.length,M=U.filter(P=>P.hasProcessing).length,_=U.filter(P=>P.hasTesting).length,$=U.filter(P=>!P.hasProcessing).length,J=U.filter(P=>P.hasProcessing&&!P.hasTesting).length;m({totalCollections:V,processedBatches:M,testedBatches:_,pendingProcessing:$,pendingTesting:J}),n(U),i(U),u(!1)}catch(N){console.error("Error loading comprehensive data:",N),t("Error loading data","error"),u(!1)}};ie.useEffect(()=>{k()},[e]),ie.useEffect(()=>{let N=r;o&&(N=N.filter(y=>{var b,A,E,U;return((b=y.herbName)==null?void 0:b.toLowerCase().includes(o.toLowerCase()))||((A=y.batchId)==null?void 0:A.toLowerCase().includes(o.toLowerCase()))||((E=y.location)==null?void 0:E.toLowerCase().includes(o.toLowerCase()))||((U=y.collector)==null?void 0:U.toLowerCase().includes(o.toLowerCase()))})),i(N)},[r,o]);const w=N=>{switch(N){case"tested":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-emerald-500/20 border border-emerald-500/30 rounded-full",children:[s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-sm font-medium",children:"Tested"})]});case"processed":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(is,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"Processed"})]});case"collected":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-orange-500/20 border border-orange-500/30 rounded-full",children:[s.jsx(pt,{className:"w-4 h-4 text-orange-400"}),s.jsx("span",{className:"text-orange-300 text-sm font-medium",children:"Collected"})]});default:return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-500/20 border border-gray-500/30 rounded-full",children:[s.jsx(zt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Unknown"})]})}};return c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-32 h-32 border-4 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin"}),s.jsx("div",{className:"absolute inset-0 w-32 h-32 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"relative text-6xl font-black tracking-tight",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400 via-teal-400 to-cyan-400 bg-clip-text text-transparent blur-sm opacity-50",children:"See Items"}),s.jsx("span",{className:"relative bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:"See Items"}),s.jsx("div",{className:"absolute -bottom-2 left-0 h-1 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 rounded-full animate-pulse",style:{width:"100%"}})]}),s.jsx("p",{className:"text-xl text-gray-300 font-light mt-4",children:"Comprehensive view of all collections, processing, and testing data"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/20 to-teal-500/10 backdrop-blur-xl border-2 border-emerald-500/30 rounded-2xl p-6 hover:border-emerald-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:s.jsx(pt,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-3xl font-black bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:f.totalCollections})]}),s.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Total Collections"}),s.jsx("p",{className:"text-emerald-300/80 text-sm",children:"All submitted batches"})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/30 to-purple-500/30 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500/20 to-purple-500/10 backdrop-blur-xl border-2 border-blue-500/30 rounded-2xl p-6 hover:border-blue-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(is,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-3xl font-black bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:f.processedBatches})]}),s.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Processed"}),s.jsx("p",{className:"text-blue-300/80 text-sm",children:"With processing steps"})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500/30 to-emerald-500/30 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-green-500/20 to-emerald-500/10 backdrop-blur-xl border-2 border-green-500/30 rounded-2xl p-6 hover:border-green-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:s.jsx(Cn,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-3xl font-black bg-gradient-to-r from-white to-green-200 bg-clip-text text-transparent",children:f.testedBatches})]}),s.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Tested"}),s.jsx("p",{className:"text-green-300/80 text-sm",children:"Lab tests completed"})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500/30 to-red-500/30 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-orange-500/20 to-red-500/10 backdrop-blur-xl border-2 border-orange-500/30 rounded-2xl p-6 hover:border-orange-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:s.jsx(zt,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-3xl font-black bg-gradient-to-r from-white to-orange-200 bg-clip-text text-transparent",children:f.pendingProcessing})]}),s.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Pending Processing"}),s.jsx("p",{className:"text-orange-300/80 text-sm",children:"Awaiting processing"})]})]}),s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-yellow-500/30 to-orange-500/30 rounded-2xl blur-lg opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-yellow-500/20 to-orange-500/10 backdrop-blur-xl border-2 border-yellow-500/30 rounded-2xl p-6 hover:border-yellow-400/50 transition-all duration-500",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-xl flex items-center justify-center",children:s.jsx(Cn,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-3xl font-black bg-gradient-to-r from-white to-yellow-200 bg-clip-text text-transparent",children:f.pendingTesting})]}),s.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Pending Testing"}),s.jsx("p",{className:"text-yellow-300/80 text-sm",children:"Ready for lab tests"})]})]})]}),s.jsx("div",{className:"flex flex-col lg:flex-row gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(an,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by herb name, batch ID, location, or collector...",value:o,onChange:N=>l(N.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-emerald-500/50 focus:bg-white/15 transition-all duration-300"})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 via-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-3xl p-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-2xl",children:s.jsx(ki,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-black bg-gradient-to-r from-white via-emerald-200 to-teal-300 bg-clip-text text-transparent",children:["All Items (",a.length,")"]}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Complete overview of all collections and their status"})]})]})}),a.length>0?s.jsx("div",{className:"space-y-6",children:a.map((N,y)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-blue-500/20 rounded-2xl blur opacity-0 group-hover:opacity-100 transition-all duration-300"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-white/8 to-white/12 backdrop-blur-sm border border-white/20 rounded-2xl p-8 hover:border-emerald-500/40 transition-all duration-300",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-5",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-teal-500 rounded-xl blur opacity-60"}),s.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-xl",children:s.jsx(as,{className:"w-8 h-8 text-white"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-emerald-200 bg-clip-text text-transparent",children:N.herbName||"Unknown Herb"}),s.jsxs("div",{className:"flex items-center gap-3 px-5 py-3 bg-emerald-500/30 border-2 border-emerald-500/50 rounded-xl shadow-lg backdrop-blur-sm",children:[s.jsxs("span",{className:"text-emerald-200 text-lg font-mono font-bold tracking-wide",children:["ID: ",N.herbId]}),s.jsx("button",{onClick:()=>p(N.herbId),className:"p-2 hover:bg-emerald-500/40 rounded-lg transition-colors duration-200 group",title:"Copy ID to clipboard",children:s.jsx(B0,{className:"w-4 h-4 text-emerald-300 group-hover:text-emerald-100"})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-300",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"font-medium",children:N.quantity||"N/A"})]}),s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"font-medium",children:N.location||"N/A"})]})]})]})]}),s.jsxs("div",{className:"text-right space-y-2",children:[w(N.status),s.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[s.jsx(Ni,{className:"w-4 h-4"}),s.jsx("span",{children:N.lastActivity||"N/A"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Batch ID"}),s.jsx("p",{className:"text-emerald-400 font-bold text-sm",children:N.batchId})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Collector"}),s.jsx("p",{className:"text-white font-bold text-sm",children:N.collector||N.collectorId||"Unknown"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Processing Steps"}),s.jsxs("p",{className:"text-blue-400 font-bold text-sm",children:[N.processingSteps.length," Steps"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Lab Tests"}),s.jsxs("p",{className:"text-green-400 font-bold text-sm",children:[N.labTests.length," Tests"]})]})]}),N.processingSteps.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(is,{className:"w-5 h-5 text-blue-400"}),"Processing Steps (",N.processingSteps.length,")"]}),s.jsx("div",{className:"space-y-4",children:N.processingSteps.map((b,A)=>s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl blur opacity-60"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-blue-500/10 to-purple-500/5 backdrop-blur-sm border border-blue-500/30 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(is,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-lg font-bold text-white",children:b.stepType}),s.jsx("p",{className:"text-blue-300 text-sm",children:new Date().toLocaleDateString()})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full",children:[s.jsx(Bt,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-blue-300 text-sm font-medium",children:"On-Chain"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Step Type"}),s.jsx("p",{className:"text-blue-400 font-bold text-sm",children:b.stepType})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Temperature"}),s.jsx("p",{className:"text-orange-400 font-bold text-sm",children:b.temperature?`${b.temperature}°C`:"N/A"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Duration"}),s.jsx("p",{className:"text-purple-400 font-bold text-sm",children:b.duration||"N/A"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Date"}),s.jsx("p",{className:"text-white font-bold text-sm",children:new Date().toLocaleDateString()})]})]}),b.notes&&s.jsxs("div",{className:"mt-3 p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Notes"}),s.jsx("p",{className:"text-gray-300 text-sm",children:b.notes})]}),b.blockchainTx&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Zr,{className:"w-3 h-3"}),s.jsxs("span",{children:["TX: ",b.blockchainTx.slice(0,10),"...",b.blockchainTx.slice(-6)]}),b.blockNumber&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsxs("span",{children:["Block: ",b.blockNumber]})]})]})]})]},A))})]}),N.labTests.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Cn,{className:"w-5 h-5 text-green-400"}),"Lab Tests (",N.labTests.length,")"]}),s.jsx("div",{className:"space-y-4",children:N.labTests.map((b,A)=>{var E,U,V,M,_,$,J,P;return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-500/20 to-teal-500/20 rounded-xl blur opacity-60"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-500/10 to-teal-500/5 backdrop-blur-sm border border-emerald-500/30 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:s.jsx(Cn,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-lg font-bold text-white",children:b.testType}),s.jsxs("p",{className:"text-emerald-300 text-sm",children:["by ",b.tester||"Lab Technician"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${((E=b.status)==null?void 0:E.toLowerCase())==="passed"?"bg-emerald-500/20 border border-emerald-500/30":((U=b.status)==null?void 0:U.toLowerCase())==="failed"?"bg-red-500/20 border border-red-500/30":"bg-yellow-500/20 border border-yellow-500/30"}`,children:[((V=b.status)==null?void 0:V.toLowerCase())==="passed"?s.jsx(rt,{className:"w-4 h-4 text-emerald-400"}):((M=b.status)==null?void 0:M.toLowerCase())==="failed"?s.jsx(Il,{className:"w-4 h-4 text-red-400"}):s.jsx(zt,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:`text-sm font-medium ${((_=b.status)==null?void 0:_.toLowerCase())==="passed"?"text-emerald-300":(($=b.status)==null?void 0:$.toLowerCase())==="failed"?"text-red-300":"text-yellow-300"}`,children:b.status||"Pending"})]}),s.jsx("p",{className:"text-gray-400 text-xs mt-1",children:new Date().toLocaleDateString()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Result Value"}),s.jsxs("p",{className:"text-emerald-400 font-bold text-sm",children:[b.resultValue," ",b.unit||""]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Status"}),s.jsx("p",{className:`font-bold text-sm ${((J=b.status)==null?void 0:J.toLowerCase())==="passed"?"text-emerald-400":((P=b.status)==null?void 0:P.toLowerCase())==="failed"?"text-red-400":"text-yellow-400"}`,children:b.status||"Pending"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Blockchain"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bt,{className:"w-3 h-3 text-emerald-400"}),s.jsx("p",{className:"text-emerald-400 font-bold text-xs",children:"Verified"})]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Test Date"}),s.jsx("p",{className:"text-white font-bold text-sm",children:new Date().toLocaleDateString()})]})]}),b.notes&&s.jsxs("div",{className:"mt-3 p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsx("p",{className:"text-gray-400 text-xs uppercase tracking-wide font-medium mb-1",children:"Notes"}),s.jsx("p",{className:"text-gray-300 text-sm",children:b.notes})]}),b.blockchainTx&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Zr,{className:"w-3 h-3"}),s.jsxs("span",{children:["TX: ",b.blockchainTx.slice(0,10),"...",b.blockchainTx.slice(-6)]}),b.blockNumber&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"w-1 h-1 bg-gray-500 rounded-full"}),s.jsxs("span",{children:["Block: ",b.blockNumber]})]})]})]})]},A)})})]})]})]},N.batchId||y))}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"relative mb-8",children:s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-emerald-500/30 to-teal-500/30 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-emerald-500/20 to-teal-600/20 border-2 border-emerald-500/30 rounded-3xl flex items-center justify-center backdrop-blur-sm",children:s.jsx(an,{className:"w-12 h-12 text-emerald-400"})})]})}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"No Items Found"}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:o?"Try adjusting your search criteria.":"No collections have been submitted yet."})]})]})]})]})]})})},mO=({message:t,type:e="info",onClose:r,duration:n=4e3})=>{ie.useEffect(()=>{if(n>0){const o=setTimeout(r,n);return()=>clearTimeout(o)}},[n,r]);const a=()=>{switch(e){case"success":return"bg-primary-500/20 border-primary-500/30 text-primary-400";case"error":return"bg-red-500/20 border-red-500/30 text-red-400";case"warning":return"bg-yellow-500/20 border-yellow-500/30 text-yellow-400";default:return"bg-blue-500/20 border-blue-500/30 text-blue-400"}},i=()=>{switch(e){case"success":return s.jsx(rt,{className:"w-5 h-5"});case"error":return s.jsx(nn,{className:"w-5 h-5"});case"warning":return s.jsx(nn,{className:"w-5 h-5"});default:return s.jsx($g,{className:"w-5 h-5"})}};return s.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-up",children:s.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border backdrop-blur-md ${a()}`,children:[i(),s.jsx("span",{className:"font-medium",children:t}),s.jsx("button",{onClick:r,className:"ml-2 hover:opacity-70 transition-opacity",children:s.jsx(J0,{className:"w-4 h-4"})})]})})};class pO extends mm.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){if(console.warn("Error caught by boundary:",e,r),e.message&&(e.message.includes("MetaMask")||e.message.includes("inpage.js")||e.message.includes("ethereum")||e.message.includes("Failed to connect"))){console.log("🔧 MetaMask-related error suppressed - using mock blockchain"),this.setState({hasError:!1});return}this.setState({error:e,errorInfo:r})}render(){return this.state.hasError&&this.state.error?s.jsx("div",{className:"min-h-screen bg-dark-900 text-white flex items-center justify-center p-4",children:s.jsx("div",{className:"max-w-md w-full bg-dark-800 rounded-lg p-6 border border-dark-700",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"⚠️"}),s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"The application encountered an unexpected error."}),s.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Reload Application"}),!1]})})}):this.props.children}}function gO(){const[t,e]=ie.useState(null),[r,n]=ie.useState(null);ie.useEffect(()=>{const l=localStorage.getItem("ayurherb_user");l&&e(JSON.parse(l))},[]);const a=l=>{e(l),localStorage.setItem("ayurherb_user",JSON.stringify(l)),o("Login successful!","success")},i=()=>{e(null),localStorage.removeItem("ayurherb_user"),o("Logged out successfully","info")},o=(l,c="info")=>{n({message:l,type:c}),setTimeout(()=>n(null),4e3)};return s.jsx(pO,{children:s.jsx(dE,{children:s.jsx(sB,{children:s.jsx(sP,{children:s.jsxs("div",{className:"min-h-screen bg-dark-900 text-white",children:[s.jsxs(K7,{children:[s.jsx(gr,{path:"/login",element:t?s.jsx(Ar,{to:"/dashboard"}):s.jsx(cE,{onLogin:a,showToast:o})}),s.jsx(gr,{path:"/dashboard",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(uE,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/collections",element:t?t.role==="Collector"?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(nB,{user:t,showToast:o})}):s.jsx(Ar,{to:"/dashboard"}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/settings",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(aB,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/verification-report",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(cO,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/see-items",element:t?t.role==="Admin"?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(fO,{user:t,showToast:o})}):s.jsx(Ar,{to:"/dashboard"}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/batches",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(Nk,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/see-item",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(cB,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/lab-test",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(E3,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/batch/:batchId",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(dB,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/add-processing/:batchId?",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(uB,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/view-product",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(dO,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/product/:herbName",element:t?t.role==="Customer"?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(uO,{user:t,showToast:o})}):s.jsx(Ar,{to:"/dashboard"}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/cart",element:t?t.role==="Customer"?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(hO,{user:t,showToast:o})}):s.jsx(Ar,{to:"/dashboard"}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/information",element:t?s.jsx(Ys,{user:t,onLogout:i,children:s.jsx(mE,{user:t,showToast:o})}):s.jsx(Ar,{to:"/login"})}),s.jsx(gr,{path:"/qr-details",element:s.jsx(pE,{})}),s.jsx(gr,{path:"/test-batches",element:s.jsx(iB,{})}),s.jsx(gr,{path:"/test-lab",element:s.jsx(lB,{})}),s.jsx(gr,{path:"/test-lab-test",element:s.jsx(E3,{user:{name:"Dr. Sarah Wilson",role:"Lab Tester"},showToast:console.log})}),s.jsx(gr,{path:"/scan/:batchId",element:s.jsx(fE,{showToast:o})}),s.jsx(gr,{path:"/",element:t?s.jsx(Ar,{to:"/dashboard"}):s.jsx(Ar,{to:"/login"})})]}),r&&s.jsx(mO,{message:r.message,type:r.type,onClose:()=>n(null)})]})})})})})}const xO={chainId:"0x1",chainName:"Ayurherb Mock Chain",rpcUrl:"https://mock-blockchain.ayurherb.com",blockExplorer:"https://mock-explorer.ayurherb.com"},r1=()=>"0x"+Array.from({length:64},()=>Math.floor(Math.random()*16).toString(16)).join(""),hy=()=>({blockNumber:Math.floor(Math.random()*1e6)+185e5,blockHash:r1(),timestamp:Math.floor(Date.now()/1e3),gasUsed:Math.floor(Math.random()*5e4)+21e3,gasPrice:Math.floor(Math.random()*20)+10}),Vk=async t=>{await new Promise(n=>setTimeout(n,1e3+Math.random()*2e3));const e=r1(),r=hy();return{success:!0,transactionHash:e,blockNumber:r.blockNumber,blockHash:r.blockHash,gasUsed:r.gasUsed,gasPrice:r.gasPrice,timestamp:r.timestamp,confirmations:Math.floor(Math.random()*10)+1,status:"confirmed",data:t}},s1=()=>{try{return typeof window<"u"&&typeof window.ethereum<"u"&&window.ethereum.isMetaMask===!0}catch(t){return console.warn("MetaMask check failed:",t.message),!1}},Gk=async()=>{if(s1())try{return{success:!0,account:(await window.ethereum.request({method:"eth_requestAccounts"}))[0],provider:"MetaMask"}}catch(t){console.warn("MetaMask connection failed:",t.message)}return{success:!0,account:"0x"+Array.from({length:40},()=>Math.floor(Math.random()*16).toString(16)).join(""),provider:"Mock Wallet",isMock:!0}},$k=(t,e="blockchain operation")=>(console.warn(`${e} failed:`,t.message),t.message.includes("MetaMask")?{success:!1,error:"Wallet connection not available. Using mock blockchain for demonstration.",isMockMode:!0}:{success:!1,error:`${e} failed: ${t.message}`,isMockMode:!1}),fy=()=>{const t=console.error;console.error=(...e)=>{const r=e.join(" ");r.includes("MetaMask")||r.includes("inpage.js")||r.includes("ethereum")||t.apply(console,e)},console.log("🔗 Ayurherb Mock Blockchain initialized"),console.log("📝 Using localStorage for data persistence"),s1()?console.log("🦊 MetaMask detected - real wallet integration available"):console.log("🔧 MetaMask not detected - using mock wallet for demonstration")},bO={generateMockTxHash:r1,generateMockBlock:hy,mockBlockchainTransaction:Vk,isMetaMaskAvailable:s1,safeConnectWallet:Gk,handleBlockchainError:$k,initBlockchain:fy,config:xO},vO=Object.freeze(Object.defineProperty({__proto__:null,default:bO,generateMockBlock:hy,generateMockTxHash:r1,handleBlockchainError:$k,initBlockchain:fy,isMetaMaskAvailable:s1,mockBlockchainTransaction:Vk,safeConnectWallet:Gk},Symbol.toStringTag,{value:"Module"}));fy();Jb.createRoot(document.getElementById("root")).render(s.jsx(mm.StrictMode,{children:s.jsx(gO,{})}));export{Ht as _,NO as c,_S as g};
